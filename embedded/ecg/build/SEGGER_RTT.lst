ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"SEGGER_RTT.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._GetAvailWriteSpace,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	_GetAvailWriteSpace:
  26              	.LVL0:
  27              	.LFB4:
  28              		.file 1 "Drivers/RTT/SEGGER_RTT.c"
   1:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
   2:Drivers/RTT/SEGGER_RTT.c **** *                    SEGGER Microcontroller GmbH                     *
   3:Drivers/RTT/SEGGER_RTT.c **** *                        The Embedded Experts                        *
   4:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
   5:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
   6:Drivers/RTT/SEGGER_RTT.c **** *            (c) 1995 - 2021 SEGGER Microcontroller GmbH             *
   7:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
   8:Drivers/RTT/SEGGER_RTT.c **** *       www.segger.com     Support: support@segger.com               *
   9:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  10:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
  11:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  12:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER RTT * Real Time Transfer for embedded targets         *
  13:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  14:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
  15:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  16:Drivers/RTT/SEGGER_RTT.c **** * All rights reserved.                                               *
  17:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  18:Drivers/RTT/SEGGER_RTT.c **** * SEGGER strongly recommends to not make any changes                 *
  19:Drivers/RTT/SEGGER_RTT.c **** * to or modify the source code of this software in order to stay     *
  20:Drivers/RTT/SEGGER_RTT.c **** * compatible with the RTT protocol and J-Link.                       *
  21:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  22:Drivers/RTT/SEGGER_RTT.c **** * Redistribution and use in source and binary forms, with or         *
  23:Drivers/RTT/SEGGER_RTT.c **** * without modification, are permitted provided that the following    *
  24:Drivers/RTT/SEGGER_RTT.c **** * condition is met:                                                  *
  25:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  26:Drivers/RTT/SEGGER_RTT.c **** * o Redistributions of source code must retain the above copyright   *
  27:Drivers/RTT/SEGGER_RTT.c **** *   notice, this condition and the following disclaimer.             *
  28:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  29:Drivers/RTT/SEGGER_RTT.c **** * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND             *
  30:Drivers/RTT/SEGGER_RTT.c **** * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,        *
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 2


  31:Drivers/RTT/SEGGER_RTT.c **** * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF           *
  32:Drivers/RTT/SEGGER_RTT.c **** * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE           *
  33:Drivers/RTT/SEGGER_RTT.c **** * DISCLAIMED. IN NO EVENT SHALL SEGGER Microcontroller BE LIABLE FOR *
  34:Drivers/RTT/SEGGER_RTT.c **** * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR           *
  35:Drivers/RTT/SEGGER_RTT.c **** * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT  *
  36:Drivers/RTT/SEGGER_RTT.c **** * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;    *
  37:Drivers/RTT/SEGGER_RTT.c **** * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF      *
  38:Drivers/RTT/SEGGER_RTT.c **** * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT          *
  39:Drivers/RTT/SEGGER_RTT.c **** * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE  *
  40:Drivers/RTT/SEGGER_RTT.c **** * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH   *
  41:Drivers/RTT/SEGGER_RTT.c **** * DAMAGE.                                                            *
  42:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  43:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
  44:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  45:Drivers/RTT/SEGGER_RTT.c **** *       RTT version: 7.20b                                           *
  46:Drivers/RTT/SEGGER_RTT.c **** *                                                                    *
  47:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
  48:Drivers/RTT/SEGGER_RTT.c **** 
  49:Drivers/RTT/SEGGER_RTT.c **** ---------------------------END-OF-HEADER------------------------------
  50:Drivers/RTT/SEGGER_RTT.c **** File    : SEGGER_RTT.c
  51:Drivers/RTT/SEGGER_RTT.c **** Purpose : Implementation of SEGGER real-time transfer (RTT) which
  52:Drivers/RTT/SEGGER_RTT.c ****           allows real-time communication on targets which support
  53:Drivers/RTT/SEGGER_RTT.c ****           debugger memory accesses while the CPU is running.
  54:Drivers/RTT/SEGGER_RTT.c **** Revision: $Rev: 22333 $
  55:Drivers/RTT/SEGGER_RTT.c **** 
  56:Drivers/RTT/SEGGER_RTT.c **** Additional information:
  57:Drivers/RTT/SEGGER_RTT.c ****           Type "int" is assumed to be 32-bits in size
  58:Drivers/RTT/SEGGER_RTT.c ****           H->T    Host to target communication
  59:Drivers/RTT/SEGGER_RTT.c ****           T->H    Target to host communication
  60:Drivers/RTT/SEGGER_RTT.c **** 
  61:Drivers/RTT/SEGGER_RTT.c ****           RTT channel 0 is always present and reserved for Terminal usage.
  62:Drivers/RTT/SEGGER_RTT.c ****           Name is fixed to "Terminal"
  63:Drivers/RTT/SEGGER_RTT.c **** 
  64:Drivers/RTT/SEGGER_RTT.c ****           Effective buffer size: SizeOfBuffer - 1
  65:Drivers/RTT/SEGGER_RTT.c **** 
  66:Drivers/RTT/SEGGER_RTT.c ****           WrOff == RdOff:       Buffer is empty
  67:Drivers/RTT/SEGGER_RTT.c ****           WrOff == (RdOff - 1): Buffer is full
  68:Drivers/RTT/SEGGER_RTT.c ****           WrOff >  RdOff:       Free space includes wrap-around
  69:Drivers/RTT/SEGGER_RTT.c ****           WrOff <  RdOff:       Used space includes wrap-around
  70:Drivers/RTT/SEGGER_RTT.c ****           (WrOff == (SizeOfBuffer - 1)) && (RdOff == 0):  
  71:Drivers/RTT/SEGGER_RTT.c ****                                 Buffer full and wrap-around after next byte
  72:Drivers/RTT/SEGGER_RTT.c **** 
  73:Drivers/RTT/SEGGER_RTT.c **** 
  74:Drivers/RTT/SEGGER_RTT.c **** ----------------------------------------------------------------------
  75:Drivers/RTT/SEGGER_RTT.c **** */
  76:Drivers/RTT/SEGGER_RTT.c **** 
  77:Drivers/RTT/SEGGER_RTT.c **** #include "SEGGER_RTT.h"
  78:Drivers/RTT/SEGGER_RTT.c **** 
  79:Drivers/RTT/SEGGER_RTT.c **** #include <string.h>                 // for memcpy
  80:Drivers/RTT/SEGGER_RTT.c **** 
  81:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
  82:Drivers/RTT/SEGGER_RTT.c **** *
  83:Drivers/RTT/SEGGER_RTT.c **** *       Configuration, default values
  84:Drivers/RTT/SEGGER_RTT.c **** *
  85:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
  86:Drivers/RTT/SEGGER_RTT.c **** */
  87:Drivers/RTT/SEGGER_RTT.c **** 
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 3


  88:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_CPU_CACHE_LINE_SIZE
  89:Drivers/RTT/SEGGER_RTT.c ****   #ifdef SEGGER_RTT_CB_ALIGN
  90:Drivers/RTT/SEGGER_RTT.c ****     #error "Custom SEGGER_RTT_CB_ALIGN() is not supported for SEGGER_RTT_CPU_CACHE_LINE_SIZE != 0"
  91:Drivers/RTT/SEGGER_RTT.c ****   #endif
  92:Drivers/RTT/SEGGER_RTT.c ****   #ifdef SEGGER_RTT_BUFFER_ALIGN
  93:Drivers/RTT/SEGGER_RTT.c ****     #error "Custom SEGGER_RTT_BUFFER_ALIGN() is not supported for SEGGER_RTT_CPU_CACHE_LINE_SIZE !=
  94:Drivers/RTT/SEGGER_RTT.c ****   #endif
  95:Drivers/RTT/SEGGER_RTT.c ****   #ifdef SEGGER_RTT_PUT_CB_SECTION
  96:Drivers/RTT/SEGGER_RTT.c ****     #error "Custom SEGGER_RTT_PUT_CB_SECTION() is not supported for SEGGER_RTT_CPU_CACHE_LINE_SIZE 
  97:Drivers/RTT/SEGGER_RTT.c ****   #endif
  98:Drivers/RTT/SEGGER_RTT.c ****   #ifdef SEGGER_RTT_PUT_BUFFER_SECTION
  99:Drivers/RTT/SEGGER_RTT.c ****     #error "Custom SEGGER_RTT_PUT_BUFFER_SECTION() is not supported for SEGGER_RTT_CPU_CACHE_LINE_S
 100:Drivers/RTT/SEGGER_RTT.c ****   #endif
 101:Drivers/RTT/SEGGER_RTT.c ****   #ifdef SEGGER_RTT_BUFFER_ALIGNMENT
 102:Drivers/RTT/SEGGER_RTT.c ****     #error "Custom SEGGER_RTT_BUFFER_ALIGNMENT is not supported for SEGGER_RTT_CPU_CACHE_LINE_SIZE 
 103:Drivers/RTT/SEGGER_RTT.c ****   #endif
 104:Drivers/RTT/SEGGER_RTT.c ****   #ifdef SEGGER_RTT_ALIGNMENT
 105:Drivers/RTT/SEGGER_RTT.c ****     #error "Custom SEGGER_RTT_ALIGNMENT is not supported for SEGGER_RTT_CPU_CACHE_LINE_SIZE != 0"
 106:Drivers/RTT/SEGGER_RTT.c ****   #endif
 107:Drivers/RTT/SEGGER_RTT.c **** #endif
 108:Drivers/RTT/SEGGER_RTT.c **** 
 109:Drivers/RTT/SEGGER_RTT.c **** #ifndef   BUFFER_SIZE_UP
 110:Drivers/RTT/SEGGER_RTT.c ****   #define BUFFER_SIZE_UP                                  1024  // Size of the buffer for terminal 
 111:Drivers/RTT/SEGGER_RTT.c **** #endif
 112:Drivers/RTT/SEGGER_RTT.c **** 
 113:Drivers/RTT/SEGGER_RTT.c **** #ifndef   BUFFER_SIZE_DOWN
 114:Drivers/RTT/SEGGER_RTT.c ****   #define BUFFER_SIZE_DOWN                                16    // Size of the buffer for terminal 
 115:Drivers/RTT/SEGGER_RTT.c **** #endif
 116:Drivers/RTT/SEGGER_RTT.c **** 
 117:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_MAX_NUM_UP_BUFFERS
 118:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_MAX_NUM_UP_BUFFERS                    2    // Number of up-buffers (T->H) avai
 119:Drivers/RTT/SEGGER_RTT.c **** #endif
 120:Drivers/RTT/SEGGER_RTT.c **** 
 121:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_MAX_NUM_DOWN_BUFFERS
 122:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_MAX_NUM_DOWN_BUFFERS                  2    // Number of down-buffers (H->T) av
 123:Drivers/RTT/SEGGER_RTT.c **** #endif
 124:Drivers/RTT/SEGGER_RTT.c **** 
 125:Drivers/RTT/SEGGER_RTT.c **** #ifndef SEGGER_RTT_BUFFER_SECTION
 126:Drivers/RTT/SEGGER_RTT.c ****   #if defined(SEGGER_RTT_SECTION)
 127:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_BUFFER_SECTION SEGGER_RTT_SECTION
 128:Drivers/RTT/SEGGER_RTT.c ****   #endif
 129:Drivers/RTT/SEGGER_RTT.c **** #endif
 130:Drivers/RTT/SEGGER_RTT.c **** 
 131:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_ALIGNMENT
 132:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_ALIGNMENT                            SEGGER_RTT_CPU_CACHE_LINE_SIZE
 133:Drivers/RTT/SEGGER_RTT.c **** #endif
 134:Drivers/RTT/SEGGER_RTT.c **** 
 135:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_BUFFER_ALIGNMENT
 136:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_BUFFER_ALIGNMENT                     SEGGER_RTT_CPU_CACHE_LINE_SIZE
 137:Drivers/RTT/SEGGER_RTT.c **** #endif
 138:Drivers/RTT/SEGGER_RTT.c **** 
 139:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_MODE_DEFAULT
 140:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_MODE_DEFAULT                         SEGGER_RTT_MODE_NO_BLOCK_SKIP
 141:Drivers/RTT/SEGGER_RTT.c **** #endif
 142:Drivers/RTT/SEGGER_RTT.c **** 
 143:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_LOCK
 144:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_LOCK()
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 4


 145:Drivers/RTT/SEGGER_RTT.c **** #endif
 146:Drivers/RTT/SEGGER_RTT.c **** 
 147:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_UNLOCK
 148:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_UNLOCK()
 149:Drivers/RTT/SEGGER_RTT.c **** #endif
 150:Drivers/RTT/SEGGER_RTT.c **** 
 151:Drivers/RTT/SEGGER_RTT.c **** #ifndef   STRLEN
 152:Drivers/RTT/SEGGER_RTT.c ****   #define STRLEN(a)                                       strlen((a))
 153:Drivers/RTT/SEGGER_RTT.c **** #endif
 154:Drivers/RTT/SEGGER_RTT.c **** 
 155:Drivers/RTT/SEGGER_RTT.c **** #ifndef   STRCPY
 156:Drivers/RTT/SEGGER_RTT.c ****   #define STRCPY(pDest, pSrc)                             strcpy((pDest), (pSrc))
 157:Drivers/RTT/SEGGER_RTT.c **** #endif
 158:Drivers/RTT/SEGGER_RTT.c **** 
 159:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_MEMCPY_USE_BYTELOOP
 160:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_MEMCPY_USE_BYTELOOP                  0
 161:Drivers/RTT/SEGGER_RTT.c **** #endif
 162:Drivers/RTT/SEGGER_RTT.c **** 
 163:Drivers/RTT/SEGGER_RTT.c **** #ifndef   SEGGER_RTT_MEMCPY
 164:Drivers/RTT/SEGGER_RTT.c ****   #ifdef  MEMCPY
 165:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_MEMCPY(pDest, pSrc, NumBytes)      MEMCPY((pDest), (pSrc), (NumBytes))
 166:Drivers/RTT/SEGGER_RTT.c ****   #else
 167:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_MEMCPY(pDest, pSrc, NumBytes)      memcpy((pDest), (pSrc), (NumBytes))
 168:Drivers/RTT/SEGGER_RTT.c ****   #endif
 169:Drivers/RTT/SEGGER_RTT.c **** #endif
 170:Drivers/RTT/SEGGER_RTT.c **** 
 171:Drivers/RTT/SEGGER_RTT.c **** #ifndef   MIN
 172:Drivers/RTT/SEGGER_RTT.c ****   #define MIN(a, b)         (((a) < (b)) ? (a) : (b))
 173:Drivers/RTT/SEGGER_RTT.c **** #endif
 174:Drivers/RTT/SEGGER_RTT.c **** 
 175:Drivers/RTT/SEGGER_RTT.c **** #ifndef   MAX
 176:Drivers/RTT/SEGGER_RTT.c ****   #define MAX(a, b)         (((a) > (b)) ? (a) : (b))
 177:Drivers/RTT/SEGGER_RTT.c **** #endif
 178:Drivers/RTT/SEGGER_RTT.c **** //
 179:Drivers/RTT/SEGGER_RTT.c **** // For some environments, NULL may not be defined until certain headers are included
 180:Drivers/RTT/SEGGER_RTT.c **** //
 181:Drivers/RTT/SEGGER_RTT.c **** #ifndef NULL
 182:Drivers/RTT/SEGGER_RTT.c ****   #define NULL 0
 183:Drivers/RTT/SEGGER_RTT.c **** #endif
 184:Drivers/RTT/SEGGER_RTT.c **** 
 185:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 186:Drivers/RTT/SEGGER_RTT.c **** *
 187:Drivers/RTT/SEGGER_RTT.c **** *       Defines, fixed
 188:Drivers/RTT/SEGGER_RTT.c **** *
 189:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
 190:Drivers/RTT/SEGGER_RTT.c **** */
 191:Drivers/RTT/SEGGER_RTT.c **** #if (defined __ICCARM__) || (defined __ICCRX__)
 192:Drivers/RTT/SEGGER_RTT.c ****   #define RTT_PRAGMA(P) _Pragma(#P)
 193:Drivers/RTT/SEGGER_RTT.c **** #endif
 194:Drivers/RTT/SEGGER_RTT.c **** 
 195:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_ALIGNMENT || SEGGER_RTT_BUFFER_ALIGNMENT
 196:Drivers/RTT/SEGGER_RTT.c ****   #if (defined __GNUC__)
 197:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_ALIGN(Var, Alignment) Var __attribute__ ((aligned (Alignment)))
 198:Drivers/RTT/SEGGER_RTT.c ****   #elif (defined __ICCARM__) || (defined __ICCRX__)
 199:Drivers/RTT/SEGGER_RTT.c ****     #define PRAGMA(A) _Pragma(#A)
 200:Drivers/RTT/SEGGER_RTT.c **** #define SEGGER_RTT_ALIGN(Var, Alignment) RTT_PRAGMA(data_alignment=Alignment) \
 201:Drivers/RTT/SEGGER_RTT.c ****                                   Var
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 5


 202:Drivers/RTT/SEGGER_RTT.c ****   #elif (defined __CC_ARM)
 203:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_ALIGN(Var, Alignment) Var __attribute__ ((aligned (Alignment)))
 204:Drivers/RTT/SEGGER_RTT.c ****   #else
 205:Drivers/RTT/SEGGER_RTT.c ****     #error "Alignment not supported for this compiler."
 206:Drivers/RTT/SEGGER_RTT.c ****   #endif
 207:Drivers/RTT/SEGGER_RTT.c **** #else
 208:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_ALIGN(Var, Alignment) Var
 209:Drivers/RTT/SEGGER_RTT.c **** #endif
 210:Drivers/RTT/SEGGER_RTT.c **** 
 211:Drivers/RTT/SEGGER_RTT.c **** #if defined(SEGGER_RTT_SECTION) || defined (SEGGER_RTT_BUFFER_SECTION)
 212:Drivers/RTT/SEGGER_RTT.c ****   #if (defined __GNUC__)
 213:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_PUT_SECTION(Var, Section) __attribute__ ((section (Section))) Var
 214:Drivers/RTT/SEGGER_RTT.c ****   #elif (defined __ICCARM__) || (defined __ICCRX__)
 215:Drivers/RTT/SEGGER_RTT.c **** #define SEGGER_RTT_PUT_SECTION(Var, Section) RTT_PRAGMA(location=Section) \
 216:Drivers/RTT/SEGGER_RTT.c ****                                         Var
 217:Drivers/RTT/SEGGER_RTT.c ****   #elif (defined __CC_ARM)
 218:Drivers/RTT/SEGGER_RTT.c ****     #define SEGGER_RTT_PUT_SECTION(Var, Section) __attribute__ ((section (Section), zero_init))  Va
 219:Drivers/RTT/SEGGER_RTT.c ****   #else
 220:Drivers/RTT/SEGGER_RTT.c ****     #error "Section placement not supported for this compiler."
 221:Drivers/RTT/SEGGER_RTT.c ****   #endif
 222:Drivers/RTT/SEGGER_RTT.c **** #else
 223:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_PUT_SECTION(Var, Section) Var
 224:Drivers/RTT/SEGGER_RTT.c **** #endif
 225:Drivers/RTT/SEGGER_RTT.c **** 
 226:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_ALIGNMENT
 227:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_CB_ALIGN(Var)  SEGGER_RTT_ALIGN(Var, SEGGER_RTT_ALIGNMENT)
 228:Drivers/RTT/SEGGER_RTT.c **** #else
 229:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_CB_ALIGN(Var)  Var
 230:Drivers/RTT/SEGGER_RTT.c **** #endif
 231:Drivers/RTT/SEGGER_RTT.c **** 
 232:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_BUFFER_ALIGNMENT
 233:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_BUFFER_ALIGN(Var)  SEGGER_RTT_ALIGN(Var, SEGGER_RTT_BUFFER_ALIGNMENT)
 234:Drivers/RTT/SEGGER_RTT.c **** #else
 235:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_BUFFER_ALIGN(Var)  Var
 236:Drivers/RTT/SEGGER_RTT.c **** #endif
 237:Drivers/RTT/SEGGER_RTT.c **** 
 238:Drivers/RTT/SEGGER_RTT.c **** 
 239:Drivers/RTT/SEGGER_RTT.c **** #if defined(SEGGER_RTT_SECTION)
 240:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_PUT_CB_SECTION(Var) SEGGER_RTT_PUT_SECTION(Var, SEGGER_RTT_SECTION)
 241:Drivers/RTT/SEGGER_RTT.c **** #else
 242:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_PUT_CB_SECTION(Var) Var
 243:Drivers/RTT/SEGGER_RTT.c **** #endif
 244:Drivers/RTT/SEGGER_RTT.c **** 
 245:Drivers/RTT/SEGGER_RTT.c **** #if defined(SEGGER_RTT_BUFFER_SECTION)
 246:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_PUT_BUFFER_SECTION(Var) SEGGER_RTT_PUT_SECTION(Var, SEGGER_RTT_BUFFER_SECTION)
 247:Drivers/RTT/SEGGER_RTT.c **** #else
 248:Drivers/RTT/SEGGER_RTT.c ****   #define SEGGER_RTT_PUT_BUFFER_SECTION(Var) Var
 249:Drivers/RTT/SEGGER_RTT.c **** #endif
 250:Drivers/RTT/SEGGER_RTT.c **** 
 251:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 252:Drivers/RTT/SEGGER_RTT.c **** *
 253:Drivers/RTT/SEGGER_RTT.c **** *       Static const data
 254:Drivers/RTT/SEGGER_RTT.c **** *
 255:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
 256:Drivers/RTT/SEGGER_RTT.c **** */
 257:Drivers/RTT/SEGGER_RTT.c **** 
 258:Drivers/RTT/SEGGER_RTT.c **** static unsigned char _aTerminalId[16] = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 6


 259:Drivers/RTT/SEGGER_RTT.c **** 
 260:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 261:Drivers/RTT/SEGGER_RTT.c **** *
 262:Drivers/RTT/SEGGER_RTT.c **** *       Static data
 263:Drivers/RTT/SEGGER_RTT.c **** *
 264:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
 265:Drivers/RTT/SEGGER_RTT.c **** */
 266:Drivers/RTT/SEGGER_RTT.c **** 
 267:Drivers/RTT/SEGGER_RTT.c **** //
 268:Drivers/RTT/SEGGER_RTT.c **** // RTT Control Block and allocate buffers for channel 0
 269:Drivers/RTT/SEGGER_RTT.c **** //
 270:Drivers/RTT/SEGGER_RTT.c **** SEGGER_RTT_PUT_CB_SECTION(SEGGER_RTT_CB_ALIGN(SEGGER_RTT_CB _SEGGER_RTT));
 271:Drivers/RTT/SEGGER_RTT.c **** SEGGER_RTT_PUT_BUFFER_SECTION(SEGGER_RTT_BUFFER_ALIGN(static char _acUpBuffer  [SEGGER_RTT__ROUND_U
 272:Drivers/RTT/SEGGER_RTT.c **** SEGGER_RTT_PUT_BUFFER_SECTION(SEGGER_RTT_BUFFER_ALIGN(static char _acDownBuffer[SEGGER_RTT__ROUND_U
 273:Drivers/RTT/SEGGER_RTT.c **** 
 274:Drivers/RTT/SEGGER_RTT.c **** static unsigned char _ActiveTerminal;
 275:Drivers/RTT/SEGGER_RTT.c **** 
 276:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 277:Drivers/RTT/SEGGER_RTT.c **** *
 278:Drivers/RTT/SEGGER_RTT.c **** *       Static functions
 279:Drivers/RTT/SEGGER_RTT.c **** *
 280:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
 281:Drivers/RTT/SEGGER_RTT.c **** */
 282:Drivers/RTT/SEGGER_RTT.c **** 
 283:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 284:Drivers/RTT/SEGGER_RTT.c **** *
 285:Drivers/RTT/SEGGER_RTT.c **** *       _DoInit()
 286:Drivers/RTT/SEGGER_RTT.c **** *
 287:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 288:Drivers/RTT/SEGGER_RTT.c **** *    Initializes the control block an buffers.
 289:Drivers/RTT/SEGGER_RTT.c **** *    May only be called via INIT() to avoid overriding settings.
 290:Drivers/RTT/SEGGER_RTT.c **** *
 291:Drivers/RTT/SEGGER_RTT.c **** */
 292:Drivers/RTT/SEGGER_RTT.c **** #define INIT()  {                                                                                  
 293:Drivers/RTT/SEGGER_RTT.c ****                   volatile SEGGER_RTT_CB* pRTTCBInit;                                              
 294:Drivers/RTT/SEGGER_RTT.c ****                   pRTTCBInit = (volatile SEGGER_RTT_CB*)((char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_
 295:Drivers/RTT/SEGGER_RTT.c ****                   do {                                                                             
 296:Drivers/RTT/SEGGER_RTT.c ****                     if (pRTTCBInit->acID[0] == '\0') {                                             
 297:Drivers/RTT/SEGGER_RTT.c ****                       _DoInit();                                                                   
 298:Drivers/RTT/SEGGER_RTT.c ****                     }                                                                              
 299:Drivers/RTT/SEGGER_RTT.c ****                   } while (0);                                                                     
 300:Drivers/RTT/SEGGER_RTT.c ****                 }
 301:Drivers/RTT/SEGGER_RTT.c **** 
 302:Drivers/RTT/SEGGER_RTT.c **** static void _DoInit(void) {
 303:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* p;   // Volatile to make sure that compiler cannot change the order of ac
 304:Drivers/RTT/SEGGER_RTT.c ****   //
 305:Drivers/RTT/SEGGER_RTT.c ****   // Initialize control block
 306:Drivers/RTT/SEGGER_RTT.c ****   //
 307:Drivers/RTT/SEGGER_RTT.c ****   p                     = (volatile SEGGER_RTT_CB*)((char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);
 308:Drivers/RTT/SEGGER_RTT.c ****   p->MaxNumUpBuffers    = SEGGER_RTT_MAX_NUM_UP_BUFFERS;
 309:Drivers/RTT/SEGGER_RTT.c ****   p->MaxNumDownBuffers  = SEGGER_RTT_MAX_NUM_DOWN_BUFFERS;
 310:Drivers/RTT/SEGGER_RTT.c ****   //
 311:Drivers/RTT/SEGGER_RTT.c ****   // Initialize up buffer 0
 312:Drivers/RTT/SEGGER_RTT.c ****   //
 313:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].sName         = "Terminal";
 314:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].pBuffer       = _acUpBuffer;
 315:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].SizeOfBuffer  = BUFFER_SIZE_UP;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 7


 316:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].RdOff         = 0u;
 317:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].WrOff         = 0u;
 318:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].Flags         = SEGGER_RTT_MODE_DEFAULT;
 319:Drivers/RTT/SEGGER_RTT.c ****   //
 320:Drivers/RTT/SEGGER_RTT.c ****   // Initialize down buffer 0
 321:Drivers/RTT/SEGGER_RTT.c ****   //
 322:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].sName         = "Terminal";
 323:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].pBuffer       = _acDownBuffer;
 324:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].SizeOfBuffer  = BUFFER_SIZE_DOWN;
 325:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].RdOff         = 0u;
 326:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].WrOff         = 0u;
 327:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].Flags         = SEGGER_RTT_MODE_DEFAULT;
 328:Drivers/RTT/SEGGER_RTT.c ****   //
 329:Drivers/RTT/SEGGER_RTT.c ****   // Finish initialization of the control block.
 330:Drivers/RTT/SEGGER_RTT.c ****   // Copy Id string in three steps to make sure "SEGGER RTT" is not found
 331:Drivers/RTT/SEGGER_RTT.c ****   // in initializer memory (usually flash) by J-Link
 332:Drivers/RTT/SEGGER_RTT.c ****   //
 333:Drivers/RTT/SEGGER_RTT.c ****   STRCPY((char*)&p->acID[7], "RTT");
 334:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 335:Drivers/RTT/SEGGER_RTT.c ****   STRCPY((char*)&p->acID[0], "SEGGER");
 336:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 337:Drivers/RTT/SEGGER_RTT.c ****   p->acID[6] = ' ';
 338:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 339:Drivers/RTT/SEGGER_RTT.c **** }
 340:Drivers/RTT/SEGGER_RTT.c **** 
 341:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 342:Drivers/RTT/SEGGER_RTT.c **** *
 343:Drivers/RTT/SEGGER_RTT.c **** *       _WriteBlocking()
 344:Drivers/RTT/SEGGER_RTT.c **** *
 345:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 346:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT ring buffer
 347:Drivers/RTT/SEGGER_RTT.c **** *    and updates the associated write pointer which is periodically
 348:Drivers/RTT/SEGGER_RTT.c **** *    read by the host.
 349:Drivers/RTT/SEGGER_RTT.c **** *    The caller is responsible for managing the write chunk sizes as
 350:Drivers/RTT/SEGGER_RTT.c **** *    _WriteBlocking() will block until all data has been posted successfully.
 351:Drivers/RTT/SEGGER_RTT.c **** *
 352:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 353:Drivers/RTT/SEGGER_RTT.c **** *    pRing        Ring buffer to post to.
 354:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
 355:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
 356:Drivers/RTT/SEGGER_RTT.c **** *
 357:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 358:Drivers/RTT/SEGGER_RTT.c **** *    >= 0 - Number of bytes written into buffer.
 359:Drivers/RTT/SEGGER_RTT.c **** */
 360:Drivers/RTT/SEGGER_RTT.c **** static unsigned _WriteBlocking(SEGGER_RTT_BUFFER_UP* pRing, const char* pBuffer, unsigned NumBytes)
 361:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesToWrite;
 362:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesWritten;
 363:Drivers/RTT/SEGGER_RTT.c ****   unsigned RdOff;
 364:Drivers/RTT/SEGGER_RTT.c ****   unsigned WrOff;
 365:Drivers/RTT/SEGGER_RTT.c ****   volatile char* pDst;
 366:Drivers/RTT/SEGGER_RTT.c ****   //
 367:Drivers/RTT/SEGGER_RTT.c ****   // Write data to buffer and handle wrap-around if necessary
 368:Drivers/RTT/SEGGER_RTT.c ****   //
 369:Drivers/RTT/SEGGER_RTT.c ****   NumBytesWritten = 0u;
 370:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 371:Drivers/RTT/SEGGER_RTT.c ****   do {
 372:Drivers/RTT/SEGGER_RTT.c ****     RdOff = pRing->RdOff;                         // May be changed by host (debug probe) in the me
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 8


 373:Drivers/RTT/SEGGER_RTT.c ****     if (RdOff > WrOff) {
 374:Drivers/RTT/SEGGER_RTT.c ****       NumBytesToWrite = RdOff - WrOff - 1u;
 375:Drivers/RTT/SEGGER_RTT.c ****     } else {
 376:Drivers/RTT/SEGGER_RTT.c ****       NumBytesToWrite = pRing->SizeOfBuffer - (WrOff - RdOff + 1u);
 377:Drivers/RTT/SEGGER_RTT.c ****     }
 378:Drivers/RTT/SEGGER_RTT.c ****     NumBytesToWrite = MIN(NumBytesToWrite, (pRing->SizeOfBuffer - WrOff));      // Number of bytes 
 379:Drivers/RTT/SEGGER_RTT.c ****     NumBytesToWrite = MIN(NumBytesToWrite, NumBytes);
 380:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 381:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 382:Drivers/RTT/SEGGER_RTT.c ****     NumBytesWritten += NumBytesToWrite;
 383:Drivers/RTT/SEGGER_RTT.c ****     NumBytes        -= NumBytesToWrite;
 384:Drivers/RTT/SEGGER_RTT.c ****     WrOff           += NumBytesToWrite;
 385:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesToWrite--) {
 386:Drivers/RTT/SEGGER_RTT.c ****       *pDst++ = *pBuffer++;
 387:Drivers/RTT/SEGGER_RTT.c ****     };
 388:Drivers/RTT/SEGGER_RTT.c **** #else
 389:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pBuffer, NumBytesToWrite);
 390:Drivers/RTT/SEGGER_RTT.c ****     NumBytesWritten += NumBytesToWrite;
 391:Drivers/RTT/SEGGER_RTT.c ****     pBuffer         += NumBytesToWrite;
 392:Drivers/RTT/SEGGER_RTT.c ****     NumBytes        -= NumBytesToWrite;
 393:Drivers/RTT/SEGGER_RTT.c ****     WrOff           += NumBytesToWrite;
 394:Drivers/RTT/SEGGER_RTT.c **** #endif
 395:Drivers/RTT/SEGGER_RTT.c ****     if (WrOff == pRing->SizeOfBuffer) {
 396:Drivers/RTT/SEGGER_RTT.c ****       WrOff = 0u;
 397:Drivers/RTT/SEGGER_RTT.c ****     }
 398:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 399:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 400:Drivers/RTT/SEGGER_RTT.c ****   } while (NumBytes);
 401:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesWritten;
 402:Drivers/RTT/SEGGER_RTT.c **** }
 403:Drivers/RTT/SEGGER_RTT.c **** 
 404:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 405:Drivers/RTT/SEGGER_RTT.c **** *
 406:Drivers/RTT/SEGGER_RTT.c **** *       _WriteNoCheck()
 407:Drivers/RTT/SEGGER_RTT.c **** *
 408:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 409:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT ring buffer
 410:Drivers/RTT/SEGGER_RTT.c **** *    and updates the associated write pointer which is periodically
 411:Drivers/RTT/SEGGER_RTT.c **** *    read by the host.
 412:Drivers/RTT/SEGGER_RTT.c **** *    It is callers responsibility to make sure data actually fits in buffer.
 413:Drivers/RTT/SEGGER_RTT.c **** *
 414:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 415:Drivers/RTT/SEGGER_RTT.c **** *    pRing        Ring buffer to post to.
 416:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
 417:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
 418:Drivers/RTT/SEGGER_RTT.c **** *
 419:Drivers/RTT/SEGGER_RTT.c **** *  Notes
 420:Drivers/RTT/SEGGER_RTT.c **** *    (1) If there might not be enough space in the "Up"-buffer, call _WriteBlocking
 421:Drivers/RTT/SEGGER_RTT.c **** */
 422:Drivers/RTT/SEGGER_RTT.c **** static void _WriteNoCheck(SEGGER_RTT_BUFFER_UP* pRing, const char* pData, unsigned NumBytes) {
 423:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesAtOnce;
 424:Drivers/RTT/SEGGER_RTT.c ****   unsigned WrOff;
 425:Drivers/RTT/SEGGER_RTT.c ****   unsigned Rem;
 426:Drivers/RTT/SEGGER_RTT.c ****   volatile char* pDst;
 427:Drivers/RTT/SEGGER_RTT.c **** 
 428:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 429:Drivers/RTT/SEGGER_RTT.c ****   Rem = pRing->SizeOfBuffer - WrOff;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 9


 430:Drivers/RTT/SEGGER_RTT.c ****   if (Rem > NumBytes) {
 431:Drivers/RTT/SEGGER_RTT.c ****     //
 432:Drivers/RTT/SEGGER_RTT.c ****     // All data fits before wrap around
 433:Drivers/RTT/SEGGER_RTT.c ****     //
 434:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 435:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 436:Drivers/RTT/SEGGER_RTT.c ****     WrOff += NumBytes;
 437:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytes--) {
 438:Drivers/RTT/SEGGER_RTT.c ****       *pDst++ = *pData++;
 439:Drivers/RTT/SEGGER_RTT.c ****     };
 440:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 441:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 442:Drivers/RTT/SEGGER_RTT.c **** #else
 443:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pData, NumBytes);
 444:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 445:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff + NumBytes;
 446:Drivers/RTT/SEGGER_RTT.c **** #endif
 447:Drivers/RTT/SEGGER_RTT.c ****   } else {
 448:Drivers/RTT/SEGGER_RTT.c ****     //
 449:Drivers/RTT/SEGGER_RTT.c ****     // We reach the end of the buffer, so need to wrap around
 450:Drivers/RTT/SEGGER_RTT.c ****     //
 451:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 452:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 453:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = Rem;
 454:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesAtOnce--) {
 455:Drivers/RTT/SEGGER_RTT.c ****       *pDst++ = *pData++;
 456:Drivers/RTT/SEGGER_RTT.c ****     };
 457:Drivers/RTT/SEGGER_RTT.c ****     pDst = pRing->pBuffer + SEGGER_RTT_UNCACHED_OFF;
 458:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = NumBytes - Rem;
 459:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesAtOnce--) {
 460:Drivers/RTT/SEGGER_RTT.c ****       *pDst++ = *pData++;
 461:Drivers/RTT/SEGGER_RTT.c ****     };
 462:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 463:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = NumBytes - Rem;
 464:Drivers/RTT/SEGGER_RTT.c **** #else
 465:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = Rem;
 466:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 467:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pData, NumBytesAtOnce);
 468:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = NumBytes - Rem;
 469:Drivers/RTT/SEGGER_RTT.c ****     pDst = pRing->pBuffer + SEGGER_RTT_UNCACHED_OFF;
 470:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pData + Rem, NumBytesAtOnce);
 471:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 472:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = NumBytesAtOnce;
 473:Drivers/RTT/SEGGER_RTT.c **** #endif
 474:Drivers/RTT/SEGGER_RTT.c ****   }
 475:Drivers/RTT/SEGGER_RTT.c **** }
 476:Drivers/RTT/SEGGER_RTT.c **** 
 477:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 478:Drivers/RTT/SEGGER_RTT.c **** *
 479:Drivers/RTT/SEGGER_RTT.c **** *       _PostTerminalSwitch()
 480:Drivers/RTT/SEGGER_RTT.c **** *
 481:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 482:Drivers/RTT/SEGGER_RTT.c **** *    Switch terminal to the given terminal ID.  It is the caller's
 483:Drivers/RTT/SEGGER_RTT.c **** *    responsibility to ensure the terminal ID is correct and there is
 484:Drivers/RTT/SEGGER_RTT.c **** *    enough space in the buffer for this to complete successfully.
 485:Drivers/RTT/SEGGER_RTT.c **** *
 486:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 10


 487:Drivers/RTT/SEGGER_RTT.c **** *    pRing        Ring buffer to post to.
 488:Drivers/RTT/SEGGER_RTT.c **** *    TerminalId   Terminal ID to switch to.
 489:Drivers/RTT/SEGGER_RTT.c **** */
 490:Drivers/RTT/SEGGER_RTT.c **** static void _PostTerminalSwitch(SEGGER_RTT_BUFFER_UP* pRing, unsigned char TerminalId) {
 491:Drivers/RTT/SEGGER_RTT.c ****   unsigned char ac[2];
 492:Drivers/RTT/SEGGER_RTT.c **** 
 493:Drivers/RTT/SEGGER_RTT.c ****   ac[0] = 0xFFu;
 494:Drivers/RTT/SEGGER_RTT.c ****   ac[1] = _aTerminalId[TerminalId];  // Caller made already sure that TerminalId does not exceed ou
 495:Drivers/RTT/SEGGER_RTT.c ****   _WriteBlocking(pRing, (const char*)ac, 2u);
 496:Drivers/RTT/SEGGER_RTT.c **** }
 497:Drivers/RTT/SEGGER_RTT.c **** 
 498:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 499:Drivers/RTT/SEGGER_RTT.c **** *
 500:Drivers/RTT/SEGGER_RTT.c **** *       _GetAvailWriteSpace()
 501:Drivers/RTT/SEGGER_RTT.c **** *
 502:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 503:Drivers/RTT/SEGGER_RTT.c **** *    Returns the number of bytes that can be written to the ring
 504:Drivers/RTT/SEGGER_RTT.c **** *    buffer without blocking.
 505:Drivers/RTT/SEGGER_RTT.c **** *
 506:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 507:Drivers/RTT/SEGGER_RTT.c **** *    pRing        Ring buffer to check.
 508:Drivers/RTT/SEGGER_RTT.c **** *
 509:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 510:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that are free in the buffer.
 511:Drivers/RTT/SEGGER_RTT.c **** */
 512:Drivers/RTT/SEGGER_RTT.c **** static unsigned _GetAvailWriteSpace(SEGGER_RTT_BUFFER_UP* pRing) {
  29              		.loc 1 512 66 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 513:Drivers/RTT/SEGGER_RTT.c ****   unsigned RdOff;
  34              		.loc 1 513 3 view .LVU1
 514:Drivers/RTT/SEGGER_RTT.c ****   unsigned WrOff;
  35              		.loc 1 514 3 view .LVU2
 515:Drivers/RTT/SEGGER_RTT.c ****   unsigned r;
  36              		.loc 1 515 3 view .LVU3
 516:Drivers/RTT/SEGGER_RTT.c ****   //
 517:Drivers/RTT/SEGGER_RTT.c ****   // Avoid warnings regarding volatile access order.  It's not a problem
 518:Drivers/RTT/SEGGER_RTT.c ****   // in this case, but dampen compiler enthusiasm.
 519:Drivers/RTT/SEGGER_RTT.c ****   //
 520:Drivers/RTT/SEGGER_RTT.c ****   RdOff = pRing->RdOff;
  37              		.loc 1 520 3 view .LVU4
  38              		.loc 1 520 9 is_stmt 0 view .LVU5
  39 0000 0369     		ldr	r3, [r0, #16]
  40              	.LVL1:
 521:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
  41              		.loc 1 521 3 is_stmt 1 view .LVU6
  42              		.loc 1 521 9 is_stmt 0 view .LVU7
  43 0002 C268     		ldr	r2, [r0, #12]
  44              	.LVL2:
 522:Drivers/RTT/SEGGER_RTT.c ****   if (RdOff <= WrOff) {
  45              		.loc 1 522 3 is_stmt 1 view .LVU8
  46              		.loc 1 522 6 is_stmt 0 view .LVU9
  47 0004 9342     		cmp	r3, r2
  48 0006 04D8     		bhi	.L2
 523:Drivers/RTT/SEGGER_RTT.c ****     r = pRing->SizeOfBuffer - 1u - WrOff + RdOff;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 11


  49              		.loc 1 523 5 is_stmt 1 view .LVU10
  50              		.loc 1 523 14 is_stmt 0 view .LVU11
  51 0008 8068     		ldr	r0, [r0, #8]
  52              	.LVL3:
  53              		.loc 1 523 34 view .LVU12
  54 000a 801A     		subs	r0, r0, r2
  55              		.loc 1 523 42 view .LVU13
  56 000c 0344     		add	r3, r3, r0
  57              	.LVL4:
  58              		.loc 1 523 7 view .LVU14
  59 000e 581E     		subs	r0, r3, #1
  60              	.LVL5:
  61              		.loc 1 523 7 view .LVU15
  62 0010 7047     		bx	lr
  63              	.LVL6:
  64              	.L2:
 524:Drivers/RTT/SEGGER_RTT.c ****   } else {
 525:Drivers/RTT/SEGGER_RTT.c ****     r = RdOff - WrOff - 1u;
  65              		.loc 1 525 5 is_stmt 1 view .LVU16
  66              		.loc 1 525 15 is_stmt 0 view .LVU17
  67 0012 9B1A     		subs	r3, r3, r2
  68              	.LVL7:
  69              		.loc 1 525 7 view .LVU18
  70 0014 581E     		subs	r0, r3, #1
  71              	.LVL8:
 526:Drivers/RTT/SEGGER_RTT.c ****   }
 527:Drivers/RTT/SEGGER_RTT.c ****   return r;
  72              		.loc 1 527 3 is_stmt 1 view .LVU19
 528:Drivers/RTT/SEGGER_RTT.c **** }
  73              		.loc 1 528 1 is_stmt 0 view .LVU20
  74 0016 7047     		bx	lr
  75              		.cfi_endproc
  76              	.LFE4:
  78              		.section	.text._WriteNoCheck,"ax",%progbits
  79              		.align	1
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu fpv5-sp-d16
  85              	_WriteNoCheck:
  86              	.LVL9:
  87              	.LFB2:
 422:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesAtOnce;
  88              		.loc 1 422 94 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
 422:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesAtOnce;
  92              		.loc 1 422 94 is_stmt 0 view .LVU22
  93 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
  94              	.LCFI0:
  95              		.cfi_def_cfa_offset 32
  96              		.cfi_offset 3, -32
  97              		.cfi_offset 4, -28
  98              		.cfi_offset 5, -24
  99              		.cfi_offset 6, -20
 100              		.cfi_offset 7, -16
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 12


 101              		.cfi_offset 8, -12
 102              		.cfi_offset 9, -8
 103              		.cfi_offset 14, -4
 104 0004 0446     		mov	r4, r0
 105 0006 8846     		mov	r8, r1
 106 0008 1646     		mov	r6, r2
 423:Drivers/RTT/SEGGER_RTT.c ****   unsigned WrOff;
 107              		.loc 1 423 3 is_stmt 1 view .LVU23
 424:Drivers/RTT/SEGGER_RTT.c ****   unsigned Rem;
 108              		.loc 1 424 3 view .LVU24
 425:Drivers/RTT/SEGGER_RTT.c ****   volatile char* pDst;
 109              		.loc 1 425 3 view .LVU25
 426:Drivers/RTT/SEGGER_RTT.c **** 
 110              		.loc 1 426 3 view .LVU26
 428:Drivers/RTT/SEGGER_RTT.c ****   Rem = pRing->SizeOfBuffer - WrOff;
 111              		.loc 1 428 3 view .LVU27
 428:Drivers/RTT/SEGGER_RTT.c ****   Rem = pRing->SizeOfBuffer - WrOff;
 112              		.loc 1 428 9 is_stmt 0 view .LVU28
 113 000a C568     		ldr	r5, [r0, #12]
 114              	.LVL10:
 429:Drivers/RTT/SEGGER_RTT.c ****   if (Rem > NumBytes) {
 115              		.loc 1 429 3 is_stmt 1 view .LVU29
 429:Drivers/RTT/SEGGER_RTT.c ****   if (Rem > NumBytes) {
 116              		.loc 1 429 14 is_stmt 0 view .LVU30
 117 000c 8768     		ldr	r7, [r0, #8]
 429:Drivers/RTT/SEGGER_RTT.c ****   if (Rem > NumBytes) {
 118              		.loc 1 429 7 view .LVU31
 119 000e A7EB0509 		sub	r9, r7, r5
 120              	.LVL11:
 430:Drivers/RTT/SEGGER_RTT.c ****     //
 121              		.loc 1 430 3 is_stmt 1 view .LVU32
 430:Drivers/RTT/SEGGER_RTT.c ****     //
 122              		.loc 1 430 6 is_stmt 0 view .LVU33
 123 0012 9145     		cmp	r9, r2
 124 0014 09D9     		bls	.L5
 434:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 125              		.loc 1 434 5 is_stmt 1 view .LVU34
 434:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 126              		.loc 1 434 18 is_stmt 0 view .LVU35
 127 0016 4068     		ldr	r0, [r0, #4]
 128              	.LVL12:
 443:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 129              		.loc 1 443 5 is_stmt 1 view .LVU36
 130 0018 2844     		add	r0, r0, r5
 131              	.LVL13:
 443:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 132              		.loc 1 443 5 is_stmt 0 view .LVU37
 133 001a FFF7FEFF 		bl	memcpy
 134              	.LVL14:
 444:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff + NumBytes;
 135              		.loc 1 444 5 is_stmt 1 view .LVU38
 136              		.syntax unified
 137              	@ 444 "Drivers/RTT/SEGGER_RTT.c" 1
 138 001e BFF35F8F 		dmb
 139              	
 140              	@ 0 "" 2
 444:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff + NumBytes;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 13


 141              		.loc 1 444 15 view .LVU39
 445:Drivers/RTT/SEGGER_RTT.c **** #endif
 142              		.loc 1 445 5 view .LVU40
 445:Drivers/RTT/SEGGER_RTT.c **** #endif
 143              		.loc 1 445 26 is_stmt 0 view .LVU41
 144              		.thumb
 145              		.syntax unified
 146 0022 3544     		add	r5, r5, r6
 147              	.LVL15:
 445:Drivers/RTT/SEGGER_RTT.c **** #endif
 148              		.loc 1 445 18 view .LVU42
 149 0024 E560     		str	r5, [r4, #12]
 150              	.L4:
 475:Drivers/RTT/SEGGER_RTT.c **** 
 151              		.loc 1 475 1 view .LVU43
 152 0026 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 153              	.LVL16:
 154              	.L5:
 465:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 155              		.loc 1 465 5 is_stmt 1 view .LVU44
 466:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pData, NumBytesAtOnce);
 156              		.loc 1 466 5 view .LVU45
 466:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pData, NumBytesAtOnce);
 157              		.loc 1 466 18 is_stmt 0 view .LVU46
 158 002a 4068     		ldr	r0, [r0, #4]
 159              	.LVL17:
 467:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = NumBytes - Rem;
 160              		.loc 1 467 5 is_stmt 1 view .LVU47
 161 002c 4A46     		mov	r2, r9
 162              	.LVL18:
 467:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = NumBytes - Rem;
 163              		.loc 1 467 5 is_stmt 0 view .LVU48
 164 002e 2844     		add	r0, r0, r5
 165              	.LVL19:
 467:Drivers/RTT/SEGGER_RTT.c ****     NumBytesAtOnce = NumBytes - Rem;
 166              		.loc 1 467 5 view .LVU49
 167 0030 FFF7FEFF 		bl	memcpy
 168              	.LVL20:
 468:Drivers/RTT/SEGGER_RTT.c ****     pDst = pRing->pBuffer + SEGGER_RTT_UNCACHED_OFF;
 169              		.loc 1 468 5 is_stmt 1 view .LVU50
 468:Drivers/RTT/SEGGER_RTT.c ****     pDst = pRing->pBuffer + SEGGER_RTT_UNCACHED_OFF;
 170              		.loc 1 468 20 is_stmt 0 view .LVU51
 171 0034 ED1B     		subs	r5, r5, r7
 172              	.LVL21:
 468:Drivers/RTT/SEGGER_RTT.c ****     pDst = pRing->pBuffer + SEGGER_RTT_UNCACHED_OFF;
 173              		.loc 1 468 20 view .LVU52
 174 0036 3544     		add	r5, r5, r6
 175              	.LVL22:
 469:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY((void*)pDst, pData + Rem, NumBytesAtOnce);
 176              		.loc 1 469 5 is_stmt 1 view .LVU53
 470:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 177              		.loc 1 470 5 view .LVU54
 178 0038 2A46     		mov	r2, r5
 179 003a 08EB0901 		add	r1, r8, r9
 180 003e 6068     		ldr	r0, [r4, #4]
 181 0040 FFF7FEFF 		bl	memcpy
 182              	.LVL23:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 14


 471:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = NumBytesAtOnce;
 183              		.loc 1 471 5 view .LVU55
 184              		.syntax unified
 185              	@ 471 "Drivers/RTT/SEGGER_RTT.c" 1
 186 0044 BFF35F8F 		dmb
 187              	
 188              	@ 0 "" 2
 471:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = NumBytesAtOnce;
 189              		.loc 1 471 15 view .LVU56
 472:Drivers/RTT/SEGGER_RTT.c **** #endif
 190              		.loc 1 472 5 view .LVU57
 472:Drivers/RTT/SEGGER_RTT.c **** #endif
 191              		.loc 1 472 18 is_stmt 0 view .LVU58
 192              		.thumb
 193              		.syntax unified
 194 0048 E560     		str	r5, [r4, #12]
 475:Drivers/RTT/SEGGER_RTT.c **** 
 195              		.loc 1 475 1 view .LVU59
 196 004a ECE7     		b	.L4
 197              		.cfi_endproc
 198              	.LFE2:
 200              		.section	.text._WriteBlocking,"ax",%progbits
 201              		.align	1
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu fpv5-sp-d16
 207              	_WriteBlocking:
 208              	.LVL24:
 209              	.LFB1:
 360:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesToWrite;
 210              		.loc 1 360 101 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 360:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesToWrite;
 214              		.loc 1 360 101 is_stmt 0 view .LVU61
 215 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 216              	.LCFI1:
 217              		.cfi_def_cfa_offset 32
 218              		.cfi_offset 3, -32
 219              		.cfi_offset 4, -28
 220              		.cfi_offset 5, -24
 221              		.cfi_offset 6, -20
 222              		.cfi_offset 7, -16
 223              		.cfi_offset 8, -12
 224              		.cfi_offset 9, -8
 225              		.cfi_offset 14, -4
 226 0004 0646     		mov	r6, r0
 227 0006 8846     		mov	r8, r1
 228 0008 1746     		mov	r7, r2
 361:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesWritten;
 229              		.loc 1 361 3 is_stmt 1 view .LVU62
 362:Drivers/RTT/SEGGER_RTT.c ****   unsigned RdOff;
 230              		.loc 1 362 3 view .LVU63
 363:Drivers/RTT/SEGGER_RTT.c ****   unsigned WrOff;
 231              		.loc 1 363 3 view .LVU64
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 15


 364:Drivers/RTT/SEGGER_RTT.c ****   volatile char* pDst;
 232              		.loc 1 364 3 view .LVU65
 365:Drivers/RTT/SEGGER_RTT.c ****   //
 233              		.loc 1 365 3 view .LVU66
 369:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 234              		.loc 1 369 3 view .LVU67
 235              	.LVL25:
 370:Drivers/RTT/SEGGER_RTT.c ****   do {
 236              		.loc 1 370 3 view .LVU68
 370:Drivers/RTT/SEGGER_RTT.c ****   do {
 237              		.loc 1 370 9 is_stmt 0 view .LVU69
 238 000a C568     		ldr	r5, [r0, #12]
 239              	.LVL26:
 369:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 240              		.loc 1 369 19 view .LVU70
 241 000c 4FF00009 		mov	r9, #0
 242 0010 1AE0     		b	.L12
 243              	.LVL27:
 244              	.L17:
 374:Drivers/RTT/SEGGER_RTT.c ****     } else {
 245              		.loc 1 374 7 is_stmt 1 view .LVU71
 374:Drivers/RTT/SEGGER_RTT.c ****     } else {
 246              		.loc 1 374 31 is_stmt 0 view .LVU72
 247 0012 641B     		subs	r4, r4, r5
 248              	.LVL28:
 374:Drivers/RTT/SEGGER_RTT.c ****     } else {
 249              		.loc 1 374 23 view .LVU73
 250 0014 621E     		subs	r2, r4, #1
 251              	.LVL29:
 252              	.L10:
 378:Drivers/RTT/SEGGER_RTT.c ****     NumBytesToWrite = MIN(NumBytesToWrite, NumBytes);
 253              		.loc 1 378 5 is_stmt 1 view .LVU74
 378:Drivers/RTT/SEGGER_RTT.c ****     NumBytesToWrite = MIN(NumBytesToWrite, NumBytes);
 254              		.loc 1 378 23 is_stmt 0 view .LVU75
 255 0016 B368     		ldr	r3, [r6, #8]
 256 0018 5C1B     		subs	r4, r3, r5
 378:Drivers/RTT/SEGGER_RTT.c ****     NumBytesToWrite = MIN(NumBytesToWrite, NumBytes);
 257              		.loc 1 378 21 view .LVU76
 258 001a 9442     		cmp	r4, r2
 259 001c 28BF     		it	cs
 260 001e 1446     		movcs	r4, r2
 261              	.LVL30:
 379:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 262              		.loc 1 379 5 is_stmt 1 view .LVU77
 379:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 263              		.loc 1 379 21 is_stmt 0 view .LVU78
 264 0020 BC42     		cmp	r4, r7
 265 0022 28BF     		it	cs
 266 0024 3C46     		movcs	r4, r7
 267              	.LVL31:
 380:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 268              		.loc 1 380 5 is_stmt 1 view .LVU79
 380:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 269              		.loc 1 380 18 is_stmt 0 view .LVU80
 270 0026 7068     		ldr	r0, [r6, #4]
 271              	.LVL32:
 389:Drivers/RTT/SEGGER_RTT.c ****     NumBytesWritten += NumBytesToWrite;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 16


 272              		.loc 1 389 5 is_stmt 1 view .LVU81
 273 0028 2246     		mov	r2, r4
 274 002a 4146     		mov	r1, r8
 275 002c 2844     		add	r0, r0, r5
 276              	.LVL33:
 389:Drivers/RTT/SEGGER_RTT.c ****     NumBytesWritten += NumBytesToWrite;
 277              		.loc 1 389 5 is_stmt 0 view .LVU82
 278 002e FFF7FEFF 		bl	memcpy
 279              	.LVL34:
 390:Drivers/RTT/SEGGER_RTT.c ****     pBuffer         += NumBytesToWrite;
 280              		.loc 1 390 5 is_stmt 1 view .LVU83
 390:Drivers/RTT/SEGGER_RTT.c ****     pBuffer         += NumBytesToWrite;
 281              		.loc 1 390 21 is_stmt 0 view .LVU84
 282 0032 A144     		add	r9, r9, r4
 283              	.LVL35:
 391:Drivers/RTT/SEGGER_RTT.c ****     NumBytes        -= NumBytesToWrite;
 284              		.loc 1 391 5 is_stmt 1 view .LVU85
 391:Drivers/RTT/SEGGER_RTT.c ****     NumBytes        -= NumBytesToWrite;
 285              		.loc 1 391 21 is_stmt 0 view .LVU86
 286 0034 A044     		add	r8, r8, r4
 287              	.LVL36:
 392:Drivers/RTT/SEGGER_RTT.c ****     WrOff           += NumBytesToWrite;
 288              		.loc 1 392 5 is_stmt 1 view .LVU87
 392:Drivers/RTT/SEGGER_RTT.c ****     WrOff           += NumBytesToWrite;
 289              		.loc 1 392 21 is_stmt 0 view .LVU88
 290 0036 3F1B     		subs	r7, r7, r4
 291              	.LVL37:
 393:Drivers/RTT/SEGGER_RTT.c **** #endif
 292              		.loc 1 393 5 is_stmt 1 view .LVU89
 393:Drivers/RTT/SEGGER_RTT.c **** #endif
 293              		.loc 1 393 21 is_stmt 0 view .LVU90
 294 0038 2544     		add	r5, r5, r4
 295              	.LVL38:
 395:Drivers/RTT/SEGGER_RTT.c ****       WrOff = 0u;
 296              		.loc 1 395 5 is_stmt 1 view .LVU91
 395:Drivers/RTT/SEGGER_RTT.c ****       WrOff = 0u;
 297              		.loc 1 395 23 is_stmt 0 view .LVU92
 298 003a B368     		ldr	r3, [r6, #8]
 395:Drivers/RTT/SEGGER_RTT.c ****       WrOff = 0u;
 299              		.loc 1 395 8 view .LVU93
 300 003c AB42     		cmp	r3, r5
 301 003e 0BD0     		beq	.L15
 302              	.LVL39:
 303              	.L11:
 398:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 304              		.loc 1 398 5 is_stmt 1 view .LVU94
 305              		.syntax unified
 306              	@ 398 "Drivers/RTT/SEGGER_RTT.c" 1
 307 0040 BFF35F8F 		dmb
 308              	
 309              	@ 0 "" 2
 398:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 310              		.loc 1 398 15 view .LVU95
 399:Drivers/RTT/SEGGER_RTT.c ****   } while (NumBytes);
 311              		.loc 1 399 5 view .LVU96
 399:Drivers/RTT/SEGGER_RTT.c ****   } while (NumBytes);
 312              		.loc 1 399 18 is_stmt 0 view .LVU97
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 17


 313              		.thumb
 314              		.syntax unified
 315 0044 F560     		str	r5, [r6, #12]
 400:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesWritten;
 316              		.loc 1 400 11 is_stmt 1 view .LVU98
 400:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesWritten;
 317              		.loc 1 400 3 is_stmt 0 view .LVU99
 318 0046 4FB1     		cbz	r7, .L16
 319              	.LVL40:
 320              	.L12:
 371:Drivers/RTT/SEGGER_RTT.c ****     RdOff = pRing->RdOff;                         // May be changed by host (debug probe) in the me
 321              		.loc 1 371 3 is_stmt 1 view .LVU100
 372:Drivers/RTT/SEGGER_RTT.c ****     if (RdOff > WrOff) {
 322              		.loc 1 372 5 view .LVU101
 372:Drivers/RTT/SEGGER_RTT.c ****     if (RdOff > WrOff) {
 323              		.loc 1 372 11 is_stmt 0 view .LVU102
 324 0048 3469     		ldr	r4, [r6, #16]
 325              	.LVL41:
 373:Drivers/RTT/SEGGER_RTT.c ****       NumBytesToWrite = RdOff - WrOff - 1u;
 326              		.loc 1 373 5 is_stmt 1 view .LVU103
 373:Drivers/RTT/SEGGER_RTT.c ****       NumBytesToWrite = RdOff - WrOff - 1u;
 327              		.loc 1 373 8 is_stmt 0 view .LVU104
 328 004a A542     		cmp	r5, r4
 329 004c E1D3     		bcc	.L17
 376:Drivers/RTT/SEGGER_RTT.c ****     }
 330              		.loc 1 376 7 is_stmt 1 view .LVU105
 376:Drivers/RTT/SEGGER_RTT.c ****     }
 331              		.loc 1 376 30 is_stmt 0 view .LVU106
 332 004e B268     		ldr	r2, [r6, #8]
 376:Drivers/RTT/SEGGER_RTT.c ****     }
 333              		.loc 1 376 62 view .LVU107
 334 0050 641B     		subs	r4, r4, r5
 335              	.LVL42:
 376:Drivers/RTT/SEGGER_RTT.c ****     }
 336              		.loc 1 376 45 view .LVU108
 337 0052 1444     		add	r4, r4, r2
 376:Drivers/RTT/SEGGER_RTT.c ****     }
 338              		.loc 1 376 23 view .LVU109
 339 0054 621E     		subs	r2, r4, #1
 340              	.LVL43:
 376:Drivers/RTT/SEGGER_RTT.c ****     }
 341              		.loc 1 376 23 view .LVU110
 342 0056 DEE7     		b	.L10
 343              	.LVL44:
 344              	.L15:
 396:Drivers/RTT/SEGGER_RTT.c ****     }
 345              		.loc 1 396 13 view .LVU111
 346 0058 0025     		movs	r5, #0
 347              	.LVL45:
 396:Drivers/RTT/SEGGER_RTT.c ****     }
 348              		.loc 1 396 13 view .LVU112
 349 005a F1E7     		b	.L11
 350              	.LVL46:
 351              	.L16:
 401:Drivers/RTT/SEGGER_RTT.c **** }
 352              		.loc 1 401 3 is_stmt 1 view .LVU113
 402:Drivers/RTT/SEGGER_RTT.c **** 
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 18


 353              		.loc 1 402 1 is_stmt 0 view .LVU114
 354 005c 4846     		mov	r0, r9
 355 005e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 402:Drivers/RTT/SEGGER_RTT.c **** 
 356              		.loc 1 402 1 view .LVU115
 357              		.cfi_endproc
 358              	.LFE1:
 360              		.section	.text._PostTerminalSwitch,"ax",%progbits
 361              		.align	1
 362              		.syntax unified
 363              		.thumb
 364              		.thumb_func
 365              		.fpu fpv5-sp-d16
 367              	_PostTerminalSwitch:
 368              	.LVL47:
 369              	.LFB3:
 490:Drivers/RTT/SEGGER_RTT.c ****   unsigned char ac[2];
 370              		.loc 1 490 88 is_stmt 1 view -0
 371              		.cfi_startproc
 372              		@ args = 0, pretend = 0, frame = 8
 373              		@ frame_needed = 0, uses_anonymous_args = 0
 490:Drivers/RTT/SEGGER_RTT.c ****   unsigned char ac[2];
 374              		.loc 1 490 88 is_stmt 0 view .LVU117
 375 0000 00B5     		push	{lr}
 376              	.LCFI2:
 377              		.cfi_def_cfa_offset 4
 378              		.cfi_offset 14, -4
 379 0002 83B0     		sub	sp, sp, #12
 380              	.LCFI3:
 381              		.cfi_def_cfa_offset 16
 491:Drivers/RTT/SEGGER_RTT.c **** 
 382              		.loc 1 491 3 is_stmt 1 view .LVU118
 493:Drivers/RTT/SEGGER_RTT.c ****   ac[1] = _aTerminalId[TerminalId];  // Caller made already sure that TerminalId does not exceed ou
 383              		.loc 1 493 3 view .LVU119
 493:Drivers/RTT/SEGGER_RTT.c ****   ac[1] = _aTerminalId[TerminalId];  // Caller made already sure that TerminalId does not exceed ou
 384              		.loc 1 493 9 is_stmt 0 view .LVU120
 385 0004 FF23     		movs	r3, #255
 386 0006 8DF80430 		strb	r3, [sp, #4]
 494:Drivers/RTT/SEGGER_RTT.c ****   _WriteBlocking(pRing, (const char*)ac, 2u);
 387              		.loc 1 494 3 is_stmt 1 view .LVU121
 494:Drivers/RTT/SEGGER_RTT.c ****   _WriteBlocking(pRing, (const char*)ac, 2u);
 388              		.loc 1 494 23 is_stmt 0 view .LVU122
 389 000a 054B     		ldr	r3, .L20
 390 000c 5B5C     		ldrb	r3, [r3, r1]	@ zero_extendqisi2
 494:Drivers/RTT/SEGGER_RTT.c ****   _WriteBlocking(pRing, (const char*)ac, 2u);
 391              		.loc 1 494 9 view .LVU123
 392 000e 8DF80530 		strb	r3, [sp, #5]
 495:Drivers/RTT/SEGGER_RTT.c **** }
 393              		.loc 1 495 3 is_stmt 1 view .LVU124
 394 0012 0222     		movs	r2, #2
 395 0014 01A9     		add	r1, sp, #4
 396              	.LVL48:
 495:Drivers/RTT/SEGGER_RTT.c **** }
 397              		.loc 1 495 3 is_stmt 0 view .LVU125
 398 0016 FFF7FEFF 		bl	_WriteBlocking
 399              	.LVL49:
 496:Drivers/RTT/SEGGER_RTT.c **** 
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 19


 400              		.loc 1 496 1 view .LVU126
 401 001a 03B0     		add	sp, sp, #12
 402              	.LCFI4:
 403              		.cfi_def_cfa_offset 4
 404              		@ sp needed
 405 001c 5DF804FB 		ldr	pc, [sp], #4
 406              	.L21:
 407              		.align	2
 408              	.L20:
 409 0020 00000000 		.word	.LANCHOR0
 410              		.cfi_endproc
 411              	.LFE3:
 413              		.section	.rodata._DoInit.str1.4,"aMS",%progbits,1
 414              		.align	2
 415              	.LC0:
 416 0000 5465726D 		.ascii	"Terminal\000"
 416      696E616C 
 416      00
 417 0009 000000   		.align	2
 418              	.LC1:
 419 000c 52545400 		.ascii	"RTT\000"
 420              		.align	2
 421              	.LC2:
 422 0010 53454747 		.ascii	"SEGGER\000"
 422      455200
 423              		.section	.text._DoInit,"ax",%progbits
 424              		.align	1
 425              		.syntax unified
 426              		.thumb
 427              		.thumb_func
 428              		.fpu fpv5-sp-d16
 430              	_DoInit:
 431              	.LFB0:
 302:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* p;   // Volatile to make sure that compiler cannot change the order of ac
 432              		.loc 1 302 27 is_stmt 1 view -0
 433              		.cfi_startproc
 434              		@ args = 0, pretend = 0, frame = 0
 435              		@ frame_needed = 0, uses_anonymous_args = 0
 436              		@ link register save eliminated.
 303:Drivers/RTT/SEGGER_RTT.c ****   //
 437              		.loc 1 303 3 view .LVU128
 307:Drivers/RTT/SEGGER_RTT.c ****   p->MaxNumUpBuffers    = SEGGER_RTT_MAX_NUM_UP_BUFFERS;
 438              		.loc 1 307 3 view .LVU129
 439              	.LVL50:
 308:Drivers/RTT/SEGGER_RTT.c ****   p->MaxNumDownBuffers  = SEGGER_RTT_MAX_NUM_DOWN_BUFFERS;
 440              		.loc 1 308 3 view .LVU130
 308:Drivers/RTT/SEGGER_RTT.c ****   p->MaxNumDownBuffers  = SEGGER_RTT_MAX_NUM_DOWN_BUFFERS;
 441              		.loc 1 308 25 is_stmt 0 view .LVU131
 442 0000 154B     		ldr	r3, .L23
 443 0002 0322     		movs	r2, #3
 444 0004 1A61     		str	r2, [r3, #16]
 309:Drivers/RTT/SEGGER_RTT.c ****   //
 445              		.loc 1 309 3 is_stmt 1 view .LVU132
 309:Drivers/RTT/SEGGER_RTT.c ****   //
 446              		.loc 1 309 25 is_stmt 0 view .LVU133
 447 0006 5A61     		str	r2, [r3, #20]
 313:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].pBuffer       = _acUpBuffer;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 20


 448              		.loc 1 313 3 is_stmt 1 view .LVU134
 313:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].pBuffer       = _acUpBuffer;
 449              		.loc 1 313 27 is_stmt 0 view .LVU135
 450 0008 1449     		ldr	r1, .L23+4
 451 000a 9961     		str	r1, [r3, #24]
 314:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].SizeOfBuffer  = BUFFER_SIZE_UP;
 452              		.loc 1 314 3 is_stmt 1 view .LVU136
 314:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].SizeOfBuffer  = BUFFER_SIZE_UP;
 453              		.loc 1 314 27 is_stmt 0 view .LVU137
 454 000c 144A     		ldr	r2, .L23+8
 455 000e DA61     		str	r2, [r3, #28]
 315:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].RdOff         = 0u;
 456              		.loc 1 315 3 is_stmt 1 view .LVU138
 315:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].RdOff         = 0u;
 457              		.loc 1 315 27 is_stmt 0 view .LVU139
 458 0010 4FF48062 		mov	r2, #1024
 459 0014 1A62     		str	r2, [r3, #32]
 316:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].WrOff         = 0u;
 460              		.loc 1 316 3 is_stmt 1 view .LVU140
 316:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].WrOff         = 0u;
 461              		.loc 1 316 27 is_stmt 0 view .LVU141
 462 0016 0022     		movs	r2, #0
 463 0018 9A62     		str	r2, [r3, #40]
 317:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].Flags         = SEGGER_RTT_MODE_DEFAULT;
 464              		.loc 1 317 3 is_stmt 1 view .LVU142
 317:Drivers/RTT/SEGGER_RTT.c ****   p->aUp[0].Flags         = SEGGER_RTT_MODE_DEFAULT;
 465              		.loc 1 317 27 is_stmt 0 view .LVU143
 466 001a 5A62     		str	r2, [r3, #36]
 318:Drivers/RTT/SEGGER_RTT.c ****   //
 467              		.loc 1 318 3 is_stmt 1 view .LVU144
 318:Drivers/RTT/SEGGER_RTT.c ****   //
 468              		.loc 1 318 27 is_stmt 0 view .LVU145
 469 001c DA62     		str	r2, [r3, #44]
 322:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].pBuffer       = _acDownBuffer;
 470              		.loc 1 322 3 is_stmt 1 view .LVU146
 322:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].pBuffer       = _acDownBuffer;
 471              		.loc 1 322 29 is_stmt 0 view .LVU147
 472 001e 1966     		str	r1, [r3, #96]
 323:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].SizeOfBuffer  = BUFFER_SIZE_DOWN;
 473              		.loc 1 323 3 is_stmt 1 view .LVU148
 323:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].SizeOfBuffer  = BUFFER_SIZE_DOWN;
 474              		.loc 1 323 29 is_stmt 0 view .LVU149
 475 0020 1049     		ldr	r1, .L23+12
 476 0022 5966     		str	r1, [r3, #100]
 324:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].RdOff         = 0u;
 477              		.loc 1 324 3 is_stmt 1 view .LVU150
 324:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].RdOff         = 0u;
 478              		.loc 1 324 29 is_stmt 0 view .LVU151
 479 0024 1021     		movs	r1, #16
 480 0026 9966     		str	r1, [r3, #104]
 325:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].WrOff         = 0u;
 481              		.loc 1 325 3 is_stmt 1 view .LVU152
 325:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].WrOff         = 0u;
 482              		.loc 1 325 29 is_stmt 0 view .LVU153
 483 0028 1A67     		str	r2, [r3, #112]
 326:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].Flags         = SEGGER_RTT_MODE_DEFAULT;
 484              		.loc 1 326 3 is_stmt 1 view .LVU154
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 21


 326:Drivers/RTT/SEGGER_RTT.c ****   p->aDown[0].Flags         = SEGGER_RTT_MODE_DEFAULT;
 485              		.loc 1 326 29 is_stmt 0 view .LVU155
 486 002a DA66     		str	r2, [r3, #108]
 327:Drivers/RTT/SEGGER_RTT.c ****   //
 487              		.loc 1 327 3 is_stmt 1 view .LVU156
 327:Drivers/RTT/SEGGER_RTT.c ****   //
 488              		.loc 1 327 29 is_stmt 0 view .LVU157
 489 002c 5A67     		str	r2, [r3, #116]
 333:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 490              		.loc 1 333 3 is_stmt 1 view .LVU158
 491 002e 0E4A     		ldr	r2, .L23+16
 492 0030 1068     		ldr	r0, [r2]
 493 0032 C3F80700 		str	r0, [r3, #7]	@ unaligned
 334:Drivers/RTT/SEGGER_RTT.c ****   STRCPY((char*)&p->acID[0], "SEGGER");
 494              		.loc 1 334 3 view .LVU159
 495              		.syntax unified
 496              	@ 334 "Drivers/RTT/SEGGER_RTT.c" 1
 497 0036 BFF35F8F 		dmb
 498              	
 499              	@ 0 "" 2
 334:Drivers/RTT/SEGGER_RTT.c ****   STRCPY((char*)&p->acID[0], "SEGGER");
 500              		.loc 1 334 13 view .LVU160
 335:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 501              		.loc 1 335 3 view .LVU161
 502              		.thumb
 503              		.syntax unified
 504 003a 0C4A     		ldr	r2, .L23+20
 505 003c 92E80300 		ldm	r2, {r0, r1}
 506 0040 1860     		str	r0, [r3]
 507 0042 9980     		strh	r1, [r3, #4]	@ movhi
 508 0044 090C     		lsrs	r1, r1, #16
 509 0046 9971     		strb	r1, [r3, #6]
 336:Drivers/RTT/SEGGER_RTT.c ****   p->acID[6] = ' ';
 510              		.loc 1 336 3 view .LVU162
 511              		.syntax unified
 512              	@ 336 "Drivers/RTT/SEGGER_RTT.c" 1
 513 0048 BFF35F8F 		dmb
 514              	
 515              	@ 0 "" 2
 336:Drivers/RTT/SEGGER_RTT.c ****   p->acID[6] = ' ';
 516              		.loc 1 336 13 view .LVU163
 337:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 517              		.loc 1 337 3 view .LVU164
 337:Drivers/RTT/SEGGER_RTT.c ****   RTT__DMB();                       // Force order of memory accessed inside core for cores that al
 518              		.loc 1 337 14 is_stmt 0 view .LVU165
 519              		.thumb
 520              		.syntax unified
 521 004c 2022     		movs	r2, #32
 522 004e 9A71     		strb	r2, [r3, #6]
 338:Drivers/RTT/SEGGER_RTT.c **** }
 523              		.loc 1 338 3 is_stmt 1 view .LVU166
 524              		.syntax unified
 525              	@ 338 "Drivers/RTT/SEGGER_RTT.c" 1
 526 0050 BFF35F8F 		dmb
 527              	
 528              	@ 0 "" 2
 338:Drivers/RTT/SEGGER_RTT.c **** }
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 22


 529              		.loc 1 338 13 view .LVU167
 339:Drivers/RTT/SEGGER_RTT.c **** 
 530              		.loc 1 339 1 is_stmt 0 view .LVU168
 531              		.thumb
 532              		.syntax unified
 533 0054 7047     		bx	lr
 534              	.L24:
 535 0056 00BF     		.align	2
 536              	.L23:
 537 0058 00000000 		.word	.LANCHOR1
 538 005c 00000000 		.word	.LC0
 539 0060 00000000 		.word	.LANCHOR2
 540 0064 00000000 		.word	.LANCHOR3
 541 0068 0C000000 		.word	.LC1
 542 006c 10000000 		.word	.LC2
 543              		.cfi_endproc
 544              	.LFE0:
 546              		.section	.text.SEGGER_RTT_ReadUpBufferNoLock,"ax",%progbits
 547              		.align	1
 548              		.global	SEGGER_RTT_ReadUpBufferNoLock
 549              		.syntax unified
 550              		.thumb
 551              		.thumb_func
 552              		.fpu fpv5-sp-d16
 554              	SEGGER_RTT_ReadUpBufferNoLock:
 555              	.LVL51:
 556              	.LFB5:
 529:Drivers/RTT/SEGGER_RTT.c **** 
 530:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 531:Drivers/RTT/SEGGER_RTT.c **** *
 532:Drivers/RTT/SEGGER_RTT.c **** *       Public code
 533:Drivers/RTT/SEGGER_RTT.c **** *
 534:Drivers/RTT/SEGGER_RTT.c **** **********************************************************************
 535:Drivers/RTT/SEGGER_RTT.c **** */
 536:Drivers/RTT/SEGGER_RTT.c **** 
 537:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 538:Drivers/RTT/SEGGER_RTT.c **** *
 539:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_ReadUpBufferNoLock()
 540:Drivers/RTT/SEGGER_RTT.c **** *
 541:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 542:Drivers/RTT/SEGGER_RTT.c **** *    Reads characters from SEGGER real-time-terminal control block
 543:Drivers/RTT/SEGGER_RTT.c **** *    which have been previously stored by the application.
 544:Drivers/RTT/SEGGER_RTT.c **** *    Do not lock against interrupts and multiple access.
 545:Drivers/RTT/SEGGER_RTT.c **** *    Used to do the same operation that J-Link does, to transfer 
 546:Drivers/RTT/SEGGER_RTT.c **** *    RTT data via other channels, such as TCP/IP or UART.
 547:Drivers/RTT/SEGGER_RTT.c **** *
 548:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 549:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of Up-buffer to be used.
 550:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to buffer provided by target application, to copy characters from RTT-up-
 551:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the target application buffer.
 552:Drivers/RTT/SEGGER_RTT.c **** *
 553:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 554:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that have been read.
 555:Drivers/RTT/SEGGER_RTT.c **** *
 556:Drivers/RTT/SEGGER_RTT.c **** *  Additional information
 557:Drivers/RTT/SEGGER_RTT.c **** *    This function must not be called when J-Link might also do RTT.
 558:Drivers/RTT/SEGGER_RTT.c **** */
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 23


 559:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_ReadUpBufferNoLock(unsigned BufferIndex, void* pData, unsigned BufferSize) {
 557              		.loc 1 559 96 is_stmt 1 view -0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 0
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 561              		.loc 1 559 96 is_stmt 0 view .LVU170
 562 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 563              	.LCFI5:
 564              		.cfi_def_cfa_offset 32
 565              		.cfi_offset 4, -32
 566              		.cfi_offset 5, -28
 567              		.cfi_offset 6, -24
 568              		.cfi_offset 7, -20
 569              		.cfi_offset 8, -16
 570              		.cfi_offset 9, -12
 571              		.cfi_offset 10, -8
 572              		.cfi_offset 14, -4
 573 0004 0446     		mov	r4, r0
 574 0006 8846     		mov	r8, r1
 575 0008 9146     		mov	r9, r2
 560:Drivers/RTT/SEGGER_RTT.c ****   unsigned                NumBytesRem;
 576              		.loc 1 560 3 is_stmt 1 view .LVU171
 561:Drivers/RTT/SEGGER_RTT.c ****   unsigned                NumBytesRead;
 577              		.loc 1 561 3 view .LVU172
 562:Drivers/RTT/SEGGER_RTT.c ****   unsigned                RdOff;
 578              		.loc 1 562 3 view .LVU173
 563:Drivers/RTT/SEGGER_RTT.c ****   unsigned                WrOff;
 579              		.loc 1 563 3 view .LVU174
 564:Drivers/RTT/SEGGER_RTT.c ****   unsigned char*          pBuffer;
 580              		.loc 1 564 3 view .LVU175
 565:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP*   pRing;
 581              		.loc 1 565 3 view .LVU176
 566:Drivers/RTT/SEGGER_RTT.c ****   volatile char*          pSrc;
 582              		.loc 1 566 3 view .LVU177
 583              	.LBB2:
 567:Drivers/RTT/SEGGER_RTT.c **** 
 568:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 584              		.loc 1 568 3 view .LVU178
 585              		.loc 1 568 3 view .LVU179
 586              	.LVL52:
 587              		.loc 1 568 3 view .LVU180
 588              		.loc 1 568 3 view .LVU181
 589 000a 274B     		ldr	r3, .L36
 590 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 591 000e C3B1     		cbz	r3, .L33
 592              	.LVL53:
 593              	.L26:
 594              		.loc 1 568 3 discriminator 3 view .LVU182
 595              	.LBE2:
 596              		.loc 1 568 9 discriminator 3 view .LVU183
 569:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 597              		.loc 1 569 3 discriminator 3 view .LVU184
 570:Drivers/RTT/SEGGER_RTT.c ****   pBuffer = (unsigned char*)pData;
 598              		.loc 1 570 3 discriminator 3 view .LVU185
 571:Drivers/RTT/SEGGER_RTT.c ****   RdOff = pRing->RdOff;
 599              		.loc 1 571 3 discriminator 3 view .LVU186
 600              		.loc 1 571 9 is_stmt 0 discriminator 3 view .LVU187
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 24


 601 0010 04EB4403 		add	r3, r4, r4, lsl #1
 602 0014 244A     		ldr	r2, .L36
 603 0016 02EBC303 		add	r3, r2, r3, lsl #3
 604 001a 9F6A     		ldr	r7, [r3, #40]
 605              	.LVL54:
 572:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 606              		.loc 1 572 3 is_stmt 1 discriminator 3 view .LVU188
 607              		.loc 1 572 9 is_stmt 0 discriminator 3 view .LVU189
 608 001c 5D6A     		ldr	r5, [r3, #36]
 609              	.LVL55:
 573:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRead = 0u;
 610              		.loc 1 573 3 is_stmt 1 discriminator 3 view .LVU190
 574:Drivers/RTT/SEGGER_RTT.c ****   //
 575:Drivers/RTT/SEGGER_RTT.c ****   // Read from current read position to wrap-around of buffer, first
 576:Drivers/RTT/SEGGER_RTT.c ****   //
 577:Drivers/RTT/SEGGER_RTT.c ****   if (RdOff > WrOff) {
 611              		.loc 1 577 3 discriminator 3 view .LVU191
 612              		.loc 1 577 6 is_stmt 0 discriminator 3 view .LVU192
 613 001e AF42     		cmp	r7, r5
 614 0020 12D8     		bhi	.L34
 573:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRead = 0u;
 615              		.loc 1 573 16 view .LVU193
 616 0022 0026     		movs	r6, #0
 617              	.LVL56:
 618              	.L27:
 578:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = pRing->SizeOfBuffer - RdOff;
 579:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 580:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 581:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 582:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 583:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 584:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 585:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesRem--) {
 586:Drivers/RTT/SEGGER_RTT.c ****       *pBuffer++ = *pSrc++;
 587:Drivers/RTT/SEGGER_RTT.c ****     };
 588:Drivers/RTT/SEGGER_RTT.c **** #else
 589:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY(pBuffer, (void*)pSrc, NumBytesRem);
 590:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 591:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 592:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 593:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 594:Drivers/RTT/SEGGER_RTT.c **** #endif
 595:Drivers/RTT/SEGGER_RTT.c ****     //
 596:Drivers/RTT/SEGGER_RTT.c ****     // Handle wrap-around of buffer
 597:Drivers/RTT/SEGGER_RTT.c ****     //
 598:Drivers/RTT/SEGGER_RTT.c ****     if (RdOff == pRing->SizeOfBuffer) {
 599:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 600:Drivers/RTT/SEGGER_RTT.c ****     }
 601:Drivers/RTT/SEGGER_RTT.c ****   }
 602:Drivers/RTT/SEGGER_RTT.c ****   //
 603:Drivers/RTT/SEGGER_RTT.c ****   // Read remaining items of buffer
 604:Drivers/RTT/SEGGER_RTT.c ****   //
 605:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRem = WrOff - RdOff;
 619              		.loc 1 605 3 is_stmt 1 view .LVU194
 620              		.loc 1 605 15 is_stmt 0 view .LVU195
 621 0024 ED1B     		subs	r5, r5, r7
 622              	.LVL57:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 25


 606:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRem = MIN(NumBytesRem, BufferSize);
 623              		.loc 1 606 3 is_stmt 1 view .LVU196
 624              		.loc 1 606 15 is_stmt 0 view .LVU197
 625 0026 4D45     		cmp	r5, r9
 626 0028 28BF     		it	cs
 627 002a 4D46     		movcs	r5, r9
 628              	.LVL58:
 607:Drivers/RTT/SEGGER_RTT.c ****   if (NumBytesRem > 0u) {
 629              		.loc 1 607 3 is_stmt 1 view .LVU198
 630              		.loc 1 607 6 is_stmt 0 view .LVU199
 631 002c 65BB     		cbnz	r5, .L35
 632              	.LVL59:
 633              	.L28:
 608:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 609:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 610:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 611:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 612:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 613:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesRem--) {
 614:Drivers/RTT/SEGGER_RTT.c ****       *pBuffer++ = *pSrc++;
 615:Drivers/RTT/SEGGER_RTT.c ****     };
 616:Drivers/RTT/SEGGER_RTT.c **** #else
 617:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY(pBuffer, (void*)pSrc, NumBytesRem);
 618:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 619:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 620:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 621:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 622:Drivers/RTT/SEGGER_RTT.c **** #endif
 623:Drivers/RTT/SEGGER_RTT.c ****   }
 624:Drivers/RTT/SEGGER_RTT.c ****   //
 625:Drivers/RTT/SEGGER_RTT.c ****   // Update read offset of buffer
 626:Drivers/RTT/SEGGER_RTT.c ****   //
 627:Drivers/RTT/SEGGER_RTT.c ****   if (NumBytesRead) {
 634              		.loc 1 627 3 is_stmt 1 view .LVU200
 635              		.loc 1 627 6 is_stmt 0 view .LVU201
 636 002e 2EB1     		cbz	r6, .L25
 628:Drivers/RTT/SEGGER_RTT.c ****     pRing->RdOff = RdOff;
 637              		.loc 1 628 5 is_stmt 1 view .LVU202
 638              		.loc 1 628 18 is_stmt 0 view .LVU203
 639 0030 04EB4404 		add	r4, r4, r4, lsl #1
 640              	.LVL60:
 641              		.loc 1 628 18 view .LVU204
 642 0034 1C48     		ldr	r0, .L36
 643 0036 00EBC404 		add	r4, r0, r4, lsl #3
 644 003a A762     		str	r7, [r4, #40]
 629:Drivers/RTT/SEGGER_RTT.c ****   }
 630:Drivers/RTT/SEGGER_RTT.c ****   //
 631:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesRead;
 645              		.loc 1 631 3 is_stmt 1 view .LVU205
 646              	.L25:
 632:Drivers/RTT/SEGGER_RTT.c **** }
 647              		.loc 1 632 1 is_stmt 0 view .LVU206
 648 003c 3046     		mov	r0, r6
 649 003e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 650              	.LVL61:
 651              	.L33:
 652              	.LBB3:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 26


 568:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 653              		.loc 1 568 3 is_stmt 1 discriminator 1 view .LVU207
 654 0042 FFF7FEFF 		bl	_DoInit
 655              	.LVL62:
 568:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 656              		.loc 1 568 3 is_stmt 0 discriminator 1 view .LVU208
 657 0046 E3E7     		b	.L26
 658              	.LVL63:
 659              	.L34:
 568:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 660              		.loc 1 568 3 discriminator 1 view .LVU209
 661              	.LBE3:
 578:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 662              		.loc 1 578 5 is_stmt 1 view .LVU210
 578:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 663              		.loc 1 578 24 is_stmt 0 view .LVU211
 664 0048 1346     		mov	r3, r2
 665 004a 04EB440A 		add	r10, r4, r4, lsl #1
 666 004e 02EBCA0A 		add	r10, r2, r10, lsl #3
 667 0052 DAF82060 		ldr	r6, [r10, #32]
 578:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 668              		.loc 1 578 17 view .LVU212
 669 0056 F61B     		subs	r6, r6, r7
 670              	.LVL64:
 579:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 671              		.loc 1 579 5 is_stmt 1 view .LVU213
 579:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 672              		.loc 1 579 17 is_stmt 0 view .LVU214
 673 0058 4E45     		cmp	r6, r9
 674 005a 28BF     		it	cs
 675 005c 4E46     		movcs	r6, r9
 676              	.LVL65:
 580:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 677              		.loc 1 580 5 is_stmt 1 view .LVU215
 580:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 678              		.loc 1 580 18 is_stmt 0 view .LVU216
 679 005e 621C     		adds	r2, r4, #1
 680 0060 02EB4202 		add	r2, r2, r2, lsl #1
 681 0064 03EBC203 		add	r3, r3, r2, lsl #3
 682 0068 5968     		ldr	r1, [r3, #4]
 683              	.LVL66:
 589:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 684              		.loc 1 589 5 is_stmt 1 view .LVU217
 685 006a 3246     		mov	r2, r6
 686 006c 3944     		add	r1, r1, r7
 687              	.LVL67:
 589:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 688              		.loc 1 589 5 is_stmt 0 view .LVU218
 689 006e 4046     		mov	r0, r8
 690 0070 FFF7FEFF 		bl	memcpy
 691              	.LVL68:
 590:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 692              		.loc 1 590 5 is_stmt 1 view .LVU219
 591:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 693              		.loc 1 591 5 view .LVU220
 591:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 694              		.loc 1 591 18 is_stmt 0 view .LVU221
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 27


 695 0074 B044     		add	r8, r8, r6
 696              	.LVL69:
 592:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 697              		.loc 1 592 5 is_stmt 1 view .LVU222
 592:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 698              		.loc 1 592 18 is_stmt 0 view .LVU223
 699 0076 A9EB0609 		sub	r9, r9, r6
 700              	.LVL70:
 593:Drivers/RTT/SEGGER_RTT.c **** #endif
 701              		.loc 1 593 5 is_stmt 1 view .LVU224
 593:Drivers/RTT/SEGGER_RTT.c **** #endif
 702              		.loc 1 593 18 is_stmt 0 view .LVU225
 703 007a 3744     		add	r7, r7, r6
 704              	.LVL71:
 598:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 705              		.loc 1 598 5 is_stmt 1 view .LVU226
 598:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 706              		.loc 1 598 23 is_stmt 0 view .LVU227
 707 007c DAF82030 		ldr	r3, [r10, #32]
 598:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 708              		.loc 1 598 8 view .LVU228
 709 0080 BB42     		cmp	r3, r7
 710 0082 CFD1     		bne	.L27
 599:Drivers/RTT/SEGGER_RTT.c ****     }
 711              		.loc 1 599 13 view .LVU229
 712 0084 0027     		movs	r7, #0
 713              	.LVL72:
 599:Drivers/RTT/SEGGER_RTT.c ****     }
 714              		.loc 1 599 13 view .LVU230
 715 0086 CDE7     		b	.L27
 716              	.LVL73:
 717              	.L35:
 608:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 718              		.loc 1 608 5 is_stmt 1 view .LVU231
 608:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 719              		.loc 1 608 18 is_stmt 0 view .LVU232
 720 0088 631C     		adds	r3, r4, #1
 721 008a 03EB4303 		add	r3, r3, r3, lsl #1
 722 008e 064A     		ldr	r2, .L36
 723 0090 02EBC303 		add	r3, r2, r3, lsl #3
 724 0094 5968     		ldr	r1, [r3, #4]
 725              	.LVL74:
 617:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 726              		.loc 1 617 5 is_stmt 1 view .LVU233
 727 0096 2A46     		mov	r2, r5
 728 0098 3944     		add	r1, r1, r7
 729              	.LVL75:
 617:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 730              		.loc 1 617 5 is_stmt 0 view .LVU234
 731 009a 4046     		mov	r0, r8
 732 009c FFF7FEFF 		bl	memcpy
 733              	.LVL76:
 618:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 734              		.loc 1 618 5 is_stmt 1 view .LVU235
 618:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 735              		.loc 1 618 18 is_stmt 0 view .LVU236
 736 00a0 2E44     		add	r6, r6, r5
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 28


 737              	.LVL77:
 619:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 738              		.loc 1 619 5 is_stmt 1 view .LVU237
 620:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 739              		.loc 1 620 5 view .LVU238
 621:Drivers/RTT/SEGGER_RTT.c **** #endif
 740              		.loc 1 621 5 view .LVU239
 621:Drivers/RTT/SEGGER_RTT.c **** #endif
 741              		.loc 1 621 18 is_stmt 0 view .LVU240
 742 00a2 2F44     		add	r7, r7, r5
 743              	.LVL78:
 621:Drivers/RTT/SEGGER_RTT.c **** #endif
 744              		.loc 1 621 18 view .LVU241
 745 00a4 C3E7     		b	.L28
 746              	.L37:
 747 00a6 00BF     		.align	2
 748              	.L36:
 749 00a8 00000000 		.word	.LANCHOR1
 750              		.cfi_endproc
 751              	.LFE5:
 753              		.section	.text.SEGGER_RTT_ReadNoLock,"ax",%progbits
 754              		.align	1
 755              		.global	SEGGER_RTT_ReadNoLock
 756              		.syntax unified
 757              		.thumb
 758              		.thumb_func
 759              		.fpu fpv5-sp-d16
 761              	SEGGER_RTT_ReadNoLock:
 762              	.LVL79:
 763              	.LFB6:
 633:Drivers/RTT/SEGGER_RTT.c **** 
 634:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 635:Drivers/RTT/SEGGER_RTT.c **** *
 636:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_ReadNoLock()
 637:Drivers/RTT/SEGGER_RTT.c **** *
 638:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 639:Drivers/RTT/SEGGER_RTT.c **** *    Reads characters from SEGGER real-time-terminal control block
 640:Drivers/RTT/SEGGER_RTT.c **** *    which have been previously stored by the host.
 641:Drivers/RTT/SEGGER_RTT.c **** *    Do not lock against interrupts and multiple access.
 642:Drivers/RTT/SEGGER_RTT.c **** *
 643:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 644:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of Down-buffer to be used (e.g. 0 for "Terminal").
 645:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to buffer provided by target application, to copy characters from RTT-dow
 646:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the target application buffer.
 647:Drivers/RTT/SEGGER_RTT.c **** *
 648:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 649:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that have been read.
 650:Drivers/RTT/SEGGER_RTT.c **** */
 651:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_ReadNoLock(unsigned BufferIndex, void* pData, unsigned BufferSize) {
 764              		.loc 1 651 88 is_stmt 1 view -0
 765              		.cfi_startproc
 766              		@ args = 0, pretend = 0, frame = 0
 767              		@ frame_needed = 0, uses_anonymous_args = 0
 768              		.loc 1 651 88 is_stmt 0 view .LVU243
 769 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 770              	.LCFI6:
 771              		.cfi_def_cfa_offset 32
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 29


 772              		.cfi_offset 4, -32
 773              		.cfi_offset 5, -28
 774              		.cfi_offset 6, -24
 775              		.cfi_offset 7, -20
 776              		.cfi_offset 8, -16
 777              		.cfi_offset 9, -12
 778              		.cfi_offset 10, -8
 779              		.cfi_offset 14, -4
 780 0004 0446     		mov	r4, r0
 781 0006 8846     		mov	r8, r1
 782 0008 9146     		mov	r9, r2
 652:Drivers/RTT/SEGGER_RTT.c ****   unsigned                NumBytesRem;
 783              		.loc 1 652 3 is_stmt 1 view .LVU244
 653:Drivers/RTT/SEGGER_RTT.c ****   unsigned                NumBytesRead;
 784              		.loc 1 653 3 view .LVU245
 654:Drivers/RTT/SEGGER_RTT.c ****   unsigned                RdOff;
 785              		.loc 1 654 3 view .LVU246
 655:Drivers/RTT/SEGGER_RTT.c ****   unsigned                WrOff;
 786              		.loc 1 655 3 view .LVU247
 656:Drivers/RTT/SEGGER_RTT.c ****   unsigned char*          pBuffer;
 787              		.loc 1 656 3 view .LVU248
 657:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_DOWN* pRing;
 788              		.loc 1 657 3 view .LVU249
 658:Drivers/RTT/SEGGER_RTT.c ****   volatile char*          pSrc;
 789              		.loc 1 658 3 view .LVU250
 790              	.LBB4:
 659:Drivers/RTT/SEGGER_RTT.c ****   //
 660:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 791              		.loc 1 660 3 view .LVU251
 792              		.loc 1 660 3 view .LVU252
 793              	.LVL80:
 794              		.loc 1 660 3 view .LVU253
 795              		.loc 1 660 3 view .LVU254
 796 000a 244B     		ldr	r3, .L49
 797 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 798 000e C3B1     		cbz	r3, .L46
 799              	.LVL81:
 800              	.L39:
 801              		.loc 1 660 3 discriminator 3 view .LVU255
 802              	.LBE4:
 803              		.loc 1 660 9 discriminator 3 view .LVU256
 661:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[BufferIndex] + SEGGER_RTT_UNCACHED_OF
 804              		.loc 1 661 3 discriminator 3 view .LVU257
 662:Drivers/RTT/SEGGER_RTT.c ****   pBuffer = (unsigned char*)pData;
 805              		.loc 1 662 3 discriminator 3 view .LVU258
 663:Drivers/RTT/SEGGER_RTT.c ****   RdOff = pRing->RdOff;
 806              		.loc 1 663 3 discriminator 3 view .LVU259
 807              		.loc 1 663 9 is_stmt 0 discriminator 3 view .LVU260
 808 0010 04EB4403 		add	r3, r4, r4, lsl #1
 809 0014 214A     		ldr	r2, .L49
 810 0016 02EBC303 		add	r3, r2, r3, lsl #3
 811 001a 1F6F     		ldr	r7, [r3, #112]
 812              	.LVL82:
 664:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 813              		.loc 1 664 3 is_stmt 1 discriminator 3 view .LVU261
 814              		.loc 1 664 9 is_stmt 0 discriminator 3 view .LVU262
 815 001c DD6E     		ldr	r5, [r3, #108]
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 30


 816              	.LVL83:
 665:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRead = 0u;
 817              		.loc 1 665 3 is_stmt 1 discriminator 3 view .LVU263
 666:Drivers/RTT/SEGGER_RTT.c ****   //
 667:Drivers/RTT/SEGGER_RTT.c ****   // Read from current read position to wrap-around of buffer, first
 668:Drivers/RTT/SEGGER_RTT.c ****   //
 669:Drivers/RTT/SEGGER_RTT.c ****   if (RdOff > WrOff) {
 818              		.loc 1 669 3 discriminator 3 view .LVU264
 819              		.loc 1 669 6 is_stmt 0 discriminator 3 view .LVU265
 820 001e AF42     		cmp	r7, r5
 821 0020 12D8     		bhi	.L47
 665:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRead = 0u;
 822              		.loc 1 665 16 view .LVU266
 823 0022 0026     		movs	r6, #0
 824              	.LVL84:
 825              	.L40:
 670:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = pRing->SizeOfBuffer - RdOff;
 671:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 672:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 673:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 674:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 675:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 676:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 677:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesRem--) {
 678:Drivers/RTT/SEGGER_RTT.c ****       *pBuffer++ = *pSrc++;
 679:Drivers/RTT/SEGGER_RTT.c ****     };
 680:Drivers/RTT/SEGGER_RTT.c **** #else
 681:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY(pBuffer, (void*)pSrc, NumBytesRem);
 682:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 683:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 684:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 685:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 686:Drivers/RTT/SEGGER_RTT.c **** #endif
 687:Drivers/RTT/SEGGER_RTT.c ****     //
 688:Drivers/RTT/SEGGER_RTT.c ****     // Handle wrap-around of buffer
 689:Drivers/RTT/SEGGER_RTT.c ****     //
 690:Drivers/RTT/SEGGER_RTT.c ****     if (RdOff == pRing->SizeOfBuffer) {
 691:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 692:Drivers/RTT/SEGGER_RTT.c ****     }
 693:Drivers/RTT/SEGGER_RTT.c ****   }
 694:Drivers/RTT/SEGGER_RTT.c ****   //
 695:Drivers/RTT/SEGGER_RTT.c ****   // Read remaining items of buffer
 696:Drivers/RTT/SEGGER_RTT.c ****   //
 697:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRem = WrOff - RdOff;
 826              		.loc 1 697 3 is_stmt 1 view .LVU267
 827              		.loc 1 697 15 is_stmt 0 view .LVU268
 828 0024 ED1B     		subs	r5, r5, r7
 829              	.LVL85:
 698:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRem = MIN(NumBytesRem, BufferSize);
 830              		.loc 1 698 3 is_stmt 1 view .LVU269
 831              		.loc 1 698 15 is_stmt 0 view .LVU270
 832 0026 4D45     		cmp	r5, r9
 833 0028 28BF     		it	cs
 834 002a 4D46     		movcs	r5, r9
 835              	.LVL86:
 699:Drivers/RTT/SEGGER_RTT.c ****   if (NumBytesRem > 0u) {
 836              		.loc 1 699 3 is_stmt 1 view .LVU271
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 31


 837              		.loc 1 699 6 is_stmt 0 view .LVU272
 838 002c 3DBB     		cbnz	r5, .L48
 839              	.LVL87:
 840              	.L41:
 700:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 701:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 702:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 703:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 704:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 705:Drivers/RTT/SEGGER_RTT.c ****     while (NumBytesRem--) {
 706:Drivers/RTT/SEGGER_RTT.c ****       *pBuffer++ = *pSrc++;
 707:Drivers/RTT/SEGGER_RTT.c ****     };
 708:Drivers/RTT/SEGGER_RTT.c **** #else
 709:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_MEMCPY(pBuffer, (void*)pSrc, NumBytesRem);
 710:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 711:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 712:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 713:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 714:Drivers/RTT/SEGGER_RTT.c **** #endif
 715:Drivers/RTT/SEGGER_RTT.c ****   }
 716:Drivers/RTT/SEGGER_RTT.c ****   if (NumBytesRead) {
 841              		.loc 1 716 3 is_stmt 1 view .LVU273
 842              		.loc 1 716 6 is_stmt 0 view .LVU274
 843 002e 2EB1     		cbz	r6, .L38
 717:Drivers/RTT/SEGGER_RTT.c ****     pRing->RdOff = RdOff;
 844              		.loc 1 717 5 is_stmt 1 view .LVU275
 845              		.loc 1 717 18 is_stmt 0 view .LVU276
 846 0030 04EB4404 		add	r4, r4, r4, lsl #1
 847              	.LVL88:
 848              		.loc 1 717 18 view .LVU277
 849 0034 1948     		ldr	r0, .L49
 850 0036 00EBC404 		add	r4, r0, r4, lsl #3
 851 003a 2767     		str	r7, [r4, #112]
 718:Drivers/RTT/SEGGER_RTT.c ****   }
 719:Drivers/RTT/SEGGER_RTT.c ****   //
 720:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesRead;
 852              		.loc 1 720 3 is_stmt 1 view .LVU278
 853              	.L38:
 721:Drivers/RTT/SEGGER_RTT.c **** }
 854              		.loc 1 721 1 is_stmt 0 view .LVU279
 855 003c 3046     		mov	r0, r6
 856 003e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 857              	.LVL89:
 858              	.L46:
 859              	.LBB5:
 660:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[BufferIndex] + SEGGER_RTT_UNCACHED_OF
 860              		.loc 1 660 3 is_stmt 1 discriminator 1 view .LVU280
 861 0042 FFF7FEFF 		bl	_DoInit
 862              	.LVL90:
 660:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[BufferIndex] + SEGGER_RTT_UNCACHED_OF
 863              		.loc 1 660 3 is_stmt 0 discriminator 1 view .LVU281
 864 0046 E3E7     		b	.L39
 865              	.LVL91:
 866              	.L47:
 660:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[BufferIndex] + SEGGER_RTT_UNCACHED_OF
 867              		.loc 1 660 3 discriminator 1 view .LVU282
 868              	.LBE5:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 32


 670:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 869              		.loc 1 670 5 is_stmt 1 view .LVU283
 670:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 870              		.loc 1 670 24 is_stmt 0 view .LVU284
 871 0048 04EB440A 		add	r10, r4, r4, lsl #1
 872 004c 02EBCA0A 		add	r10, r2, r10, lsl #3
 873 0050 DAF86860 		ldr	r6, [r10, #104]
 670:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRem = MIN(NumBytesRem, BufferSize);
 874              		.loc 1 670 17 view .LVU285
 875 0054 F61B     		subs	r6, r6, r7
 876              	.LVL92:
 671:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 877              		.loc 1 671 5 is_stmt 1 view .LVU286
 671:Drivers/RTT/SEGGER_RTT.c ****     pSrc = (pRing->pBuffer + RdOff) + SEGGER_RTT_UNCACHED_OFF;
 878              		.loc 1 671 17 is_stmt 0 view .LVU287
 879 0056 4E45     		cmp	r6, r9
 880 0058 28BF     		it	cs
 881 005a 4E46     		movcs	r6, r9
 882              	.LVL93:
 672:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 883              		.loc 1 672 5 is_stmt 1 view .LVU288
 672:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 884              		.loc 1 672 18 is_stmt 0 view .LVU289
 885 005c DAF86410 		ldr	r1, [r10, #100]
 886              	.LVL94:
 681:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 887              		.loc 1 681 5 is_stmt 1 view .LVU290
 888 0060 3246     		mov	r2, r6
 889 0062 3944     		add	r1, r1, r7
 890              	.LVL95:
 681:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 891              		.loc 1 681 5 is_stmt 0 view .LVU291
 892 0064 4046     		mov	r0, r8
 893 0066 FFF7FEFF 		bl	memcpy
 894              	.LVL96:
 682:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 895              		.loc 1 682 5 is_stmt 1 view .LVU292
 683:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 896              		.loc 1 683 5 view .LVU293
 683:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 897              		.loc 1 683 18 is_stmt 0 view .LVU294
 898 006a B044     		add	r8, r8, r6
 899              	.LVL97:
 684:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 900              		.loc 1 684 5 is_stmt 1 view .LVU295
 684:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 901              		.loc 1 684 18 is_stmt 0 view .LVU296
 902 006c A9EB0609 		sub	r9, r9, r6
 903              	.LVL98:
 685:Drivers/RTT/SEGGER_RTT.c **** #endif
 904              		.loc 1 685 5 is_stmt 1 view .LVU297
 685:Drivers/RTT/SEGGER_RTT.c **** #endif
 905              		.loc 1 685 18 is_stmt 0 view .LVU298
 906 0070 3744     		add	r7, r7, r6
 907              	.LVL99:
 690:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 908              		.loc 1 690 5 is_stmt 1 view .LVU299
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 33


 690:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 909              		.loc 1 690 23 is_stmt 0 view .LVU300
 910 0072 DAF86830 		ldr	r3, [r10, #104]
 690:Drivers/RTT/SEGGER_RTT.c ****       RdOff = 0u;
 911              		.loc 1 690 8 view .LVU301
 912 0076 BB42     		cmp	r3, r7
 913 0078 D4D1     		bne	.L40
 691:Drivers/RTT/SEGGER_RTT.c ****     }
 914              		.loc 1 691 13 view .LVU302
 915 007a 0027     		movs	r7, #0
 916              	.LVL100:
 691:Drivers/RTT/SEGGER_RTT.c ****     }
 917              		.loc 1 691 13 view .LVU303
 918 007c D2E7     		b	.L40
 919              	.LVL101:
 920              	.L48:
 700:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 921              		.loc 1 700 5 is_stmt 1 view .LVU304
 700:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 922              		.loc 1 700 18 is_stmt 0 view .LVU305
 923 007e 04EB4403 		add	r3, r4, r4, lsl #1
 924 0082 064A     		ldr	r2, .L49
 925 0084 02EBC303 		add	r3, r2, r3, lsl #3
 926 0088 596E     		ldr	r1, [r3, #100]
 927              	.LVL102:
 709:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 928              		.loc 1 709 5 is_stmt 1 view .LVU306
 929 008a 2A46     		mov	r2, r5
 930 008c 3944     		add	r1, r1, r7
 931              	.LVL103:
 709:Drivers/RTT/SEGGER_RTT.c ****     NumBytesRead += NumBytesRem;
 932              		.loc 1 709 5 is_stmt 0 view .LVU307
 933 008e 4046     		mov	r0, r8
 934 0090 FFF7FEFF 		bl	memcpy
 935              	.LVL104:
 710:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 936              		.loc 1 710 5 is_stmt 1 view .LVU308
 710:Drivers/RTT/SEGGER_RTT.c ****     pBuffer      += NumBytesRem;
 937              		.loc 1 710 18 is_stmt 0 view .LVU309
 938 0094 2E44     		add	r6, r6, r5
 939              	.LVL105:
 711:Drivers/RTT/SEGGER_RTT.c ****     BufferSize   -= NumBytesRem;
 940              		.loc 1 711 5 is_stmt 1 view .LVU310
 712:Drivers/RTT/SEGGER_RTT.c ****     RdOff        += NumBytesRem;
 941              		.loc 1 712 5 view .LVU311
 713:Drivers/RTT/SEGGER_RTT.c **** #endif
 942              		.loc 1 713 5 view .LVU312
 713:Drivers/RTT/SEGGER_RTT.c **** #endif
 943              		.loc 1 713 18 is_stmt 0 view .LVU313
 944 0096 2F44     		add	r7, r7, r5
 945              	.LVL106:
 713:Drivers/RTT/SEGGER_RTT.c **** #endif
 946              		.loc 1 713 18 view .LVU314
 947 0098 C9E7     		b	.L41
 948              	.L50:
 949 009a 00BF     		.align	2
 950              	.L49:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 34


 951 009c 00000000 		.word	.LANCHOR1
 952              		.cfi_endproc
 953              	.LFE6:
 955              		.section	.text.SEGGER_RTT_ReadUpBuffer,"ax",%progbits
 956              		.align	1
 957              		.global	SEGGER_RTT_ReadUpBuffer
 958              		.syntax unified
 959              		.thumb
 960              		.thumb_func
 961              		.fpu fpv5-sp-d16
 963              	SEGGER_RTT_ReadUpBuffer:
 964              	.LVL107:
 965              	.LFB7:
 722:Drivers/RTT/SEGGER_RTT.c **** 
 723:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 724:Drivers/RTT/SEGGER_RTT.c **** *
 725:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_ReadUpBuffer
 726:Drivers/RTT/SEGGER_RTT.c **** *
 727:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 728:Drivers/RTT/SEGGER_RTT.c **** *    Reads characters from SEGGER real-time-terminal control block
 729:Drivers/RTT/SEGGER_RTT.c **** *    which have been previously stored by the application.
 730:Drivers/RTT/SEGGER_RTT.c **** *    Used to do the same operation that J-Link does, to transfer 
 731:Drivers/RTT/SEGGER_RTT.c **** *    RTT data via other channels, such as TCP/IP or UART.
 732:Drivers/RTT/SEGGER_RTT.c **** *
 733:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 734:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of Up-buffer to be used.
 735:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to buffer provided by target application, to copy characters from RTT-up-
 736:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the target application buffer.
 737:Drivers/RTT/SEGGER_RTT.c **** *
 738:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 739:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that have been read.
 740:Drivers/RTT/SEGGER_RTT.c **** *
 741:Drivers/RTT/SEGGER_RTT.c **** *  Additional information
 742:Drivers/RTT/SEGGER_RTT.c **** *    This function must not be called when J-Link might also do RTT.
 743:Drivers/RTT/SEGGER_RTT.c **** *    This function locks against all other RTT operations. I.e. during
 744:Drivers/RTT/SEGGER_RTT.c **** *    the read operation, writing is also locked.
 745:Drivers/RTT/SEGGER_RTT.c **** *    If only one consumer reads from the up buffer, 
 746:Drivers/RTT/SEGGER_RTT.c **** *    call sEGGER_RTT_ReadUpBufferNoLock() instead.
 747:Drivers/RTT/SEGGER_RTT.c **** */
 748:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_ReadUpBuffer(unsigned BufferIndex, void* pBuffer, unsigned BufferSize) {
 966              		.loc 1 748 92 is_stmt 1 view -0
 967              		.cfi_startproc
 968              		@ args = 0, pretend = 0, frame = 0
 969              		@ frame_needed = 0, uses_anonymous_args = 0
 970              		.loc 1 748 92 is_stmt 0 view .LVU316
 971 0000 10B5     		push	{r4, lr}
 972              	.LCFI7:
 973              		.cfi_def_cfa_offset 8
 974              		.cfi_offset 4, -8
 975              		.cfi_offset 14, -4
 976 0002 0B46     		mov	r3, r1
 749:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesRead;
 977              		.loc 1 749 3 is_stmt 1 view .LVU317
 978              	.LBB6:
 750:Drivers/RTT/SEGGER_RTT.c **** 
 751:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 979              		.loc 1 751 3 view .LVU318
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 35


 980              		.loc 1 751 3 view .LVU319
 981              		.syntax unified
 982              	@ 751 "Drivers/RTT/SEGGER_RTT.c" 1
 983 0004 EFF31184 		mrs   r4, basepri  
 984 0008 4FF02001 		mov   r1, #32       
 985 000c 81F31188 		msr   basepri, r1  
 986              		
 987              	@ 0 "" 2
 988              	.LVL108:
 989              		.loc 1 751 20 view .LVU320
 752:Drivers/RTT/SEGGER_RTT.c ****   //
 753:Drivers/RTT/SEGGER_RTT.c ****   // Call the non-locking read function
 754:Drivers/RTT/SEGGER_RTT.c ****   //
 755:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRead = SEGGER_RTT_ReadUpBufferNoLock(BufferIndex, pBuffer, BufferSize);
 990              		.loc 1 755 3 view .LVU321
 991              		.loc 1 755 18 is_stmt 0 view .LVU322
 992              		.thumb
 993              		.syntax unified
 994 0010 1946     		mov	r1, r3
 995 0012 FFF7FEFF 		bl	SEGGER_RTT_ReadUpBufferNoLock
 996              	.LVL109:
 756:Drivers/RTT/SEGGER_RTT.c ****   //
 757:Drivers/RTT/SEGGER_RTT.c ****   // Finish up.
 758:Drivers/RTT/SEGGER_RTT.c ****   //
 759:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 997              		.loc 1 759 3 is_stmt 1 view .LVU323
 998              		.syntax unified
 999              	@ 759 "Drivers/RTT/SEGGER_RTT.c" 1
 1000 0016 84F31188 		msr   basepri, r4  
 1001              		
 1002              	@ 0 "" 2
 1003              		.thumb
 1004              		.syntax unified
 1005              	.LBE6:
 1006              		.loc 1 759 22 view .LVU324
 760:Drivers/RTT/SEGGER_RTT.c ****   //
 761:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesRead;
 1007              		.loc 1 761 3 view .LVU325
 762:Drivers/RTT/SEGGER_RTT.c **** }
 1008              		.loc 1 762 1 is_stmt 0 view .LVU326
 1009 001a 10BD     		pop	{r4, pc}
 1010              		.loc 1 762 1 view .LVU327
 1011              		.cfi_endproc
 1012              	.LFE7:
 1014              		.section	.text.SEGGER_RTT_Read,"ax",%progbits
 1015              		.align	1
 1016              		.global	SEGGER_RTT_Read
 1017              		.syntax unified
 1018              		.thumb
 1019              		.thumb_func
 1020              		.fpu fpv5-sp-d16
 1022              	SEGGER_RTT_Read:
 1023              	.LVL110:
 1024              	.LFB8:
 763:Drivers/RTT/SEGGER_RTT.c **** 
 764:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 765:Drivers/RTT/SEGGER_RTT.c **** *
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 36


 766:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_Read
 767:Drivers/RTT/SEGGER_RTT.c **** *
 768:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 769:Drivers/RTT/SEGGER_RTT.c **** *    Reads characters from SEGGER real-time-terminal control block
 770:Drivers/RTT/SEGGER_RTT.c **** *    which have been previously stored by the host.
 771:Drivers/RTT/SEGGER_RTT.c **** *
 772:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 773:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of Down-buffer to be used (e.g. 0 for "Terminal").
 774:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to buffer provided by target application, to copy characters from RTT-dow
 775:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the target application buffer.
 776:Drivers/RTT/SEGGER_RTT.c **** *
 777:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 778:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that have been read.
 779:Drivers/RTT/SEGGER_RTT.c **** */
 780:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_Read(unsigned BufferIndex, void* pBuffer, unsigned BufferSize) {
 1025              		.loc 1 780 84 is_stmt 1 view -0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 0
 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 1029              		.loc 1 780 84 is_stmt 0 view .LVU329
 1030 0000 10B5     		push	{r4, lr}
 1031              	.LCFI8:
 1032              		.cfi_def_cfa_offset 8
 1033              		.cfi_offset 4, -8
 1034              		.cfi_offset 14, -4
 1035 0002 0B46     		mov	r3, r1
 781:Drivers/RTT/SEGGER_RTT.c ****   unsigned NumBytesRead;
 1036              		.loc 1 781 3 is_stmt 1 view .LVU330
 1037              	.LBB7:
 782:Drivers/RTT/SEGGER_RTT.c **** 
 783:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1038              		.loc 1 783 3 view .LVU331
 1039              		.loc 1 783 3 view .LVU332
 1040              		.syntax unified
 1041              	@ 783 "Drivers/RTT/SEGGER_RTT.c" 1
 1042 0004 EFF31184 		mrs   r4, basepri  
 1043 0008 4FF02001 		mov   r1, #32       
 1044 000c 81F31188 		msr   basepri, r1  
 1045              		
 1046              	@ 0 "" 2
 1047              	.LVL111:
 1048              		.loc 1 783 20 view .LVU333
 784:Drivers/RTT/SEGGER_RTT.c ****   //
 785:Drivers/RTT/SEGGER_RTT.c ****   // Call the non-locking read function
 786:Drivers/RTT/SEGGER_RTT.c ****   //
 787:Drivers/RTT/SEGGER_RTT.c ****   NumBytesRead = SEGGER_RTT_ReadNoLock(BufferIndex, pBuffer, BufferSize);
 1049              		.loc 1 787 3 view .LVU334
 1050              		.loc 1 787 18 is_stmt 0 view .LVU335
 1051              		.thumb
 1052              		.syntax unified
 1053 0010 1946     		mov	r1, r3
 1054 0012 FFF7FEFF 		bl	SEGGER_RTT_ReadNoLock
 1055              	.LVL112:
 788:Drivers/RTT/SEGGER_RTT.c ****   //
 789:Drivers/RTT/SEGGER_RTT.c ****   // Finish up.
 790:Drivers/RTT/SEGGER_RTT.c ****   //
 791:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 37


 1056              		.loc 1 791 3 is_stmt 1 view .LVU336
 1057              		.syntax unified
 1058              	@ 791 "Drivers/RTT/SEGGER_RTT.c" 1
 1059 0016 84F31188 		msr   basepri, r4  
 1060              		
 1061              	@ 0 "" 2
 1062              		.thumb
 1063              		.syntax unified
 1064              	.LBE7:
 1065              		.loc 1 791 22 view .LVU337
 792:Drivers/RTT/SEGGER_RTT.c ****   //
 793:Drivers/RTT/SEGGER_RTT.c ****   return NumBytesRead;
 1066              		.loc 1 793 3 view .LVU338
 794:Drivers/RTT/SEGGER_RTT.c **** }
 1067              		.loc 1 794 1 is_stmt 0 view .LVU339
 1068 001a 10BD     		pop	{r4, pc}
 1069              		.loc 1 794 1 view .LVU340
 1070              		.cfi_endproc
 1071              	.LFE8:
 1073              		.section	.text.SEGGER_RTT_WriteWithOverwriteNoLock,"ax",%progbits
 1074              		.align	1
 1075              		.global	SEGGER_RTT_WriteWithOverwriteNoLock
 1076              		.syntax unified
 1077              		.thumb
 1078              		.thumb_func
 1079              		.fpu fpv5-sp-d16
 1081              	SEGGER_RTT_WriteWithOverwriteNoLock:
 1082              	.LVL113:
 1083              	.LFB9:
 795:Drivers/RTT/SEGGER_RTT.c **** 
 796:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 797:Drivers/RTT/SEGGER_RTT.c **** *
 798:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WriteWithOverwriteNoLock
 799:Drivers/RTT/SEGGER_RTT.c **** *
 800:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 801:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT
 802:Drivers/RTT/SEGGER_RTT.c **** *    control block.
 803:Drivers/RTT/SEGGER_RTT.c **** *    SEGGER_RTT_WriteWithOverwriteNoLock does not lock the application 
 804:Drivers/RTT/SEGGER_RTT.c **** *    and overwrites data if the data does not fit into the buffer.
 805:Drivers/RTT/SEGGER_RTT.c **** *
 806:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 807:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
 808:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
 809:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
 810:Drivers/RTT/SEGGER_RTT.c **** *
 811:Drivers/RTT/SEGGER_RTT.c **** *  Notes
 812:Drivers/RTT/SEGGER_RTT.c **** *    (1) If there is not enough space in the "Up"-buffer, data is overwritten.
 813:Drivers/RTT/SEGGER_RTT.c **** *    (2) For performance reasons this function does not call Init()
 814:Drivers/RTT/SEGGER_RTT.c **** *        and may only be called after RTT has been initialized.
 815:Drivers/RTT/SEGGER_RTT.c **** *        Either by calling SEGGER_RTT_Init() or calling another RTT API function first.
 816:Drivers/RTT/SEGGER_RTT.c **** *    (3) Do not use SEGGER_RTT_WriteWithOverwriteNoLock if a J-Link 
 817:Drivers/RTT/SEGGER_RTT.c **** *        connection reads RTT data.
 818:Drivers/RTT/SEGGER_RTT.c **** */
 819:Drivers/RTT/SEGGER_RTT.c **** void SEGGER_RTT_WriteWithOverwriteNoLock(unsigned BufferIndex, const void* pBuffer, unsigned NumByt
 1084              		.loc 1 819 104 is_stmt 1 view -0
 1085              		.cfi_startproc
 1086              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 38


 1087              		@ frame_needed = 0, uses_anonymous_args = 0
 1088              		.loc 1 819 104 is_stmt 0 view .LVU342
 1089 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1090              	.LCFI9:
 1091              		.cfi_def_cfa_offset 32
 1092              		.cfi_offset 3, -32
 1093              		.cfi_offset 4, -28
 1094              		.cfi_offset 5, -24
 1095              		.cfi_offset 6, -20
 1096              		.cfi_offset 7, -16
 1097              		.cfi_offset 8, -12
 1098              		.cfi_offset 9, -8
 1099              		.cfi_offset 14, -4
 1100 0004 0646     		mov	r6, r0
 1101 0006 8846     		mov	r8, r1
 1102 0008 1746     		mov	r7, r2
 820:Drivers/RTT/SEGGER_RTT.c ****   const char*           pData;
 1103              		.loc 1 820 3 is_stmt 1 view .LVU343
 821:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 1104              		.loc 1 821 3 view .LVU344
 822:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Avail;
 1105              		.loc 1 822 3 view .LVU345
 823:Drivers/RTT/SEGGER_RTT.c ****   volatile char*        pDst;
 1106              		.loc 1 823 3 view .LVU346
 824:Drivers/RTT/SEGGER_RTT.c ****   //
 825:Drivers/RTT/SEGGER_RTT.c ****   // Get "to-host" ring buffer and copy some elements into local variables.
 826:Drivers/RTT/SEGGER_RTT.c ****   //
 827:Drivers/RTT/SEGGER_RTT.c ****   pData = (const char *)pBuffer;
 1107              		.loc 1 827 3 view .LVU347
 1108              	.LVL114:
 828:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 1109              		.loc 1 828 3 view .LVU348
 829:Drivers/RTT/SEGGER_RTT.c ****   //
 830:Drivers/RTT/SEGGER_RTT.c ****   // Check if we will overwrite data and need to adjust the RdOff.
 831:Drivers/RTT/SEGGER_RTT.c ****   //
 832:Drivers/RTT/SEGGER_RTT.c ****   if (pRing->WrOff == pRing->RdOff) {
 1110              		.loc 1 832 3 view .LVU349
 1111              		.loc 1 832 12 is_stmt 0 view .LVU350
 1112 000a 00EB4002 		add	r2, r0, r0, lsl #1
 1113              	.LVL115:
 1114              		.loc 1 832 12 view .LVU351
 1115 000e 414B     		ldr	r3, .L68
 1116 0010 03EBC203 		add	r3, r3, r2, lsl #3
 1117 0014 596A     		ldr	r1, [r3, #36]
 1118              	.LVL116:
 1119              		.loc 1 832 28 view .LVU352
 1120 0016 9B6A     		ldr	r3, [r3, #40]
 1121              		.loc 1 832 6 view .LVU353
 1122 0018 9942     		cmp	r1, r3
 1123 001a 0FD0     		beq	.L66
 833:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->SizeOfBuffer - 1u;
 834:Drivers/RTT/SEGGER_RTT.c ****   } else if ( pRing->WrOff < pRing->RdOff) {
 1124              		.loc 1 834 10 is_stmt 1 view .LVU354
 1125              		.loc 1 834 35 is_stmt 0 view .LVU355
 1126 001c 00EB4003 		add	r3, r0, r0, lsl #1
 1127 0020 3C4A     		ldr	r2, .L68
 1128 0022 02EBC303 		add	r3, r2, r3, lsl #3
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 39


 1129 0026 9B6A     		ldr	r3, [r3, #40]
 1130              		.loc 1 834 13 view .LVU356
 1131 0028 9942     		cmp	r1, r3
 1132 002a 19D2     		bcs	.L58
 835:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->RdOff - pRing->WrOff - 1u;
 1133              		.loc 1 835 5 is_stmt 1 view .LVU357
 1134              		.loc 1 835 18 is_stmt 0 view .LVU358
 1135 002c 00EB4003 		add	r3, r0, r0, lsl #1
 1136 0030 02EBC303 		add	r3, r2, r3, lsl #3
 1137 0034 9B6A     		ldr	r3, [r3, #40]
 1138              		.loc 1 835 26 view .LVU359
 1139 0036 5B1A     		subs	r3, r3, r1
 1140              		.loc 1 835 11 view .LVU360
 1141 0038 013B     		subs	r3, r3, #1
 1142              	.LVL117:
 1143              		.loc 1 835 11 view .LVU361
 1144 003a 05E0     		b	.L57
 1145              	.LVL118:
 1146              	.L66:
 833:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->SizeOfBuffer - 1u;
 1147              		.loc 1 833 5 is_stmt 1 view .LVU362
 833:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->SizeOfBuffer - 1u;
 1148              		.loc 1 833 18 is_stmt 0 view .LVU363
 1149 003c 1346     		mov	r3, r2
 1150 003e 354A     		ldr	r2, .L68
 1151 0040 02EBC303 		add	r3, r2, r3, lsl #3
 1152 0044 1B6A     		ldr	r3, [r3, #32]
 833:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->SizeOfBuffer - 1u;
 1153              		.loc 1 833 11 view .LVU364
 1154 0046 013B     		subs	r3, r3, #1
 1155              	.LVL119:
 1156              	.L57:
 836:Drivers/RTT/SEGGER_RTT.c ****   } else {
 837:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->RdOff - pRing->WrOff - 1u + pRing->SizeOfBuffer;
 838:Drivers/RTT/SEGGER_RTT.c ****   }
 839:Drivers/RTT/SEGGER_RTT.c ****   if (NumBytes > Avail) {
 1157              		.loc 1 839 3 is_stmt 1 view .LVU365
 1158              		.loc 1 839 6 is_stmt 0 view .LVU366
 1159 0048 BB42     		cmp	r3, r7
 1160 004a 25D2     		bcs	.L59
 840:Drivers/RTT/SEGGER_RTT.c ****     pRing->RdOff += (NumBytes - Avail);
 1161              		.loc 1 840 5 is_stmt 1 view .LVU367
 1162              		.loc 1 840 18 is_stmt 0 view .LVU368
 1163 004c 06EB4602 		add	r2, r6, r6, lsl #1
 1164 0050 3048     		ldr	r0, .L68
 1165              	.LVL120:
 1166              		.loc 1 840 18 view .LVU369
 1167 0052 00EBC202 		add	r2, r0, r2, lsl #3
 1168 0056 906A     		ldr	r0, [r2, #40]
 1169              		.loc 1 840 31 view .LVU370
 1170 0058 FB1A     		subs	r3, r7, r3
 1171              	.LVL121:
 1172              		.loc 1 840 18 view .LVU371
 1173 005a 0344     		add	r3, r3, r0
 1174 005c 9362     		str	r3, [r2, #40]
 841:Drivers/RTT/SEGGER_RTT.c ****     while (pRing->RdOff >= pRing->SizeOfBuffer) {
 1175              		.loc 1 841 5 is_stmt 1 view .LVU372
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 40


 1176              		.loc 1 841 11 is_stmt 0 view .LVU373
 1177 005e 12E0     		b	.L60
 1178              	.LVL122:
 1179              	.L58:
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1180              		.loc 1 837 5 is_stmt 1 view .LVU374
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1181              		.loc 1 837 18 is_stmt 0 view .LVU375
 1182 0060 00EB4002 		add	r2, r0, r0, lsl #1
 1183 0064 2B4B     		ldr	r3, .L68
 1184 0066 03EBC202 		add	r2, r3, r2, lsl #3
 1185 006a 936A     		ldr	r3, [r2, #40]
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1186              		.loc 1 837 26 view .LVU376
 1187 006c 5B1A     		subs	r3, r3, r1
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1188              		.loc 1 837 53 view .LVU377
 1189 006e 126A     		ldr	r2, [r2, #32]
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1190              		.loc 1 837 46 view .LVU378
 1191 0070 1344     		add	r3, r3, r2
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1192              		.loc 1 837 11 view .LVU379
 1193 0072 013B     		subs	r3, r3, #1
 1194              	.LVL123:
 837:Drivers/RTT/SEGGER_RTT.c ****   }
 1195              		.loc 1 837 11 view .LVU380
 1196 0074 E8E7     		b	.L57
 1197              	.LVL124:
 1198              	.L61:
 842:Drivers/RTT/SEGGER_RTT.c ****       pRing->RdOff -= pRing->SizeOfBuffer;
 1199              		.loc 1 842 7 is_stmt 1 view .LVU381
 1200              		.loc 1 842 20 is_stmt 0 view .LVU382
 1201 0076 06EB4603 		add	r3, r6, r6, lsl #1
 1202 007a 264A     		ldr	r2, .L68
 1203 007c 02EBC303 		add	r3, r2, r3, lsl #3
 1204 0080 9A6A     		ldr	r2, [r3, #40]
 1205 0082 121A     		subs	r2, r2, r0
 1206 0084 9A62     		str	r2, [r3, #40]
 1207              	.L60:
 841:Drivers/RTT/SEGGER_RTT.c ****     while (pRing->RdOff >= pRing->SizeOfBuffer) {
 1208              		.loc 1 841 11 is_stmt 1 view .LVU383
 841:Drivers/RTT/SEGGER_RTT.c ****     while (pRing->RdOff >= pRing->SizeOfBuffer) {
 1209              		.loc 1 841 17 is_stmt 0 view .LVU384
 1210 0086 06EB4603 		add	r3, r6, r6, lsl #1
 1211 008a 224A     		ldr	r2, .L68
 1212 008c 02EBC303 		add	r3, r2, r3, lsl #3
 1213 0090 9A6A     		ldr	r2, [r3, #40]
 841:Drivers/RTT/SEGGER_RTT.c ****     while (pRing->RdOff >= pRing->SizeOfBuffer) {
 1214              		.loc 1 841 33 view .LVU385
 1215 0092 186A     		ldr	r0, [r3, #32]
 841:Drivers/RTT/SEGGER_RTT.c ****     while (pRing->RdOff >= pRing->SizeOfBuffer) {
 1216              		.loc 1 841 11 view .LVU386
 1217 0094 8242     		cmp	r2, r0
 1218 0096 EED2     		bcs	.L61
 1219              	.L59:
 843:Drivers/RTT/SEGGER_RTT.c ****     }
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 41


 844:Drivers/RTT/SEGGER_RTT.c ****   }
 845:Drivers/RTT/SEGGER_RTT.c ****   //
 846:Drivers/RTT/SEGGER_RTT.c ****   // Write all data, no need to check the RdOff, but possibly handle multiple wrap-arounds
 847:Drivers/RTT/SEGGER_RTT.c ****   //
 848:Drivers/RTT/SEGGER_RTT.c ****   Avail = pRing->SizeOfBuffer - pRing->WrOff;
 1220              		.loc 1 848 3 is_stmt 1 view .LVU387
 1221              		.loc 1 848 16 is_stmt 0 view .LVU388
 1222 0098 06EB4603 		add	r3, r6, r6, lsl #1
 1223 009c 1D4A     		ldr	r2, .L68
 1224 009e 02EBC303 		add	r3, r2, r3, lsl #3
 1225 00a2 1C6A     		ldr	r4, [r3, #32]
 1226              		.loc 1 848 9 view .LVU389
 1227 00a4 641A     		subs	r4, r4, r1
 1228              	.LVL125:
 1229              	.L64:
 849:Drivers/RTT/SEGGER_RTT.c ****   do {
 1230              		.loc 1 849 3 is_stmt 1 view .LVU390
 850:Drivers/RTT/SEGGER_RTT.c ****     if (Avail > NumBytes) {
 1231              		.loc 1 850 5 view .LVU391
 1232              		.loc 1 850 8 is_stmt 0 view .LVU392
 1233 00a6 A742     		cmp	r7, r4
 1234 00a8 1BD3     		bcc	.L67
 851:Drivers/RTT/SEGGER_RTT.c ****       //
 852:Drivers/RTT/SEGGER_RTT.c ****       // Last round
 853:Drivers/RTT/SEGGER_RTT.c ****       //
 854:Drivers/RTT/SEGGER_RTT.c ****       pDst = (pRing->pBuffer + pRing->WrOff) + SEGGER_RTT_UNCACHED_OFF;
 855:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 856:Drivers/RTT/SEGGER_RTT.c ****       Avail = NumBytes;
 857:Drivers/RTT/SEGGER_RTT.c ****       while (NumBytes--) {
 858:Drivers/RTT/SEGGER_RTT.c ****         *pDst++ = *pData++;
 859:Drivers/RTT/SEGGER_RTT.c ****       };
 860:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 861:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff += Avail;
 862:Drivers/RTT/SEGGER_RTT.c **** #else
 863:Drivers/RTT/SEGGER_RTT.c ****       SEGGER_RTT_MEMCPY((void*)pDst, pData, NumBytes);
 864:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 865:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff += NumBytes;
 866:Drivers/RTT/SEGGER_RTT.c **** #endif
 867:Drivers/RTT/SEGGER_RTT.c ****       break;
 868:Drivers/RTT/SEGGER_RTT.c ****     } else {
 869:Drivers/RTT/SEGGER_RTT.c ****       //
 870:Drivers/RTT/SEGGER_RTT.c ****       //  Wrap-around necessary, write until wrap-around and reset WrOff
 871:Drivers/RTT/SEGGER_RTT.c ****       //
 872:Drivers/RTT/SEGGER_RTT.c ****       pDst = (pRing->pBuffer + pRing->WrOff) + SEGGER_RTT_UNCACHED_OFF;
 1235              		.loc 1 872 7 is_stmt 1 view .LVU393
 1236              		.loc 1 872 20 is_stmt 0 view .LVU394
 1237 00aa 1A4D     		ldr	r5, .L68
 1238 00ac 731C     		adds	r3, r6, #1
 1239 00ae 03EB4303 		add	r3, r3, r3, lsl #1
 1240 00b2 05EBC303 		add	r3, r5, r3, lsl #3
 1241 00b6 5868     		ldr	r0, [r3, #4]
 1242              		.loc 1 872 37 view .LVU395
 1243 00b8 06EB4603 		add	r3, r6, r6, lsl #1
 1244 00bc 05EBC305 		add	r5, r5, r3, lsl #3
 1245 00c0 6B6A     		ldr	r3, [r5, #36]
 1246              	.LVL126:
 873:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 42


 874:Drivers/RTT/SEGGER_RTT.c ****       NumBytes -= Avail;
 875:Drivers/RTT/SEGGER_RTT.c ****       while (Avail--) {
 876:Drivers/RTT/SEGGER_RTT.c ****         *pDst++ = *pData++;
 877:Drivers/RTT/SEGGER_RTT.c ****       };
 878:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 879:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff = 0;
 880:Drivers/RTT/SEGGER_RTT.c **** #else
 881:Drivers/RTT/SEGGER_RTT.c ****       SEGGER_RTT_MEMCPY((void*)pDst, pData, Avail);
 1247              		.loc 1 881 7 is_stmt 1 view .LVU396
 1248 00c2 2246     		mov	r2, r4
 1249 00c4 4146     		mov	r1, r8
 1250 00c6 1844     		add	r0, r0, r3
 1251              	.LVL127:
 1252              		.loc 1 881 7 is_stmt 0 view .LVU397
 1253 00c8 FFF7FEFF 		bl	memcpy
 1254              	.LVL128:
 882:Drivers/RTT/SEGGER_RTT.c ****       pData += Avail;
 1255              		.loc 1 882 7 is_stmt 1 view .LVU398
 1256              		.loc 1 882 13 is_stmt 0 view .LVU399
 1257 00cc A044     		add	r8, r8, r4
 1258              	.LVL129:
 883:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 1259              		.loc 1 883 7 is_stmt 1 view .LVU400
 1260              		.syntax unified
 1261              	@ 883 "Drivers/RTT/SEGGER_RTT.c" 1
 1262 00ce BFF35F8F 		dmb
 1263              	
 1264              	@ 0 "" 2
 1265              		.loc 1 883 17 view .LVU401
 884:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff = 0;
 1266              		.loc 1 884 7 view .LVU402
 1267              		.loc 1 884 20 is_stmt 0 view .LVU403
 1268              		.thumb
 1269              		.syntax unified
 1270 00d2 0023     		movs	r3, #0
 1271 00d4 6B62     		str	r3, [r5, #36]
 885:Drivers/RTT/SEGGER_RTT.c ****       NumBytes -= Avail;
 1272              		.loc 1 885 7 is_stmt 1 view .LVU404
 1273              		.loc 1 885 16 is_stmt 0 view .LVU405
 1274 00d6 3F1B     		subs	r7, r7, r4
 1275              	.LVL130:
 886:Drivers/RTT/SEGGER_RTT.c **** #endif
 887:Drivers/RTT/SEGGER_RTT.c ****       Avail = (pRing->SizeOfBuffer - 1);
 1276              		.loc 1 887 7 is_stmt 1 view .LVU406
 1277              		.loc 1 887 21 is_stmt 0 view .LVU407
 1278 00d8 2C6A     		ldr	r4, [r5, #32]
 1279              	.LVL131:
 1280              		.loc 1 887 13 view .LVU408
 1281 00da 013C     		subs	r4, r4, #1
 1282              	.LVL132:
 888:Drivers/RTT/SEGGER_RTT.c ****     }
 889:Drivers/RTT/SEGGER_RTT.c ****   } while (NumBytes);
 1283              		.loc 1 889 11 is_stmt 1 view .LVU409
 1284              		.loc 1 889 3 is_stmt 0 view .LVU410
 1285 00dc 002F     		cmp	r7, #0
 1286 00de E2D1     		bne	.L64
 1287 00e0 15E0     		b	.L55
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 43


 1288              	.L67:
 854:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 1289              		.loc 1 854 7 is_stmt 1 view .LVU411
 854:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 1290              		.loc 1 854 20 is_stmt 0 view .LVU412
 1291 00e2 0C4C     		ldr	r4, .L68
 1292              	.LVL133:
 854:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 1293              		.loc 1 854 20 view .LVU413
 1294 00e4 731C     		adds	r3, r6, #1
 1295 00e6 03EB4303 		add	r3, r3, r3, lsl #1
 1296 00ea 04EBC303 		add	r3, r4, r3, lsl #3
 1297 00ee 5868     		ldr	r0, [r3, #4]
 854:Drivers/RTT/SEGGER_RTT.c **** #if SEGGER_RTT_MEMCPY_USE_BYTELOOP
 1298              		.loc 1 854 37 view .LVU414
 1299 00f0 06EB4605 		add	r5, r6, r6, lsl #1
 1300 00f4 04EBC505 		add	r5, r4, r5, lsl #3
 1301 00f8 6B6A     		ldr	r3, [r5, #36]
 1302              	.LVL134:
 863:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 1303              		.loc 1 863 7 is_stmt 1 view .LVU415
 1304 00fa 3A46     		mov	r2, r7
 1305 00fc 4146     		mov	r1, r8
 1306 00fe 1844     		add	r0, r0, r3
 1307              	.LVL135:
 863:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 1308              		.loc 1 863 7 is_stmt 0 view .LVU416
 1309 0100 FFF7FEFF 		bl	memcpy
 1310              	.LVL136:
 864:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff += NumBytes;
 1311              		.loc 1 864 7 is_stmt 1 view .LVU417
 1312              		.syntax unified
 1313              	@ 864 "Drivers/RTT/SEGGER_RTT.c" 1
 1314 0104 BFF35F8F 		dmb
 1315              	
 1316              	@ 0 "" 2
 864:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff += NumBytes;
 1317              		.loc 1 864 17 view .LVU418
 865:Drivers/RTT/SEGGER_RTT.c **** #endif
 1318              		.loc 1 865 7 view .LVU419
 865:Drivers/RTT/SEGGER_RTT.c **** #endif
 1319              		.loc 1 865 20 is_stmt 0 view .LVU420
 1320              		.thumb
 1321              		.syntax unified
 1322 0108 6B6A     		ldr	r3, [r5, #36]
 1323 010a 1F44     		add	r7, r7, r3
 1324              	.LVL137:
 865:Drivers/RTT/SEGGER_RTT.c **** #endif
 1325              		.loc 1 865 20 view .LVU421
 1326 010c 6F62     		str	r7, [r5, #36]
 867:Drivers/RTT/SEGGER_RTT.c ****     } else {
 1327              		.loc 1 867 7 is_stmt 1 view .LVU422
 1328              	.L55:
 890:Drivers/RTT/SEGGER_RTT.c **** }
 1329              		.loc 1 890 1 is_stmt 0 view .LVU423
 1330 010e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1331              	.LVL138:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 44


 1332              	.L69:
 1333              		.loc 1 890 1 view .LVU424
 1334 0112 00BF     		.align	2
 1335              	.L68:
 1336 0114 00000000 		.word	.LANCHOR1
 1337              		.cfi_endproc
 1338              	.LFE9:
 1340              		.section	.text.SEGGER_RTT_WriteDownBufferNoLock,"ax",%progbits
 1341              		.align	1
 1342              		.global	SEGGER_RTT_WriteDownBufferNoLock
 1343              		.syntax unified
 1344              		.thumb
 1345              		.thumb_func
 1346              		.fpu fpv5-sp-d16
 1348              	SEGGER_RTT_WriteDownBufferNoLock:
 1349              	.LVL139:
 1350              	.LFB10:
 891:Drivers/RTT/SEGGER_RTT.c **** 
 892:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 893:Drivers/RTT/SEGGER_RTT.c **** *
 894:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WriteSkipNoLock
 895:Drivers/RTT/SEGGER_RTT.c **** *
 896:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 897:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT
 898:Drivers/RTT/SEGGER_RTT.c **** *    control block which is then read by the host.
 899:Drivers/RTT/SEGGER_RTT.c **** *    SEGGER_RTT_WriteSkipNoLock does not lock the application and
 900:Drivers/RTT/SEGGER_RTT.c **** *    skips all data, if the data does not fit into the buffer.
 901:Drivers/RTT/SEGGER_RTT.c **** *
 902:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 903:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
 904:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
 905:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
 906:Drivers/RTT/SEGGER_RTT.c **** *                 MUST be > 0!!!
 907:Drivers/RTT/SEGGER_RTT.c **** *                 This is done for performance reasons, so no initial check has do be done.
 908:Drivers/RTT/SEGGER_RTT.c **** *
 909:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 910:Drivers/RTT/SEGGER_RTT.c **** *    1: Data has been copied
 911:Drivers/RTT/SEGGER_RTT.c **** *    0: No space, data has not been copied
 912:Drivers/RTT/SEGGER_RTT.c **** *
 913:Drivers/RTT/SEGGER_RTT.c **** *  Notes
 914:Drivers/RTT/SEGGER_RTT.c **** *    (1) If there is not enough space in the "Up"-buffer, all data is dropped.
 915:Drivers/RTT/SEGGER_RTT.c **** *    (2) For performance reasons this function does not call Init()
 916:Drivers/RTT/SEGGER_RTT.c **** *        and may only be called after RTT has been initialized.
 917:Drivers/RTT/SEGGER_RTT.c **** *        Either by calling SEGGER_RTT_Init() or calling another RTT API function first.
 918:Drivers/RTT/SEGGER_RTT.c **** */
 919:Drivers/RTT/SEGGER_RTT.c **** #if (RTT_USE_ASM == 0)
 920:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_WriteSkipNoLock(unsigned BufferIndex, const void* pBuffer, unsigned NumBytes) {
 921:Drivers/RTT/SEGGER_RTT.c ****   const char*           pData;
 922:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 923:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Avail;
 924:Drivers/RTT/SEGGER_RTT.c ****   unsigned              RdOff;
 925:Drivers/RTT/SEGGER_RTT.c ****   unsigned              WrOff;
 926:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Rem;
 927:Drivers/RTT/SEGGER_RTT.c ****   volatile char*        pDst;
 928:Drivers/RTT/SEGGER_RTT.c ****   //
 929:Drivers/RTT/SEGGER_RTT.c ****   // Cases:
 930:Drivers/RTT/SEGGER_RTT.c ****   //   1) RdOff <= WrOff => Space until wrap-around is sufficient
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 45


 931:Drivers/RTT/SEGGER_RTT.c ****   //   2) RdOff <= WrOff => Space after wrap-around needed (copy in 2 chunks)
 932:Drivers/RTT/SEGGER_RTT.c ****   //   3) RdOff <  WrOff => No space in buf
 933:Drivers/RTT/SEGGER_RTT.c ****   //   4) RdOff >  WrOff => Space is sufficient
 934:Drivers/RTT/SEGGER_RTT.c ****   //   5) RdOff >  WrOff => No space in buf
 935:Drivers/RTT/SEGGER_RTT.c ****   //
 936:Drivers/RTT/SEGGER_RTT.c ****   // 1) is the most common case for large buffers and assuming that J-Link reads the data fast enou
 937:Drivers/RTT/SEGGER_RTT.c ****   //
 938:Drivers/RTT/SEGGER_RTT.c ****   pData = (const char *)pBuffer;
 939:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 940:Drivers/RTT/SEGGER_RTT.c ****   RdOff = pRing->RdOff;
 941:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff;
 942:Drivers/RTT/SEGGER_RTT.c ****   if (RdOff <= WrOff) {                                 // Case 1), 2) or 3)
 943:Drivers/RTT/SEGGER_RTT.c ****     Avail = pRing->SizeOfBuffer - WrOff - 1u;           // Space until wrap-around (assume 1 byte n
 944:Drivers/RTT/SEGGER_RTT.c ****     if (Avail >= NumBytes) {                            // Case 1)?
 945:Drivers/RTT/SEGGER_RTT.c **** CopyStraight:
 946:Drivers/RTT/SEGGER_RTT.c ****       pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 947:Drivers/RTT/SEGGER_RTT.c ****       memcpy((void*)pDst, pData, NumBytes);
 948:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 949:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff = WrOff + NumBytes;
 950:Drivers/RTT/SEGGER_RTT.c ****       return 1;
 951:Drivers/RTT/SEGGER_RTT.c ****     }
 952:Drivers/RTT/SEGGER_RTT.c ****     Avail += RdOff;                                     // Space incl. wrap-around
 953:Drivers/RTT/SEGGER_RTT.c ****     if (Avail >= NumBytes) {                            // Case 2? => If not, we have case 3) (does
 954:Drivers/RTT/SEGGER_RTT.c ****       Rem = pRing->SizeOfBuffer - WrOff;                // Space until end of buffer
 955:Drivers/RTT/SEGGER_RTT.c ****       pDst = (pRing->pBuffer + WrOff) + SEGGER_RTT_UNCACHED_OFF;
 956:Drivers/RTT/SEGGER_RTT.c ****       memcpy((void*)pDst, pData, Rem);                  // Copy 1st chunk
 957:Drivers/RTT/SEGGER_RTT.c ****       NumBytes -= Rem;
 958:Drivers/RTT/SEGGER_RTT.c ****       //
 959:Drivers/RTT/SEGGER_RTT.c ****       // Special case: First check that assumed RdOff == 0 calculated that last element before wrap
 960:Drivers/RTT/SEGGER_RTT.c ****       // But 2nd check (considering space until wrap-around and until RdOff) revealed that RdOff is
 961:Drivers/RTT/SEGGER_RTT.c ****       // In this case, we may use a copy straight until buffer end anyway without needing to copy 2
 962:Drivers/RTT/SEGGER_RTT.c ****       // Therefore, check if 2nd memcpy is necessary at all
 963:Drivers/RTT/SEGGER_RTT.c ****       //
 964:Drivers/RTT/SEGGER_RTT.c ****       if (NumBytes) {
 965:Drivers/RTT/SEGGER_RTT.c ****         pDst = pRing->pBuffer + SEGGER_RTT_UNCACHED_OFF;
 966:Drivers/RTT/SEGGER_RTT.c ****         memcpy((void*)pDst, pData + Rem, NumBytes);
 967:Drivers/RTT/SEGGER_RTT.c ****       }
 968:Drivers/RTT/SEGGER_RTT.c ****       RTT__DMB();                     // Force data write to be complete before writing the <WrOff>
 969:Drivers/RTT/SEGGER_RTT.c ****       pRing->WrOff = NumBytes;
 970:Drivers/RTT/SEGGER_RTT.c ****       return 1;
 971:Drivers/RTT/SEGGER_RTT.c ****     }
 972:Drivers/RTT/SEGGER_RTT.c ****   } else {                                             // Potential case 4)
 973:Drivers/RTT/SEGGER_RTT.c ****     Avail = RdOff - WrOff - 1u;
 974:Drivers/RTT/SEGGER_RTT.c ****     if (Avail >= NumBytes) {                           // Case 4)? => If not, we have case 5) (does
 975:Drivers/RTT/SEGGER_RTT.c ****       goto CopyStraight;
 976:Drivers/RTT/SEGGER_RTT.c ****     }
 977:Drivers/RTT/SEGGER_RTT.c ****   }
 978:Drivers/RTT/SEGGER_RTT.c ****   return 0;     // No space in buffer
 979:Drivers/RTT/SEGGER_RTT.c **** }
 980:Drivers/RTT/SEGGER_RTT.c **** #endif
 981:Drivers/RTT/SEGGER_RTT.c **** 
 982:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
 983:Drivers/RTT/SEGGER_RTT.c **** *
 984:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WriteDownBufferNoLock
 985:Drivers/RTT/SEGGER_RTT.c **** *
 986:Drivers/RTT/SEGGER_RTT.c **** *  Function description
 987:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 46


 988:Drivers/RTT/SEGGER_RTT.c **** *    control block inside a <Down> buffer.
 989:Drivers/RTT/SEGGER_RTT.c **** *    SEGGER_RTT_WriteDownBufferNoLock does not lock the application.
 990:Drivers/RTT/SEGGER_RTT.c **** *    Used to do the same operation that J-Link does, to transfer 
 991:Drivers/RTT/SEGGER_RTT.c **** *    RTT data from other channels, such as TCP/IP or UART.
 992:Drivers/RTT/SEGGER_RTT.c **** *
 993:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
 994:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Down"-buffer to be used.
 995:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
 996:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
 997:Drivers/RTT/SEGGER_RTT.c **** *
 998:Drivers/RTT/SEGGER_RTT.c **** *  Return value
 999:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Down"-buffer.
1000:Drivers/RTT/SEGGER_RTT.c **** *
1001:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1002:Drivers/RTT/SEGGER_RTT.c **** *    (1) Data is stored according to buffer flags.
1003:Drivers/RTT/SEGGER_RTT.c **** *    (2) For performance reasons this function does not call Init()
1004:Drivers/RTT/SEGGER_RTT.c **** *        and may only be called after RTT has been initialized.
1005:Drivers/RTT/SEGGER_RTT.c **** *        Either by calling SEGGER_RTT_Init() or calling another RTT API function first.
1006:Drivers/RTT/SEGGER_RTT.c **** *
1007:Drivers/RTT/SEGGER_RTT.c **** *  Additional information
1008:Drivers/RTT/SEGGER_RTT.c **** *    This function must not be called when J-Link might also do RTT.
1009:Drivers/RTT/SEGGER_RTT.c **** */
1010:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_WriteDownBufferNoLock(unsigned BufferIndex, const void* pBuffer, unsigned NumBy
 1351              		.loc 1 1010 105 is_stmt 1 view -0
 1352              		.cfi_startproc
 1353              		@ args = 0, pretend = 0, frame = 0
 1354              		@ frame_needed = 0, uses_anonymous_args = 0
 1355              		.loc 1 1010 105 is_stmt 0 view .LVU426
 1356 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1357              	.LCFI10:
 1358              		.cfi_def_cfa_offset 24
 1359              		.cfi_offset 3, -24
 1360              		.cfi_offset 4, -20
 1361              		.cfi_offset 5, -16
 1362              		.cfi_offset 6, -12
 1363              		.cfi_offset 7, -8
 1364              		.cfi_offset 14, -4
 1365 0002 0E46     		mov	r6, r1
 1366 0004 1546     		mov	r5, r2
1011:Drivers/RTT/SEGGER_RTT.c ****   unsigned                Status;
 1367              		.loc 1 1011 3 is_stmt 1 view .LVU427
1012:Drivers/RTT/SEGGER_RTT.c ****   unsigned                Avail;
 1368              		.loc 1 1012 3 view .LVU428
1013:Drivers/RTT/SEGGER_RTT.c ****   const char*             pData;
 1369              		.loc 1 1013 3 view .LVU429
1014:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP*   pRing;
 1370              		.loc 1 1014 3 view .LVU430
1015:Drivers/RTT/SEGGER_RTT.c ****   //
1016:Drivers/RTT/SEGGER_RTT.c ****   // Get "to-target" ring buffer.
1017:Drivers/RTT/SEGGER_RTT.c ****   // It is save to cast that to a "to-host" buffer. Up and Down buffer differ in volatility of offs
1018:Drivers/RTT/SEGGER_RTT.c ****   //
1019:Drivers/RTT/SEGGER_RTT.c ****   pData = (const char *)pBuffer;
 1371              		.loc 1 1019 3 view .LVU431
 1372              	.LVL140:
1020:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aDown[BufferIndex] + SEGGER_RTT_UNCACHED_OFF)
 1373              		.loc 1 1020 3 view .LVU432
 1374              		.loc 1 1020 9 is_stmt 0 view .LVU433
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 47


 1375 0006 00EB4000 		add	r0, r0, r0, lsl #1
 1376              	.LVL141:
 1377              		.loc 1 1020 9 view .LVU434
 1378 000a C000     		lsls	r0, r0, #3
 1379 000c 6030     		adds	r0, r0, #96
 1380 000e 144F     		ldr	r7, .L77
 1381 0010 0744     		add	r7, r7, r0
 1382              	.LVL142:
1021:Drivers/RTT/SEGGER_RTT.c ****   //
1022:Drivers/RTT/SEGGER_RTT.c ****   // How we output depends upon the mode...
1023:Drivers/RTT/SEGGER_RTT.c ****   //
1024:Drivers/RTT/SEGGER_RTT.c ****   switch (pRing->Flags) {
 1383              		.loc 1 1024 3 is_stmt 1 view .LVU435
 1384              		.loc 1 1024 16 is_stmt 0 view .LVU436
 1385 0012 7C69     		ldr	r4, [r7, #20]
 1386              		.loc 1 1024 3 view .LVU437
 1387 0014 012C     		cmp	r4, #1
 1388 0016 11D0     		beq	.L71
 1389 0018 022C     		cmp	r4, #2
 1390 001a 1CD0     		beq	.L72
 1391 001c 14B1     		cbz	r4, .L76
 1392 001e 0024     		movs	r4, #0
 1393              	.LVL143:
1025:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_NO_BLOCK_SKIP:
1026:Drivers/RTT/SEGGER_RTT.c ****     //
1027:Drivers/RTT/SEGGER_RTT.c ****     // If we are in skip mode and there is no space for the whole
1028:Drivers/RTT/SEGGER_RTT.c ****     // of this output, don't bother.
1029:Drivers/RTT/SEGGER_RTT.c ****     //
1030:Drivers/RTT/SEGGER_RTT.c ****     Avail = _GetAvailWriteSpace(pRing);
1031:Drivers/RTT/SEGGER_RTT.c ****     if (Avail < NumBytes) {
1032:Drivers/RTT/SEGGER_RTT.c ****       Status = 0u;
1033:Drivers/RTT/SEGGER_RTT.c ****     } else {
1034:Drivers/RTT/SEGGER_RTT.c ****       Status = NumBytes;
1035:Drivers/RTT/SEGGER_RTT.c ****       _WriteNoCheck(pRing, pData, NumBytes);
1036:Drivers/RTT/SEGGER_RTT.c ****     }
1037:Drivers/RTT/SEGGER_RTT.c ****     break;
1038:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_NO_BLOCK_TRIM:
1039:Drivers/RTT/SEGGER_RTT.c ****     //
1040:Drivers/RTT/SEGGER_RTT.c ****     // If we are in trim mode, trim to what we can output without blocking.
1041:Drivers/RTT/SEGGER_RTT.c ****     //
1042:Drivers/RTT/SEGGER_RTT.c ****     Avail = _GetAvailWriteSpace(pRing);
1043:Drivers/RTT/SEGGER_RTT.c ****     Status = Avail < NumBytes ? Avail : NumBytes;
1044:Drivers/RTT/SEGGER_RTT.c ****     _WriteNoCheck(pRing, pData, Status);
1045:Drivers/RTT/SEGGER_RTT.c ****     break;
1046:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL:
1047:Drivers/RTT/SEGGER_RTT.c ****     //
1048:Drivers/RTT/SEGGER_RTT.c ****     // If we are in blocking mode, output everything.
1049:Drivers/RTT/SEGGER_RTT.c ****     //
1050:Drivers/RTT/SEGGER_RTT.c ****     Status = _WriteBlocking(pRing, pData, NumBytes);
1051:Drivers/RTT/SEGGER_RTT.c ****     break;
1052:Drivers/RTT/SEGGER_RTT.c ****   default:
1053:Drivers/RTT/SEGGER_RTT.c ****     Status = 0u;
1054:Drivers/RTT/SEGGER_RTT.c ****     break;
1055:Drivers/RTT/SEGGER_RTT.c ****   }
1056:Drivers/RTT/SEGGER_RTT.c ****   //
1057:Drivers/RTT/SEGGER_RTT.c ****   // Finish up.
1058:Drivers/RTT/SEGGER_RTT.c ****   //
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 48


1059:Drivers/RTT/SEGGER_RTT.c ****   return Status;
 1394              		.loc 1 1059 3 is_stmt 1 view .LVU438
 1395              	.L70:
1060:Drivers/RTT/SEGGER_RTT.c **** }
 1396              		.loc 1 1060 1 is_stmt 0 view .LVU439
 1397 0020 2046     		mov	r0, r4
 1398 0022 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1399              	.LVL144:
 1400              	.L76:
1030:Drivers/RTT/SEGGER_RTT.c ****     if (Avail < NumBytes) {
 1401              		.loc 1 1030 5 is_stmt 1 view .LVU440
1030:Drivers/RTT/SEGGER_RTT.c ****     if (Avail < NumBytes) {
 1402              		.loc 1 1030 13 is_stmt 0 view .LVU441
 1403 0024 3846     		mov	r0, r7
 1404 0026 FFF7FEFF 		bl	_GetAvailWriteSpace
 1405              	.LVL145:
1031:Drivers/RTT/SEGGER_RTT.c ****       Status = 0u;
 1406              		.loc 1 1031 5 is_stmt 1 view .LVU442
1031:Drivers/RTT/SEGGER_RTT.c ****       Status = 0u;
 1407              		.loc 1 1031 8 is_stmt 0 view .LVU443
 1408 002a 8542     		cmp	r5, r0
 1409 002c F8D8     		bhi	.L70
1034:Drivers/RTT/SEGGER_RTT.c ****       _WriteNoCheck(pRing, pData, NumBytes);
 1410              		.loc 1 1034 7 is_stmt 1 view .LVU444
 1411              	.LVL146:
1035:Drivers/RTT/SEGGER_RTT.c ****     }
 1412              		.loc 1 1035 7 view .LVU445
 1413 002e 2A46     		mov	r2, r5
 1414 0030 3146     		mov	r1, r6
 1415 0032 3846     		mov	r0, r7
 1416              	.LVL147:
1035:Drivers/RTT/SEGGER_RTT.c ****     }
 1417              		.loc 1 1035 7 is_stmt 0 view .LVU446
 1418 0034 FFF7FEFF 		bl	_WriteNoCheck
 1419              	.LVL148:
1034:Drivers/RTT/SEGGER_RTT.c ****       _WriteNoCheck(pRing, pData, NumBytes);
 1420              		.loc 1 1034 14 view .LVU447
 1421 0038 2C46     		mov	r4, r5
 1422 003a F1E7     		b	.L70
 1423              	.LVL149:
 1424              	.L71:
1042:Drivers/RTT/SEGGER_RTT.c ****     Status = Avail < NumBytes ? Avail : NumBytes;
 1425              		.loc 1 1042 5 is_stmt 1 view .LVU448
1042:Drivers/RTT/SEGGER_RTT.c ****     Status = Avail < NumBytes ? Avail : NumBytes;
 1426              		.loc 1 1042 13 is_stmt 0 view .LVU449
 1427 003c 3846     		mov	r0, r7
 1428 003e FFF7FEFF 		bl	_GetAvailWriteSpace
 1429              	.LVL150:
1043:Drivers/RTT/SEGGER_RTT.c ****     _WriteNoCheck(pRing, pData, Status);
 1430              		.loc 1 1043 5 is_stmt 1 view .LVU450
1043:Drivers/RTT/SEGGER_RTT.c ****     _WriteNoCheck(pRing, pData, Status);
 1431              		.loc 1 1043 12 is_stmt 0 view .LVU451
 1432 0042 2C46     		mov	r4, r5
 1433 0044 8542     		cmp	r5, r0
 1434 0046 28BF     		it	cs
 1435 0048 0446     		movcs	r4, r0
 1436              	.LVL151:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 49


1044:Drivers/RTT/SEGGER_RTT.c ****     break;
 1437              		.loc 1 1044 5 is_stmt 1 view .LVU452
 1438 004a 2246     		mov	r2, r4
 1439 004c 3146     		mov	r1, r6
 1440 004e 3846     		mov	r0, r7
 1441              	.LVL152:
1044:Drivers/RTT/SEGGER_RTT.c ****     break;
 1442              		.loc 1 1044 5 is_stmt 0 view .LVU453
 1443 0050 FFF7FEFF 		bl	_WriteNoCheck
 1444              	.LVL153:
1045:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL:
 1445              		.loc 1 1045 5 is_stmt 1 view .LVU454
 1446 0054 E4E7     		b	.L70
 1447              	.LVL154:
 1448              	.L72:
1050:Drivers/RTT/SEGGER_RTT.c ****     break;
 1449              		.loc 1 1050 5 view .LVU455
1050:Drivers/RTT/SEGGER_RTT.c ****     break;
 1450              		.loc 1 1050 14 is_stmt 0 view .LVU456
 1451 0056 3846     		mov	r0, r7
 1452 0058 FFF7FEFF 		bl	_WriteBlocking
 1453              	.LVL155:
1050:Drivers/RTT/SEGGER_RTT.c ****     break;
 1454              		.loc 1 1050 14 view .LVU457
 1455 005c 0446     		mov	r4, r0
 1456              	.LVL156:
1051:Drivers/RTT/SEGGER_RTT.c ****   default:
 1457              		.loc 1 1051 5 is_stmt 1 view .LVU458
 1458 005e DFE7     		b	.L70
 1459              	.L78:
 1460              		.align	2
 1461              	.L77:
 1462 0060 00000000 		.word	.LANCHOR1
 1463              		.cfi_endproc
 1464              	.LFE10:
 1466              		.section	.text.SEGGER_RTT_WriteNoLock,"ax",%progbits
 1467              		.align	1
 1468              		.global	SEGGER_RTT_WriteNoLock
 1469              		.syntax unified
 1470              		.thumb
 1471              		.thumb_func
 1472              		.fpu fpv5-sp-d16
 1474              	SEGGER_RTT_WriteNoLock:
 1475              	.LVL157:
 1476              	.LFB11:
1061:Drivers/RTT/SEGGER_RTT.c **** 
1062:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1063:Drivers/RTT/SEGGER_RTT.c **** *
1064:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WriteNoLock
1065:Drivers/RTT/SEGGER_RTT.c **** *
1066:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1067:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT
1068:Drivers/RTT/SEGGER_RTT.c **** *    control block which is then read by the host.
1069:Drivers/RTT/SEGGER_RTT.c **** *    SEGGER_RTT_WriteNoLock does not lock the application.
1070:Drivers/RTT/SEGGER_RTT.c **** *
1071:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1072:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 50


1073:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
1074:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
1075:Drivers/RTT/SEGGER_RTT.c **** *
1076:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1077:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Up"-buffer.
1078:Drivers/RTT/SEGGER_RTT.c **** *
1079:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1080:Drivers/RTT/SEGGER_RTT.c **** *    (1) Data is stored according to buffer flags.
1081:Drivers/RTT/SEGGER_RTT.c **** *    (2) For performance reasons this function does not call Init()
1082:Drivers/RTT/SEGGER_RTT.c **** *        and may only be called after RTT has been initialized.
1083:Drivers/RTT/SEGGER_RTT.c **** *        Either by calling SEGGER_RTT_Init() or calling another RTT API function first.
1084:Drivers/RTT/SEGGER_RTT.c **** */
1085:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_WriteNoLock(unsigned BufferIndex, const void* pBuffer, unsigned NumBytes) {
 1477              		.loc 1 1085 95 view -0
 1478              		.cfi_startproc
 1479              		@ args = 0, pretend = 0, frame = 0
 1480              		@ frame_needed = 0, uses_anonymous_args = 0
 1481              		.loc 1 1085 95 is_stmt 0 view .LVU460
 1482 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1483              	.LCFI11:
 1484              		.cfi_def_cfa_offset 24
 1485              		.cfi_offset 3, -24
 1486              		.cfi_offset 4, -20
 1487              		.cfi_offset 5, -16
 1488              		.cfi_offset 6, -12
 1489              		.cfi_offset 7, -8
 1490              		.cfi_offset 14, -4
 1491 0002 0F46     		mov	r7, r1
 1492 0004 1646     		mov	r6, r2
1086:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Status;
 1493              		.loc 1 1086 3 is_stmt 1 view .LVU461
1087:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Avail;
 1494              		.loc 1 1087 3 view .LVU462
1088:Drivers/RTT/SEGGER_RTT.c ****   const char*           pData;
 1495              		.loc 1 1088 3 view .LVU463
1089:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 1496              		.loc 1 1089 3 view .LVU464
1090:Drivers/RTT/SEGGER_RTT.c ****   //
1091:Drivers/RTT/SEGGER_RTT.c ****   // Get "to-host" ring buffer.
1092:Drivers/RTT/SEGGER_RTT.c ****   //
1093:Drivers/RTT/SEGGER_RTT.c ****   pData = (const char *)pBuffer;
 1497              		.loc 1 1093 3 view .LVU465
 1498              	.LVL158:
1094:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 1499              		.loc 1 1094 3 view .LVU466
 1500              		.loc 1 1094 9 is_stmt 0 view .LVU467
 1501 0006 184B     		ldr	r3, .L86
 1502 0008 451C     		adds	r5, r0, #1
 1503 000a 05EB4505 		add	r5, r5, r5, lsl #1
 1504 000e 03EBC505 		add	r5, r3, r5, lsl #3
 1505              	.LVL159:
1095:Drivers/RTT/SEGGER_RTT.c ****   //
1096:Drivers/RTT/SEGGER_RTT.c ****   // How we output depends upon the mode...
1097:Drivers/RTT/SEGGER_RTT.c ****   //
1098:Drivers/RTT/SEGGER_RTT.c ****   switch (pRing->Flags) {
 1506              		.loc 1 1098 3 is_stmt 1 view .LVU468
 1507              		.loc 1 1098 16 is_stmt 0 view .LVU469
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 51


 1508 0012 00EB4000 		add	r0, r0, r0, lsl #1
 1509              	.LVL160:
 1510              		.loc 1 1098 16 view .LVU470
 1511 0016 03EBC000 		add	r0, r3, r0, lsl #3
 1512 001a C46A     		ldr	r4, [r0, #44]
 1513              		.loc 1 1098 3 view .LVU471
 1514 001c 012C     		cmp	r4, #1
 1515 001e 11D0     		beq	.L80
 1516 0020 022C     		cmp	r4, #2
 1517 0022 1CD0     		beq	.L81
 1518 0024 14B1     		cbz	r4, .L85
 1519 0026 0024     		movs	r4, #0
 1520              	.LVL161:
1099:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_NO_BLOCK_SKIP:
1100:Drivers/RTT/SEGGER_RTT.c ****     //
1101:Drivers/RTT/SEGGER_RTT.c ****     // If we are in skip mode and there is no space for the whole
1102:Drivers/RTT/SEGGER_RTT.c ****     // of this output, don't bother.
1103:Drivers/RTT/SEGGER_RTT.c ****     //
1104:Drivers/RTT/SEGGER_RTT.c ****     Avail = _GetAvailWriteSpace(pRing);
1105:Drivers/RTT/SEGGER_RTT.c ****     if (Avail < NumBytes) {
1106:Drivers/RTT/SEGGER_RTT.c ****       Status = 0u;
1107:Drivers/RTT/SEGGER_RTT.c ****     } else {
1108:Drivers/RTT/SEGGER_RTT.c ****       Status = NumBytes;
1109:Drivers/RTT/SEGGER_RTT.c ****       _WriteNoCheck(pRing, pData, NumBytes);
1110:Drivers/RTT/SEGGER_RTT.c ****     }
1111:Drivers/RTT/SEGGER_RTT.c ****     break;
1112:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_NO_BLOCK_TRIM:
1113:Drivers/RTT/SEGGER_RTT.c ****     //
1114:Drivers/RTT/SEGGER_RTT.c ****     // If we are in trim mode, trim to what we can output without blocking.
1115:Drivers/RTT/SEGGER_RTT.c ****     //
1116:Drivers/RTT/SEGGER_RTT.c ****     Avail = _GetAvailWriteSpace(pRing);
1117:Drivers/RTT/SEGGER_RTT.c ****     Status = Avail < NumBytes ? Avail : NumBytes;
1118:Drivers/RTT/SEGGER_RTT.c ****     _WriteNoCheck(pRing, pData, Status);
1119:Drivers/RTT/SEGGER_RTT.c ****     break;
1120:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL:
1121:Drivers/RTT/SEGGER_RTT.c ****     //
1122:Drivers/RTT/SEGGER_RTT.c ****     // If we are in blocking mode, output everything.
1123:Drivers/RTT/SEGGER_RTT.c ****     //
1124:Drivers/RTT/SEGGER_RTT.c ****     Status = _WriteBlocking(pRing, pData, NumBytes);
1125:Drivers/RTT/SEGGER_RTT.c ****     break;
1126:Drivers/RTT/SEGGER_RTT.c ****   default:
1127:Drivers/RTT/SEGGER_RTT.c ****     Status = 0u;
1128:Drivers/RTT/SEGGER_RTT.c ****     break;
1129:Drivers/RTT/SEGGER_RTT.c ****   }
1130:Drivers/RTT/SEGGER_RTT.c ****   //
1131:Drivers/RTT/SEGGER_RTT.c ****   // Finish up.
1132:Drivers/RTT/SEGGER_RTT.c ****   //
1133:Drivers/RTT/SEGGER_RTT.c ****   return Status;
 1521              		.loc 1 1133 3 is_stmt 1 view .LVU472
 1522              	.L79:
1134:Drivers/RTT/SEGGER_RTT.c **** }
 1523              		.loc 1 1134 1 is_stmt 0 view .LVU473
 1524 0028 2046     		mov	r0, r4
 1525 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1526              	.LVL162:
 1527              	.L85:
1104:Drivers/RTT/SEGGER_RTT.c ****     if (Avail < NumBytes) {
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 52


 1528              		.loc 1 1104 5 is_stmt 1 view .LVU474
1104:Drivers/RTT/SEGGER_RTT.c ****     if (Avail < NumBytes) {
 1529              		.loc 1 1104 13 is_stmt 0 view .LVU475
 1530 002c 2846     		mov	r0, r5
 1531 002e FFF7FEFF 		bl	_GetAvailWriteSpace
 1532              	.LVL163:
1105:Drivers/RTT/SEGGER_RTT.c ****       Status = 0u;
 1533              		.loc 1 1105 5 is_stmt 1 view .LVU476
1105:Drivers/RTT/SEGGER_RTT.c ****       Status = 0u;
 1534              		.loc 1 1105 8 is_stmt 0 view .LVU477
 1535 0032 8642     		cmp	r6, r0
 1536 0034 F8D8     		bhi	.L79
1108:Drivers/RTT/SEGGER_RTT.c ****       _WriteNoCheck(pRing, pData, NumBytes);
 1537              		.loc 1 1108 7 is_stmt 1 view .LVU478
 1538              	.LVL164:
1109:Drivers/RTT/SEGGER_RTT.c ****     }
 1539              		.loc 1 1109 7 view .LVU479
 1540 0036 3246     		mov	r2, r6
 1541 0038 3946     		mov	r1, r7
 1542 003a 2846     		mov	r0, r5
 1543              	.LVL165:
1109:Drivers/RTT/SEGGER_RTT.c ****     }
 1544              		.loc 1 1109 7 is_stmt 0 view .LVU480
 1545 003c FFF7FEFF 		bl	_WriteNoCheck
 1546              	.LVL166:
1108:Drivers/RTT/SEGGER_RTT.c ****       _WriteNoCheck(pRing, pData, NumBytes);
 1547              		.loc 1 1108 14 view .LVU481
 1548 0040 3446     		mov	r4, r6
 1549 0042 F1E7     		b	.L79
 1550              	.LVL167:
 1551              	.L80:
1116:Drivers/RTT/SEGGER_RTT.c ****     Status = Avail < NumBytes ? Avail : NumBytes;
 1552              		.loc 1 1116 5 is_stmt 1 view .LVU482
1116:Drivers/RTT/SEGGER_RTT.c ****     Status = Avail < NumBytes ? Avail : NumBytes;
 1553              		.loc 1 1116 13 is_stmt 0 view .LVU483
 1554 0044 2846     		mov	r0, r5
 1555 0046 FFF7FEFF 		bl	_GetAvailWriteSpace
 1556              	.LVL168:
1117:Drivers/RTT/SEGGER_RTT.c ****     _WriteNoCheck(pRing, pData, Status);
 1557              		.loc 1 1117 5 is_stmt 1 view .LVU484
1117:Drivers/RTT/SEGGER_RTT.c ****     _WriteNoCheck(pRing, pData, Status);
 1558              		.loc 1 1117 12 is_stmt 0 view .LVU485
 1559 004a 3446     		mov	r4, r6
 1560 004c 8642     		cmp	r6, r0
 1561 004e 28BF     		it	cs
 1562 0050 0446     		movcs	r4, r0
 1563              	.LVL169:
1118:Drivers/RTT/SEGGER_RTT.c ****     break;
 1564              		.loc 1 1118 5 is_stmt 1 view .LVU486
 1565 0052 2246     		mov	r2, r4
 1566 0054 3946     		mov	r1, r7
 1567 0056 2846     		mov	r0, r5
 1568              	.LVL170:
1118:Drivers/RTT/SEGGER_RTT.c ****     break;
 1569              		.loc 1 1118 5 is_stmt 0 view .LVU487
 1570 0058 FFF7FEFF 		bl	_WriteNoCheck
 1571              	.LVL171:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 53


1119:Drivers/RTT/SEGGER_RTT.c ****   case SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL:
 1572              		.loc 1 1119 5 is_stmt 1 view .LVU488
 1573 005c E4E7     		b	.L79
 1574              	.LVL172:
 1575              	.L81:
1124:Drivers/RTT/SEGGER_RTT.c ****     break;
 1576              		.loc 1 1124 5 view .LVU489
1124:Drivers/RTT/SEGGER_RTT.c ****     break;
 1577              		.loc 1 1124 14 is_stmt 0 view .LVU490
 1578 005e 2846     		mov	r0, r5
 1579 0060 FFF7FEFF 		bl	_WriteBlocking
 1580              	.LVL173:
1124:Drivers/RTT/SEGGER_RTT.c ****     break;
 1581              		.loc 1 1124 14 view .LVU491
 1582 0064 0446     		mov	r4, r0
 1583              	.LVL174:
1125:Drivers/RTT/SEGGER_RTT.c ****   default:
 1584              		.loc 1 1125 5 is_stmt 1 view .LVU492
 1585 0066 DFE7     		b	.L79
 1586              	.L87:
 1587              		.align	2
 1588              	.L86:
 1589 0068 00000000 		.word	.LANCHOR1
 1590              		.cfi_endproc
 1591              	.LFE11:
 1593              		.section	.text.SEGGER_RTT_WriteDownBuffer,"ax",%progbits
 1594              		.align	1
 1595              		.global	SEGGER_RTT_WriteDownBuffer
 1596              		.syntax unified
 1597              		.thumb
 1598              		.thumb_func
 1599              		.fpu fpv5-sp-d16
 1601              	SEGGER_RTT_WriteDownBuffer:
 1602              	.LVL175:
 1603              	.LFB12:
1135:Drivers/RTT/SEGGER_RTT.c **** 
1136:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1137:Drivers/RTT/SEGGER_RTT.c **** *
1138:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WriteDownBuffer
1139:Drivers/RTT/SEGGER_RTT.c **** *
1140:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1141:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT control block in a <Down> buffer.
1142:Drivers/RTT/SEGGER_RTT.c **** *
1143:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1144:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
1145:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
1146:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
1147:Drivers/RTT/SEGGER_RTT.c **** *
1148:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1149:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Down"-buffer.
1150:Drivers/RTT/SEGGER_RTT.c **** *
1151:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1152:Drivers/RTT/SEGGER_RTT.c **** *    (1) Data is stored according to buffer flags.
1153:Drivers/RTT/SEGGER_RTT.c **** *
1154:Drivers/RTT/SEGGER_RTT.c **** *  Additional information
1155:Drivers/RTT/SEGGER_RTT.c **** *    This function must not be called when J-Link might also do RTT.
1156:Drivers/RTT/SEGGER_RTT.c **** *    This function locks against all other RTT operations. I.e. during
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 54


1157:Drivers/RTT/SEGGER_RTT.c **** *    the write operation, writing from the application is also locked.
1158:Drivers/RTT/SEGGER_RTT.c **** *    If only one consumer writes to the down buffer, 
1159:Drivers/RTT/SEGGER_RTT.c **** *    call SEGGER_RTT_WriteDownBufferNoLock() instead.
1160:Drivers/RTT/SEGGER_RTT.c **** */
1161:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_WriteDownBuffer(unsigned BufferIndex, const void* pBuffer, unsigned NumBytes) {
 1604              		.loc 1 1161 99 view -0
 1605              		.cfi_startproc
 1606              		@ args = 0, pretend = 0, frame = 0
 1607              		@ frame_needed = 0, uses_anonymous_args = 0
 1608              		.loc 1 1161 99 is_stmt 0 view .LVU494
 1609 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1610              	.LCFI12:
 1611              		.cfi_def_cfa_offset 24
 1612              		.cfi_offset 3, -24
 1613              		.cfi_offset 4, -20
 1614              		.cfi_offset 5, -16
 1615              		.cfi_offset 6, -12
 1616              		.cfi_offset 7, -8
 1617              		.cfi_offset 14, -4
 1618 0002 0446     		mov	r4, r0
 1619 0004 0D46     		mov	r5, r1
 1620 0006 1646     		mov	r6, r2
1162:Drivers/RTT/SEGGER_RTT.c ****   unsigned Status;
 1621              		.loc 1 1162 3 is_stmt 1 view .LVU495
 1622              	.LBB8:
1163:Drivers/RTT/SEGGER_RTT.c **** 
1164:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 1623              		.loc 1 1164 3 view .LVU496
 1624              		.loc 1 1164 3 view .LVU497
 1625              	.LVL176:
 1626              		.loc 1 1164 3 view .LVU498
 1627              		.loc 1 1164 3 view .LVU499
 1628 0008 094B     		ldr	r3, .L92
 1629 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1630 000c 6BB1     		cbz	r3, .L91
 1631              	.LVL177:
 1632              	.L89:
 1633              		.loc 1 1164 3 discriminator 3 view .LVU500
 1634              	.LBE8:
 1635              		.loc 1 1164 9 discriminator 3 view .LVU501
 1636              	.LBB9:
1165:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1637              		.loc 1 1165 3 discriminator 3 view .LVU502
 1638              		.loc 1 1165 3 discriminator 3 view .LVU503
 1639              		.syntax unified
 1640              	@ 1165 "Drivers/RTT/SEGGER_RTT.c" 1
 1641 000e EFF31187 		mrs   r7, basepri  
 1642 0012 4FF02001 		mov   r1, #32       
 1643 0016 81F31188 		msr   basepri, r1  
 1644              		
 1645              	@ 0 "" 2
 1646              	.LVL178:
 1647              		.loc 1 1165 20 discriminator 3 view .LVU504
1166:Drivers/RTT/SEGGER_RTT.c ****   Status = SEGGER_RTT_WriteDownBufferNoLock(BufferIndex, pBuffer, NumBytes);  // Call the non-locki
 1648              		.loc 1 1166 3 discriminator 3 view .LVU505
 1649              		.loc 1 1166 12 is_stmt 0 discriminator 3 view .LVU506
 1650              		.thumb
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 55


 1651              		.syntax unified
 1652 001a 3246     		mov	r2, r6
 1653 001c 2946     		mov	r1, r5
 1654 001e 2046     		mov	r0, r4
 1655 0020 FFF7FEFF 		bl	SEGGER_RTT_WriteDownBufferNoLock
 1656              	.LVL179:
1167:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 1657              		.loc 1 1167 3 is_stmt 1 discriminator 3 view .LVU507
 1658              		.syntax unified
 1659              	@ 1167 "Drivers/RTT/SEGGER_RTT.c" 1
 1660 0024 87F31188 		msr   basepri, r7  
 1661              		
 1662              	@ 0 "" 2
 1663              		.thumb
 1664              		.syntax unified
 1665              	.LBE9:
 1666              		.loc 1 1167 22 discriminator 3 view .LVU508
1168:Drivers/RTT/SEGGER_RTT.c ****   return Status;
 1667              		.loc 1 1168 3 discriminator 3 view .LVU509
1169:Drivers/RTT/SEGGER_RTT.c **** }
 1668              		.loc 1 1169 1 is_stmt 0 discriminator 3 view .LVU510
 1669 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1670              	.LVL180:
 1671              	.L91:
 1672              	.LBB10:
1164:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1673              		.loc 1 1164 3 is_stmt 1 discriminator 1 view .LVU511
 1674 002a FFF7FEFF 		bl	_DoInit
 1675              	.LVL181:
1164:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1676              		.loc 1 1164 3 is_stmt 0 discriminator 1 view .LVU512
 1677 002e EEE7     		b	.L89
 1678              	.L93:
 1679              		.align	2
 1680              	.L92:
 1681 0030 00000000 		.word	.LANCHOR1
 1682              	.LBE10:
 1683              		.cfi_endproc
 1684              	.LFE12:
 1686              		.section	.text.SEGGER_RTT_Write,"ax",%progbits
 1687              		.align	1
 1688              		.global	SEGGER_RTT_Write
 1689              		.syntax unified
 1690              		.thumb
 1691              		.thumb_func
 1692              		.fpu fpv5-sp-d16
 1694              	SEGGER_RTT_Write:
 1695              	.LVL182:
 1696              	.LFB13:
1170:Drivers/RTT/SEGGER_RTT.c **** 
1171:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1172:Drivers/RTT/SEGGER_RTT.c **** *
1173:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_Write
1174:Drivers/RTT/SEGGER_RTT.c **** *
1175:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1176:Drivers/RTT/SEGGER_RTT.c **** *    Stores a specified number of characters in SEGGER RTT
1177:Drivers/RTT/SEGGER_RTT.c **** *    control block which is then read by the host.
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 56


1178:Drivers/RTT/SEGGER_RTT.c **** *
1179:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1180:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
1181:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to character array. Does not need to point to a \0 terminated string.
1182:Drivers/RTT/SEGGER_RTT.c **** *    NumBytes     Number of bytes to be stored in the SEGGER RTT control block.
1183:Drivers/RTT/SEGGER_RTT.c **** *
1184:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1185:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Up"-buffer.
1186:Drivers/RTT/SEGGER_RTT.c **** *
1187:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1188:Drivers/RTT/SEGGER_RTT.c **** *    (1) Data is stored according to buffer flags.
1189:Drivers/RTT/SEGGER_RTT.c **** */
1190:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_Write(unsigned BufferIndex, const void* pBuffer, unsigned NumBytes) {
 1697              		.loc 1 1190 89 is_stmt 1 view -0
 1698              		.cfi_startproc
 1699              		@ args = 0, pretend = 0, frame = 0
 1700              		@ frame_needed = 0, uses_anonymous_args = 0
 1701              		.loc 1 1190 89 is_stmt 0 view .LVU514
 1702 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1703              	.LCFI13:
 1704              		.cfi_def_cfa_offset 24
 1705              		.cfi_offset 3, -24
 1706              		.cfi_offset 4, -20
 1707              		.cfi_offset 5, -16
 1708              		.cfi_offset 6, -12
 1709              		.cfi_offset 7, -8
 1710              		.cfi_offset 14, -4
 1711 0002 0446     		mov	r4, r0
 1712 0004 0D46     		mov	r5, r1
 1713 0006 1646     		mov	r6, r2
1191:Drivers/RTT/SEGGER_RTT.c ****   unsigned Status;
 1714              		.loc 1 1191 3 is_stmt 1 view .LVU515
 1715              	.LBB11:
1192:Drivers/RTT/SEGGER_RTT.c **** 
1193:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 1716              		.loc 1 1193 3 view .LVU516
 1717              		.loc 1 1193 3 view .LVU517
 1718              	.LVL183:
 1719              		.loc 1 1193 3 view .LVU518
 1720              		.loc 1 1193 3 view .LVU519
 1721 0008 094B     		ldr	r3, .L98
 1722 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1723 000c 6BB1     		cbz	r3, .L97
 1724              	.LVL184:
 1725              	.L95:
 1726              		.loc 1 1193 3 discriminator 3 view .LVU520
 1727              	.LBE11:
 1728              		.loc 1 1193 9 discriminator 3 view .LVU521
 1729              	.LBB12:
1194:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1730              		.loc 1 1194 3 discriminator 3 view .LVU522
 1731              		.loc 1 1194 3 discriminator 3 view .LVU523
 1732              		.syntax unified
 1733              	@ 1194 "Drivers/RTT/SEGGER_RTT.c" 1
 1734 000e EFF31187 		mrs   r7, basepri  
 1735 0012 4FF02001 		mov   r1, #32       
 1736 0016 81F31188 		msr   basepri, r1  
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 57


 1737              		
 1738              	@ 0 "" 2
 1739              	.LVL185:
 1740              		.loc 1 1194 20 discriminator 3 view .LVU524
1195:Drivers/RTT/SEGGER_RTT.c ****   Status = SEGGER_RTT_WriteNoLock(BufferIndex, pBuffer, NumBytes);  // Call the non-locking write f
 1741              		.loc 1 1195 3 discriminator 3 view .LVU525
 1742              		.loc 1 1195 12 is_stmt 0 discriminator 3 view .LVU526
 1743              		.thumb
 1744              		.syntax unified
 1745 001a 3246     		mov	r2, r6
 1746 001c 2946     		mov	r1, r5
 1747 001e 2046     		mov	r0, r4
 1748 0020 FFF7FEFF 		bl	SEGGER_RTT_WriteNoLock
 1749              	.LVL186:
1196:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 1750              		.loc 1 1196 3 is_stmt 1 discriminator 3 view .LVU527
 1751              		.syntax unified
 1752              	@ 1196 "Drivers/RTT/SEGGER_RTT.c" 1
 1753 0024 87F31188 		msr   basepri, r7  
 1754              		
 1755              	@ 0 "" 2
 1756              		.thumb
 1757              		.syntax unified
 1758              	.LBE12:
 1759              		.loc 1 1196 22 discriminator 3 view .LVU528
1197:Drivers/RTT/SEGGER_RTT.c ****   return Status;
 1760              		.loc 1 1197 3 discriminator 3 view .LVU529
1198:Drivers/RTT/SEGGER_RTT.c **** }
 1761              		.loc 1 1198 1 is_stmt 0 discriminator 3 view .LVU530
 1762 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1763              	.LVL187:
 1764              	.L97:
 1765              	.LBB13:
1193:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1766              		.loc 1 1193 3 is_stmt 1 discriminator 1 view .LVU531
 1767 002a FFF7FEFF 		bl	_DoInit
 1768              	.LVL188:
1193:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1769              		.loc 1 1193 3 is_stmt 0 discriminator 1 view .LVU532
 1770 002e EEE7     		b	.L95
 1771              	.L99:
 1772              		.align	2
 1773              	.L98:
 1774 0030 00000000 		.word	.LANCHOR1
 1775              	.LBE13:
 1776              		.cfi_endproc
 1777              	.LFE13:
 1779              		.section	.text.SEGGER_RTT_WriteString,"ax",%progbits
 1780              		.align	1
 1781              		.global	SEGGER_RTT_WriteString
 1782              		.syntax unified
 1783              		.thumb
 1784              		.thumb_func
 1785              		.fpu fpv5-sp-d16
 1787              	SEGGER_RTT_WriteString:
 1788              	.LVL189:
 1789              	.LFB14:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 58


1199:Drivers/RTT/SEGGER_RTT.c **** 
1200:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1201:Drivers/RTT/SEGGER_RTT.c **** *
1202:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WriteString
1203:Drivers/RTT/SEGGER_RTT.c **** *
1204:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1205:Drivers/RTT/SEGGER_RTT.c **** *    Stores string in SEGGER RTT control block.
1206:Drivers/RTT/SEGGER_RTT.c **** *    This data is read by the host.
1207:Drivers/RTT/SEGGER_RTT.c **** *
1208:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1209:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
1210:Drivers/RTT/SEGGER_RTT.c **** *    s            Pointer to string.
1211:Drivers/RTT/SEGGER_RTT.c **** *
1212:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1213:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Up"-buffer.
1214:Drivers/RTT/SEGGER_RTT.c **** *
1215:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1216:Drivers/RTT/SEGGER_RTT.c **** *    (1) Data is stored according to buffer flags.
1217:Drivers/RTT/SEGGER_RTT.c **** *    (2) String passed to this function has to be \0 terminated
1218:Drivers/RTT/SEGGER_RTT.c **** *    (3) \0 termination character is *not* stored in RTT buffer
1219:Drivers/RTT/SEGGER_RTT.c **** */
1220:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_WriteString(unsigned BufferIndex, const char* s) {
 1790              		.loc 1 1220 70 is_stmt 1 view -0
 1791              		.cfi_startproc
 1792              		@ args = 0, pretend = 0, frame = 0
 1793              		@ frame_needed = 0, uses_anonymous_args = 0
 1794              		.loc 1 1220 70 is_stmt 0 view .LVU534
 1795 0000 38B5     		push	{r3, r4, r5, lr}
 1796              	.LCFI14:
 1797              		.cfi_def_cfa_offset 16
 1798              		.cfi_offset 3, -16
 1799              		.cfi_offset 4, -12
 1800              		.cfi_offset 5, -8
 1801              		.cfi_offset 14, -4
 1802 0002 0546     		mov	r5, r0
 1803 0004 0C46     		mov	r4, r1
1221:Drivers/RTT/SEGGER_RTT.c ****   unsigned Len;
 1804              		.loc 1 1221 3 is_stmt 1 view .LVU535
1222:Drivers/RTT/SEGGER_RTT.c **** 
1223:Drivers/RTT/SEGGER_RTT.c ****   Len = STRLEN(s);
 1805              		.loc 1 1223 3 view .LVU536
 1806              		.loc 1 1223 9 is_stmt 0 view .LVU537
 1807 0006 0846     		mov	r0, r1
 1808              	.LVL190:
 1809              		.loc 1 1223 9 view .LVU538
 1810 0008 FFF7FEFF 		bl	strlen
 1811              	.LVL191:
 1812              		.loc 1 1223 9 view .LVU539
 1813 000c 0246     		mov	r2, r0
 1814              	.LVL192:
1224:Drivers/RTT/SEGGER_RTT.c ****   return SEGGER_RTT_Write(BufferIndex, s, Len);
 1815              		.loc 1 1224 3 is_stmt 1 view .LVU540
 1816              		.loc 1 1224 10 is_stmt 0 view .LVU541
 1817 000e 2146     		mov	r1, r4
 1818 0010 2846     		mov	r0, r5
 1819              	.LVL193:
 1820              		.loc 1 1224 10 view .LVU542
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 59


 1821 0012 FFF7FEFF 		bl	SEGGER_RTT_Write
 1822              	.LVL194:
1225:Drivers/RTT/SEGGER_RTT.c **** }
 1823              		.loc 1 1225 1 view .LVU543
 1824 0016 38BD     		pop	{r3, r4, r5, pc}
 1825              		.loc 1 1225 1 view .LVU544
 1826              		.cfi_endproc
 1827              	.LFE14:
 1829              		.section	.text.SEGGER_RTT_PutCharSkipNoLock,"ax",%progbits
 1830              		.align	1
 1831              		.global	SEGGER_RTT_PutCharSkipNoLock
 1832              		.syntax unified
 1833              		.thumb
 1834              		.thumb_func
 1835              		.fpu fpv5-sp-d16
 1837              	SEGGER_RTT_PutCharSkipNoLock:
 1838              	.LVL195:
 1839              	.LFB15:
1226:Drivers/RTT/SEGGER_RTT.c **** 
1227:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1228:Drivers/RTT/SEGGER_RTT.c **** *
1229:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_PutCharSkipNoLock
1230:Drivers/RTT/SEGGER_RTT.c **** *
1231:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1232:Drivers/RTT/SEGGER_RTT.c **** *    Stores a single character/byte in SEGGER RTT buffer.
1233:Drivers/RTT/SEGGER_RTT.c **** *    SEGGER_RTT_PutCharSkipNoLock does not lock the application and
1234:Drivers/RTT/SEGGER_RTT.c **** *    skips the byte, if it does not fit into the buffer.
1235:Drivers/RTT/SEGGER_RTT.c **** *
1236:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1237:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
1238:Drivers/RTT/SEGGER_RTT.c **** *    c            Byte to be stored.
1239:Drivers/RTT/SEGGER_RTT.c **** *
1240:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1241:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Up"-buffer.
1242:Drivers/RTT/SEGGER_RTT.c **** *
1243:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1244:Drivers/RTT/SEGGER_RTT.c **** *    (1) If there is not enough space in the "Up"-buffer, the character is dropped.
1245:Drivers/RTT/SEGGER_RTT.c **** *    (2) For performance reasons this function does not call Init()
1246:Drivers/RTT/SEGGER_RTT.c **** *        and may only be called after RTT has been initialized.
1247:Drivers/RTT/SEGGER_RTT.c **** *        Either by calling SEGGER_RTT_Init() or calling another RTT API function first.
1248:Drivers/RTT/SEGGER_RTT.c **** */
1249:Drivers/RTT/SEGGER_RTT.c **** 
1250:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_PutCharSkipNoLock(unsigned BufferIndex, char c) {
 1840              		.loc 1 1250 69 is_stmt 1 view -0
 1841              		.cfi_startproc
 1842              		@ args = 0, pretend = 0, frame = 0
 1843              		@ frame_needed = 0, uses_anonymous_args = 0
 1844              		@ link register save eliminated.
 1845              		.loc 1 1250 69 is_stmt 0 view .LVU546
 1846 0000 30B4     		push	{r4, r5}
 1847              	.LCFI15:
 1848              		.cfi_def_cfa_offset 8
 1849              		.cfi_offset 4, -8
 1850              		.cfi_offset 5, -4
1251:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 1851              		.loc 1 1251 3 is_stmt 1 view .LVU547
1252:Drivers/RTT/SEGGER_RTT.c ****   unsigned              WrOff;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 60


 1852              		.loc 1 1252 3 view .LVU548
1253:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Status;
 1853              		.loc 1 1253 3 view .LVU549
1254:Drivers/RTT/SEGGER_RTT.c ****   volatile char*        pDst;
 1854              		.loc 1 1254 3 view .LVU550
1255:Drivers/RTT/SEGGER_RTT.c ****   //
1256:Drivers/RTT/SEGGER_RTT.c ****   // Get "to-host" ring buffer.
1257:Drivers/RTT/SEGGER_RTT.c ****   //
1258:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 1855              		.loc 1 1258 3 view .LVU551
 1856              	.LVL196:
1259:Drivers/RTT/SEGGER_RTT.c ****   //
1260:Drivers/RTT/SEGGER_RTT.c ****   // Get write position and handle wrap-around if necessary
1261:Drivers/RTT/SEGGER_RTT.c ****   //
1262:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff + 1;
 1857              		.loc 1 1262 3 view .LVU552
 1858              		.loc 1 1262 16 is_stmt 0 view .LVU553
 1859 0002 00EB4002 		add	r2, r0, r0, lsl #1
 1860 0006 124B     		ldr	r3, .L109
 1861 0008 03EBC203 		add	r3, r3, r2, lsl #3
 1862 000c 5D6A     		ldr	r5, [r3, #36]
 1863              		.loc 1 1262 9 view .LVU554
 1864 000e 6A1C     		adds	r2, r5, #1
 1865              	.LVL197:
1263:Drivers/RTT/SEGGER_RTT.c ****   if (WrOff == pRing->SizeOfBuffer) {
 1866              		.loc 1 1263 3 is_stmt 1 view .LVU555
 1867              		.loc 1 1263 21 is_stmt 0 view .LVU556
 1868 0010 1B6A     		ldr	r3, [r3, #32]
 1869              		.loc 1 1263 6 view .LVU557
 1870 0012 9342     		cmp	r3, r2
 1871 0014 18D0     		beq	.L108
 1872              	.LVL198:
 1873              	.L103:
1264:Drivers/RTT/SEGGER_RTT.c ****     WrOff = 0;
1265:Drivers/RTT/SEGGER_RTT.c ****   }
1266:Drivers/RTT/SEGGER_RTT.c ****   //
1267:Drivers/RTT/SEGGER_RTT.c ****   // Output byte if free space is available
1268:Drivers/RTT/SEGGER_RTT.c ****   //
1269:Drivers/RTT/SEGGER_RTT.c ****   if (WrOff != pRing->RdOff) {
 1874              		.loc 1 1269 3 is_stmt 1 view .LVU558
 1875              		.loc 1 1269 21 is_stmt 0 view .LVU559
 1876 0016 00EB4003 		add	r3, r0, r0, lsl #1
 1877 001a 0D4C     		ldr	r4, .L109
 1878 001c 04EBC303 		add	r3, r4, r3, lsl #3
 1879 0020 9B6A     		ldr	r3, [r3, #40]
 1880              		.loc 1 1269 6 view .LVU560
 1881 0022 9342     		cmp	r3, r2
 1882 0024 12D0     		beq	.L106
1270:Drivers/RTT/SEGGER_RTT.c ****     pDst = (pRing->pBuffer + pRing->WrOff) + SEGGER_RTT_UNCACHED_OFF;
 1883              		.loc 1 1270 5 is_stmt 1 view .LVU561
 1884              		.loc 1 1270 18 is_stmt 0 view .LVU562
 1885 0026 431C     		adds	r3, r0, #1
 1886 0028 03EB4303 		add	r3, r3, r3, lsl #1
 1887 002c 04EBC303 		add	r3, r4, r3, lsl #3
 1888 0030 5B68     		ldr	r3, [r3, #4]
 1889              	.LVL199:
1271:Drivers/RTT/SEGGER_RTT.c ****     *pDst = c;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 61


 1890              		.loc 1 1271 5 is_stmt 1 view .LVU563
 1891              		.loc 1 1271 11 is_stmt 0 view .LVU564
 1892 0032 5955     		strb	r1, [r3, r5]
1272:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 1893              		.loc 1 1272 5 is_stmt 1 view .LVU565
 1894              		.syntax unified
 1895              	@ 1272 "Drivers/RTT/SEGGER_RTT.c" 1
 1896 0034 BFF35F8F 		dmb
 1897              	
 1898              	@ 0 "" 2
 1899              		.loc 1 1272 15 view .LVU566
1273:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 1900              		.loc 1 1273 5 view .LVU567
 1901              		.loc 1 1273 18 is_stmt 0 view .LVU568
 1902              		.thumb
 1903              		.syntax unified
 1904 0038 00EB4000 		add	r0, r0, r0, lsl #1
 1905              	.LVL200:
 1906              		.loc 1 1273 18 view .LVU569
 1907 003c 04EBC000 		add	r0, r4, r0, lsl #3
 1908 0040 4262     		str	r2, [r0, #36]
1274:Drivers/RTT/SEGGER_RTT.c ****     Status = 1;
 1909              		.loc 1 1274 5 is_stmt 1 view .LVU570
 1910              	.LVL201:
 1911              		.loc 1 1274 12 is_stmt 0 view .LVU571
 1912 0042 0120     		movs	r0, #1
 1913              	.LVL202:
 1914              	.L102:
1275:Drivers/RTT/SEGGER_RTT.c ****   } else {
1276:Drivers/RTT/SEGGER_RTT.c ****     Status = 0;
1277:Drivers/RTT/SEGGER_RTT.c ****   }
1278:Drivers/RTT/SEGGER_RTT.c ****   //
1279:Drivers/RTT/SEGGER_RTT.c ****   return Status;
1280:Drivers/RTT/SEGGER_RTT.c **** }
 1915              		.loc 1 1280 1 view .LVU572
 1916 0044 30BC     		pop	{r4, r5}
 1917              	.LCFI16:
 1918              		.cfi_remember_state
 1919              		.cfi_restore 5
 1920              		.cfi_restore 4
 1921              		.cfi_def_cfa_offset 0
 1922 0046 7047     		bx	lr
 1923              	.LVL203:
 1924              	.L108:
 1925              	.LCFI17:
 1926              		.cfi_restore_state
1264:Drivers/RTT/SEGGER_RTT.c ****   }
 1927              		.loc 1 1264 11 view .LVU573
 1928 0048 0022     		movs	r2, #0
 1929              	.LVL204:
1264:Drivers/RTT/SEGGER_RTT.c ****   }
 1930              		.loc 1 1264 11 view .LVU574
 1931 004a E4E7     		b	.L103
 1932              	.LVL205:
 1933              	.L106:
1276:Drivers/RTT/SEGGER_RTT.c ****   }
 1934              		.loc 1 1276 12 view .LVU575
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 62


 1935 004c 0020     		movs	r0, #0
 1936              	.LVL206:
1279:Drivers/RTT/SEGGER_RTT.c **** }
 1937              		.loc 1 1279 3 is_stmt 1 view .LVU576
1279:Drivers/RTT/SEGGER_RTT.c **** }
 1938              		.loc 1 1279 10 is_stmt 0 view .LVU577
 1939 004e F9E7     		b	.L102
 1940              	.L110:
 1941              		.align	2
 1942              	.L109:
 1943 0050 00000000 		.word	.LANCHOR1
 1944              		.cfi_endproc
 1945              	.LFE15:
 1947              		.section	.text.SEGGER_RTT_PutCharSkip,"ax",%progbits
 1948              		.align	1
 1949              		.global	SEGGER_RTT_PutCharSkip
 1950              		.syntax unified
 1951              		.thumb
 1952              		.thumb_func
 1953              		.fpu fpv5-sp-d16
 1955              	SEGGER_RTT_PutCharSkip:
 1956              	.LVL207:
 1957              	.LFB16:
1281:Drivers/RTT/SEGGER_RTT.c **** 
1282:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1283:Drivers/RTT/SEGGER_RTT.c **** *
1284:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_PutCharSkip
1285:Drivers/RTT/SEGGER_RTT.c **** *
1286:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1287:Drivers/RTT/SEGGER_RTT.c **** *    Stores a single character/byte in SEGGER RTT buffer.
1288:Drivers/RTT/SEGGER_RTT.c **** *
1289:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1290:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
1291:Drivers/RTT/SEGGER_RTT.c **** *    c            Byte to be stored.
1292:Drivers/RTT/SEGGER_RTT.c **** *
1293:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1294:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Up"-buffer.
1295:Drivers/RTT/SEGGER_RTT.c **** *
1296:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1297:Drivers/RTT/SEGGER_RTT.c **** *    (1) If there is not enough space in the "Up"-buffer, the character is dropped.
1298:Drivers/RTT/SEGGER_RTT.c **** */
1299:Drivers/RTT/SEGGER_RTT.c **** 
1300:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_PutCharSkip(unsigned BufferIndex, char c) {
 1958              		.loc 1 1300 63 is_stmt 1 view -0
 1959              		.cfi_startproc
 1960              		@ args = 0, pretend = 0, frame = 0
 1961              		@ frame_needed = 0, uses_anonymous_args = 0
 1962              		.loc 1 1300 63 is_stmt 0 view .LVU579
 1963 0000 38B5     		push	{r3, r4, r5, lr}
 1964              	.LCFI18:
 1965              		.cfi_def_cfa_offset 16
 1966              		.cfi_offset 3, -16
 1967              		.cfi_offset 4, -12
 1968              		.cfi_offset 5, -8
 1969              		.cfi_offset 14, -4
 1970 0002 0446     		mov	r4, r0
 1971 0004 0D46     		mov	r5, r1
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 63


1301:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 1972              		.loc 1 1301 3 is_stmt 1 view .LVU580
1302:Drivers/RTT/SEGGER_RTT.c ****   unsigned              WrOff;
 1973              		.loc 1 1302 3 view .LVU581
1303:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Status;
 1974              		.loc 1 1303 3 view .LVU582
1304:Drivers/RTT/SEGGER_RTT.c ****   volatile char*        pDst;
 1975              		.loc 1 1304 3 view .LVU583
 1976              	.LBB14:
1305:Drivers/RTT/SEGGER_RTT.c ****   //
1306:Drivers/RTT/SEGGER_RTT.c ****   // Prepare
1307:Drivers/RTT/SEGGER_RTT.c ****   //
1308:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 1977              		.loc 1 1308 3 view .LVU584
 1978              		.loc 1 1308 3 view .LVU585
 1979              	.LVL208:
 1980              		.loc 1 1308 3 view .LVU586
 1981              		.loc 1 1308 3 view .LVU587
 1982 0006 1A4B     		ldr	r3, .L120
 1983 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1984 000a 4BB3     		cbz	r3, .L118
 1985              	.LVL209:
 1986              	.L112:
 1987              		.loc 1 1308 3 discriminator 3 view .LVU588
 1988              	.LBE14:
 1989              		.loc 1 1308 9 discriminator 3 view .LVU589
 1990              	.LBB15:
1309:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 1991              		.loc 1 1309 3 discriminator 3 view .LVU590
 1992              		.loc 1 1309 3 discriminator 3 view .LVU591
 1993              		.syntax unified
 1994              	@ 1309 "Drivers/RTT/SEGGER_RTT.c" 1
 1995 000c EFF3118C 		mrs   ip, basepri  
 1996 0010 4FF02001 		mov   r1, #32       
 1997 0014 81F31188 		msr   basepri, r1  
 1998              		
 1999              	@ 0 "" 2
 2000              	.LVL210:
 2001              		.loc 1 1309 20 discriminator 3 view .LVU592
1310:Drivers/RTT/SEGGER_RTT.c ****   //
1311:Drivers/RTT/SEGGER_RTT.c ****   // Get "to-host" ring buffer.
1312:Drivers/RTT/SEGGER_RTT.c ****   //
1313:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 2002              		.loc 1 1313 3 discriminator 3 view .LVU593
1314:Drivers/RTT/SEGGER_RTT.c ****   //
1315:Drivers/RTT/SEGGER_RTT.c ****   // Get write position and handle wrap-around if necessary
1316:Drivers/RTT/SEGGER_RTT.c ****   //
1317:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff + 1;
 2003              		.loc 1 1317 3 discriminator 3 view .LVU594
 2004              		.loc 1 1317 16 is_stmt 0 discriminator 3 view .LVU595
 2005              		.thumb
 2006              		.syntax unified
 2007 0018 04EB4403 		add	r3, r4, r4, lsl #1
 2008 001c 144A     		ldr	r2, .L120
 2009 001e 02EBC303 		add	r3, r2, r3, lsl #3
 2010 0022 586A     		ldr	r0, [r3, #36]
 2011              		.loc 1 1317 9 discriminator 3 view .LVU596
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 64


 2012 0024 421C     		adds	r2, r0, #1
 2013              	.LVL211:
1318:Drivers/RTT/SEGGER_RTT.c ****   if (WrOff == pRing->SizeOfBuffer) {
 2014              		.loc 1 1318 3 is_stmt 1 discriminator 3 view .LVU597
 2015              		.loc 1 1318 21 is_stmt 0 discriminator 3 view .LVU598
 2016 0026 1B6A     		ldr	r3, [r3, #32]
 2017              		.loc 1 1318 6 discriminator 3 view .LVU599
 2018 0028 9342     		cmp	r3, r2
 2019 002a 1CD0     		beq	.L119
 2020              	.LVL212:
 2021              	.L113:
1319:Drivers/RTT/SEGGER_RTT.c ****     WrOff = 0;
1320:Drivers/RTT/SEGGER_RTT.c ****   }
1321:Drivers/RTT/SEGGER_RTT.c ****   //
1322:Drivers/RTT/SEGGER_RTT.c ****   // Output byte if free space is available
1323:Drivers/RTT/SEGGER_RTT.c ****   //
1324:Drivers/RTT/SEGGER_RTT.c ****   if (WrOff != pRing->RdOff) {
 2022              		.loc 1 1324 3 is_stmt 1 view .LVU600
 2023              		.loc 1 1324 21 is_stmt 0 view .LVU601
 2024 002c 04EB4403 		add	r3, r4, r4, lsl #1
 2025 0030 0F49     		ldr	r1, .L120
 2026 0032 01EBC303 		add	r3, r1, r3, lsl #3
 2027 0036 9B6A     		ldr	r3, [r3, #40]
 2028              		.loc 1 1324 6 view .LVU602
 2029 0038 9342     		cmp	r3, r2
 2030 003a 16D0     		beq	.L116
1325:Drivers/RTT/SEGGER_RTT.c ****     pDst  = (pRing->pBuffer + pRing->WrOff) + SEGGER_RTT_UNCACHED_OFF;
 2031              		.loc 1 1325 5 is_stmt 1 view .LVU603
 2032              		.loc 1 1325 19 is_stmt 0 view .LVU604
 2033 003c 631C     		adds	r3, r4, #1
 2034 003e 03EB4303 		add	r3, r3, r3, lsl #1
 2035 0042 01EBC303 		add	r3, r1, r3, lsl #3
 2036 0046 5B68     		ldr	r3, [r3, #4]
 2037              	.LVL213:
1326:Drivers/RTT/SEGGER_RTT.c ****     *pDst = c;
 2038              		.loc 1 1326 5 is_stmt 1 view .LVU605
 2039              		.loc 1 1326 11 is_stmt 0 view .LVU606
 2040 0048 1D54     		strb	r5, [r3, r0]
1327:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 2041              		.loc 1 1327 5 is_stmt 1 view .LVU607
 2042              		.syntax unified
 2043              	@ 1327 "Drivers/RTT/SEGGER_RTT.c" 1
 2044 004a BFF35F8F 		dmb
 2045              	
 2046              	@ 0 "" 2
 2047              		.loc 1 1327 15 view .LVU608
1328:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 2048              		.loc 1 1328 5 view .LVU609
 2049              		.loc 1 1328 18 is_stmt 0 view .LVU610
 2050              		.thumb
 2051              		.syntax unified
 2052 004e 04EB4404 		add	r4, r4, r4, lsl #1
 2053              	.LVL214:
 2054              		.loc 1 1328 18 view .LVU611
 2055 0052 01EBC404 		add	r4, r1, r4, lsl #3
 2056 0056 6262     		str	r2, [r4, #36]
1329:Drivers/RTT/SEGGER_RTT.c ****     Status = 1;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 65


 2057              		.loc 1 1329 5 is_stmt 1 view .LVU612
 2058              	.LVL215:
 2059              		.loc 1 1329 12 is_stmt 0 view .LVU613
 2060 0058 0120     		movs	r0, #1
 2061              	.LVL216:
 2062              	.L114:
1330:Drivers/RTT/SEGGER_RTT.c ****   } else {
1331:Drivers/RTT/SEGGER_RTT.c ****     Status = 0;
1332:Drivers/RTT/SEGGER_RTT.c ****   }
1333:Drivers/RTT/SEGGER_RTT.c ****   //
1334:Drivers/RTT/SEGGER_RTT.c ****   // Finish up.
1335:Drivers/RTT/SEGGER_RTT.c ****   //
1336:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 2063              		.loc 1 1336 3 is_stmt 1 view .LVU614
 2064              		.syntax unified
 2065              	@ 1336 "Drivers/RTT/SEGGER_RTT.c" 1
 2066 005a 8CF31188 		msr   basepri, ip  
 2067              		
 2068              	@ 0 "" 2
 2069              		.thumb
 2070              		.syntax unified
 2071              	.LBE15:
 2072              		.loc 1 1336 22 view .LVU615
1337:Drivers/RTT/SEGGER_RTT.c ****   //
1338:Drivers/RTT/SEGGER_RTT.c ****   return Status;
 2073              		.loc 1 1338 3 view .LVU616
1339:Drivers/RTT/SEGGER_RTT.c **** }
 2074              		.loc 1 1339 1 is_stmt 0 view .LVU617
 2075 005e 38BD     		pop	{r3, r4, r5, pc}
 2076              	.LVL217:
 2077              	.L118:
 2078              	.LBB16:
1308:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2079              		.loc 1 1308 3 is_stmt 1 discriminator 1 view .LVU618
 2080 0060 FFF7FEFF 		bl	_DoInit
 2081              	.LVL218:
1308:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2082              		.loc 1 1308 3 is_stmt 0 discriminator 1 view .LVU619
 2083 0064 D2E7     		b	.L112
 2084              	.LVL219:
 2085              	.L119:
1308:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2086              		.loc 1 1308 3 discriminator 1 view .LVU620
 2087              	.LBE16:
 2088              	.LBB17:
1319:Drivers/RTT/SEGGER_RTT.c ****   }
 2089              		.loc 1 1319 11 view .LVU621
 2090 0066 0022     		movs	r2, #0
 2091              	.LVL220:
1319:Drivers/RTT/SEGGER_RTT.c ****   }
 2092              		.loc 1 1319 11 view .LVU622
 2093 0068 E0E7     		b	.L113
 2094              	.LVL221:
 2095              	.L116:
1331:Drivers/RTT/SEGGER_RTT.c ****   }
 2096              		.loc 1 1331 12 view .LVU623
 2097 006a 0020     		movs	r0, #0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 66


 2098 006c F5E7     		b	.L114
 2099              	.L121:
 2100 006e 00BF     		.align	2
 2101              	.L120:
 2102 0070 00000000 		.word	.LANCHOR1
 2103              	.LBE17:
 2104              		.cfi_endproc
 2105              	.LFE16:
 2107              		.section	.text.SEGGER_RTT_PutChar,"ax",%progbits
 2108              		.align	1
 2109              		.global	SEGGER_RTT_PutChar
 2110              		.syntax unified
 2111              		.thumb
 2112              		.thumb_func
 2113              		.fpu fpv5-sp-d16
 2115              	SEGGER_RTT_PutChar:
 2116              	.LVL222:
 2117              	.LFB17:
1340:Drivers/RTT/SEGGER_RTT.c **** 
1341:Drivers/RTT/SEGGER_RTT.c ****  /*********************************************************************
1342:Drivers/RTT/SEGGER_RTT.c **** *
1343:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_PutChar
1344:Drivers/RTT/SEGGER_RTT.c **** *
1345:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1346:Drivers/RTT/SEGGER_RTT.c **** *    Stores a single character/byte in SEGGER RTT buffer.
1347:Drivers/RTT/SEGGER_RTT.c **** *
1348:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1349:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of "Up"-buffer to be used (e.g. 0 for "Terminal").
1350:Drivers/RTT/SEGGER_RTT.c **** *    c            Byte to be stored.
1351:Drivers/RTT/SEGGER_RTT.c **** *
1352:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1353:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes which have been stored in the "Up"-buffer.
1354:Drivers/RTT/SEGGER_RTT.c **** *
1355:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1356:Drivers/RTT/SEGGER_RTT.c **** *    (1) Data is stored according to buffer flags.
1357:Drivers/RTT/SEGGER_RTT.c **** */
1358:Drivers/RTT/SEGGER_RTT.c **** 
1359:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_PutChar(unsigned BufferIndex, char c) {
 2118              		.loc 1 1359 59 is_stmt 1 view -0
 2119              		.cfi_startproc
 2120              		@ args = 0, pretend = 0, frame = 0
 2121              		@ frame_needed = 0, uses_anonymous_args = 0
 2122              		.loc 1 1359 59 is_stmt 0 view .LVU625
 2123 0000 38B5     		push	{r3, r4, r5, lr}
 2124              	.LCFI19:
 2125              		.cfi_def_cfa_offset 16
 2126              		.cfi_offset 3, -16
 2127              		.cfi_offset 4, -12
 2128              		.cfi_offset 5, -8
 2129              		.cfi_offset 14, -4
 2130 0002 0446     		mov	r4, r0
 2131 0004 0D46     		mov	r5, r1
1360:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 2132              		.loc 1 1360 3 is_stmt 1 view .LVU626
1361:Drivers/RTT/SEGGER_RTT.c ****   unsigned              WrOff;
 2133              		.loc 1 1361 3 view .LVU627
1362:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Status;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 67


 2134              		.loc 1 1362 3 view .LVU628
1363:Drivers/RTT/SEGGER_RTT.c ****   volatile char*        pDst;
 2135              		.loc 1 1363 3 view .LVU629
 2136              	.LBB18:
1364:Drivers/RTT/SEGGER_RTT.c ****   //
1365:Drivers/RTT/SEGGER_RTT.c ****   // Prepare
1366:Drivers/RTT/SEGGER_RTT.c ****   //
1367:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 2137              		.loc 1 1367 3 view .LVU630
 2138              		.loc 1 1367 3 view .LVU631
 2139              	.LVL223:
 2140              		.loc 1 1367 3 view .LVU632
 2141              		.loc 1 1367 3 view .LVU633
 2142 0006 234B     		ldr	r3, .L133
 2143 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2144 000a 002B     		cmp	r3, #0
 2145 000c 31D0     		beq	.L131
 2146              	.LVL224:
 2147              	.L123:
 2148              		.loc 1 1367 3 discriminator 3 view .LVU634
 2149              	.LBE18:
 2150              		.loc 1 1367 9 discriminator 3 view .LVU635
 2151              	.LBB19:
1368:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2152              		.loc 1 1368 3 discriminator 3 view .LVU636
 2153              		.loc 1 1368 3 discriminator 3 view .LVU637
 2154              		.syntax unified
 2155              	@ 1368 "Drivers/RTT/SEGGER_RTT.c" 1
 2156 000e EFF3118C 		mrs   ip, basepri  
 2157 0012 4FF02001 		mov   r1, #32       
 2158 0016 81F31188 		msr   basepri, r1  
 2159              		
 2160              	@ 0 "" 2
 2161              	.LVL225:
 2162              		.loc 1 1368 20 discriminator 3 view .LVU638
1369:Drivers/RTT/SEGGER_RTT.c ****   //
1370:Drivers/RTT/SEGGER_RTT.c ****   // Get "to-host" ring buffer.
1371:Drivers/RTT/SEGGER_RTT.c ****   //
1372:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 2163              		.loc 1 1372 3 discriminator 3 view .LVU639
1373:Drivers/RTT/SEGGER_RTT.c ****   //
1374:Drivers/RTT/SEGGER_RTT.c ****   // Get write position and handle wrap-around if necessary
1375:Drivers/RTT/SEGGER_RTT.c ****   //
1376:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRing->WrOff + 1;
 2164              		.loc 1 1376 3 discriminator 3 view .LVU640
 2165              		.loc 1 1376 16 is_stmt 0 discriminator 3 view .LVU641
 2166              		.thumb
 2167              		.syntax unified
 2168 001a 04EB4403 		add	r3, r4, r4, lsl #1
 2169 001e 1D4A     		ldr	r2, .L133
 2170 0020 02EBC303 		add	r3, r2, r3, lsl #3
 2171 0024 596A     		ldr	r1, [r3, #36]
 2172              		.loc 1 1376 9 discriminator 3 view .LVU642
 2173 0026 481C     		adds	r0, r1, #1
 2174              	.LVL226:
1377:Drivers/RTT/SEGGER_RTT.c ****   if (WrOff == pRing->SizeOfBuffer) {
 2175              		.loc 1 1377 3 is_stmt 1 discriminator 3 view .LVU643
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 68


 2176              		.loc 1 1377 21 is_stmt 0 discriminator 3 view .LVU644
 2177 0028 1B6A     		ldr	r3, [r3, #32]
 2178              		.loc 1 1377 6 discriminator 3 view .LVU645
 2179 002a 8342     		cmp	r3, r0
 2180 002c 24D0     		beq	.L132
 2181              	.LVL227:
 2182              	.L124:
1378:Drivers/RTT/SEGGER_RTT.c ****     WrOff = 0;
1379:Drivers/RTT/SEGGER_RTT.c ****   }
1380:Drivers/RTT/SEGGER_RTT.c ****   //
1381:Drivers/RTT/SEGGER_RTT.c ****   // Wait for free space if mode is set to blocking
1382:Drivers/RTT/SEGGER_RTT.c ****   //
1383:Drivers/RTT/SEGGER_RTT.c ****   if (pRing->Flags == SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL) {
 2183              		.loc 1 1383 3 is_stmt 1 view .LVU646
 2184              		.loc 1 1383 12 is_stmt 0 view .LVU647
 2185 002e 04EB4403 		add	r3, r4, r4, lsl #1
 2186 0032 184A     		ldr	r2, .L133
 2187 0034 02EBC303 		add	r3, r2, r3, lsl #3
 2188 0038 DB6A     		ldr	r3, [r3, #44]
 2189              		.loc 1 1383 6 view .LVU648
 2190 003a 022B     		cmp	r3, #2
 2191 003c 1ED0     		beq	.L126
 2192              	.L125:
1384:Drivers/RTT/SEGGER_RTT.c ****     while (WrOff == pRing->RdOff) {
1385:Drivers/RTT/SEGGER_RTT.c ****       ;
1386:Drivers/RTT/SEGGER_RTT.c ****     }
1387:Drivers/RTT/SEGGER_RTT.c ****   }
1388:Drivers/RTT/SEGGER_RTT.c ****   //
1389:Drivers/RTT/SEGGER_RTT.c ****   // Output byte if free space is available
1390:Drivers/RTT/SEGGER_RTT.c ****   //
1391:Drivers/RTT/SEGGER_RTT.c ****   if (WrOff != pRing->RdOff) {
 2193              		.loc 1 1391 3 is_stmt 1 view .LVU649
 2194              		.loc 1 1391 21 is_stmt 0 view .LVU650
 2195 003e 04EB4403 		add	r3, r4, r4, lsl #1
 2196 0042 144A     		ldr	r2, .L133
 2197 0044 02EBC303 		add	r3, r2, r3, lsl #3
 2198 0048 9B6A     		ldr	r3, [r3, #40]
 2199              		.loc 1 1391 6 view .LVU651
 2200 004a 8342     		cmp	r3, r0
 2201 004c 1FD0     		beq	.L129
1392:Drivers/RTT/SEGGER_RTT.c ****     pDst  = (pRing->pBuffer + pRing->WrOff) + SEGGER_RTT_UNCACHED_OFF;
 2202              		.loc 1 1392 5 is_stmt 1 view .LVU652
 2203              		.loc 1 1392 19 is_stmt 0 view .LVU653
 2204 004e 631C     		adds	r3, r4, #1
 2205 0050 03EB4303 		add	r3, r3, r3, lsl #1
 2206 0054 02EBC303 		add	r3, r2, r3, lsl #3
 2207 0058 5B68     		ldr	r3, [r3, #4]
 2208              	.LVL228:
1393:Drivers/RTT/SEGGER_RTT.c ****     *pDst = c;
 2209              		.loc 1 1393 5 is_stmt 1 view .LVU654
 2210              		.loc 1 1393 11 is_stmt 0 view .LVU655
 2211 005a 5D54     		strb	r5, [r3, r1]
1394:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 2212              		.loc 1 1394 5 is_stmt 1 view .LVU656
 2213              		.syntax unified
 2214              	@ 1394 "Drivers/RTT/SEGGER_RTT.c" 1
 2215 005c BFF35F8F 		dmb
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 69


 2216              	
 2217              	@ 0 "" 2
 2218              		.loc 1 1394 15 view .LVU657
1395:Drivers/RTT/SEGGER_RTT.c ****     pRing->WrOff = WrOff;
 2219              		.loc 1 1395 5 view .LVU658
 2220              		.loc 1 1395 18 is_stmt 0 view .LVU659
 2221              		.thumb
 2222              		.syntax unified
 2223 0060 04EB4404 		add	r4, r4, r4, lsl #1
 2224              	.LVL229:
 2225              		.loc 1 1395 18 view .LVU660
 2226 0064 02EBC404 		add	r4, r2, r4, lsl #3
 2227 0068 6062     		str	r0, [r4, #36]
1396:Drivers/RTT/SEGGER_RTT.c ****     Status = 1;
 2228              		.loc 1 1396 5 is_stmt 1 view .LVU661
 2229              	.LVL230:
 2230              		.loc 1 1396 12 is_stmt 0 view .LVU662
 2231 006a 0120     		movs	r0, #1
 2232              	.LVL231:
 2233              	.L127:
1397:Drivers/RTT/SEGGER_RTT.c ****   } else {
1398:Drivers/RTT/SEGGER_RTT.c ****     Status = 0;
1399:Drivers/RTT/SEGGER_RTT.c ****   }
1400:Drivers/RTT/SEGGER_RTT.c ****   //
1401:Drivers/RTT/SEGGER_RTT.c ****   // Finish up.
1402:Drivers/RTT/SEGGER_RTT.c ****   //
1403:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 2234              		.loc 1 1403 3 is_stmt 1 view .LVU663
 2235              		.syntax unified
 2236              	@ 1403 "Drivers/RTT/SEGGER_RTT.c" 1
 2237 006c 8CF31188 		msr   basepri, ip  
 2238              		
 2239              	@ 0 "" 2
 2240              		.thumb
 2241              		.syntax unified
 2242              	.LBE19:
 2243              		.loc 1 1403 22 view .LVU664
1404:Drivers/RTT/SEGGER_RTT.c ****   return Status;
 2244              		.loc 1 1404 3 view .LVU665
1405:Drivers/RTT/SEGGER_RTT.c **** }
 2245              		.loc 1 1405 1 is_stmt 0 view .LVU666
 2246 0070 38BD     		pop	{r3, r4, r5, pc}
 2247              	.LVL232:
 2248              	.L131:
 2249              	.LBB20:
1367:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2250              		.loc 1 1367 3 is_stmt 1 discriminator 1 view .LVU667
 2251 0072 FFF7FEFF 		bl	_DoInit
 2252              	.LVL233:
1367:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2253              		.loc 1 1367 3 is_stmt 0 discriminator 1 view .LVU668
 2254 0076 CAE7     		b	.L123
 2255              	.LVL234:
 2256              	.L132:
1367:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2257              		.loc 1 1367 3 discriminator 1 view .LVU669
 2258              	.LBE20:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 70


 2259              	.LBB21:
1378:Drivers/RTT/SEGGER_RTT.c ****   }
 2260              		.loc 1 1378 11 view .LVU670
 2261 0078 0020     		movs	r0, #0
 2262              	.LVL235:
1378:Drivers/RTT/SEGGER_RTT.c ****   }
 2263              		.loc 1 1378 11 view .LVU671
 2264 007a D8E7     		b	.L124
 2265              	.LVL236:
 2266              	.L126:
1385:Drivers/RTT/SEGGER_RTT.c ****     }
 2267              		.loc 1 1385 7 is_stmt 1 discriminator 1 view .LVU672
1384:Drivers/RTT/SEGGER_RTT.c ****       ;
 2268              		.loc 1 1384 11 discriminator 1 view .LVU673
1384:Drivers/RTT/SEGGER_RTT.c ****       ;
 2269              		.loc 1 1384 26 is_stmt 0 discriminator 1 view .LVU674
 2270 007c 04EB4403 		add	r3, r4, r4, lsl #1
 2271 0080 044A     		ldr	r2, .L133
 2272 0082 02EBC303 		add	r3, r2, r3, lsl #3
 2273 0086 9B6A     		ldr	r3, [r3, #40]
1384:Drivers/RTT/SEGGER_RTT.c ****       ;
 2274              		.loc 1 1384 11 discriminator 1 view .LVU675
 2275 0088 8342     		cmp	r3, r0
 2276 008a F7D0     		beq	.L126
 2277 008c D7E7     		b	.L125
 2278              	.L129:
1398:Drivers/RTT/SEGGER_RTT.c ****   }
 2279              		.loc 1 1398 12 view .LVU676
 2280 008e 0020     		movs	r0, #0
 2281              	.LVL237:
1398:Drivers/RTT/SEGGER_RTT.c ****   }
 2282              		.loc 1 1398 12 view .LVU677
 2283 0090 ECE7     		b	.L127
 2284              	.L134:
 2285 0092 00BF     		.align	2
 2286              	.L133:
 2287 0094 00000000 		.word	.LANCHOR1
 2288              	.LBE21:
 2289              		.cfi_endproc
 2290              	.LFE17:
 2292              		.section	.text.SEGGER_RTT_GetKey,"ax",%progbits
 2293              		.align	1
 2294              		.global	SEGGER_RTT_GetKey
 2295              		.syntax unified
 2296              		.thumb
 2297              		.thumb_func
 2298              		.fpu fpv5-sp-d16
 2300              	SEGGER_RTT_GetKey:
 2301              	.LFB18:
1406:Drivers/RTT/SEGGER_RTT.c **** 
1407:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1408:Drivers/RTT/SEGGER_RTT.c **** *
1409:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_GetKey
1410:Drivers/RTT/SEGGER_RTT.c **** *
1411:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1412:Drivers/RTT/SEGGER_RTT.c **** *    Reads one character from the SEGGER RTT buffer.
1413:Drivers/RTT/SEGGER_RTT.c **** *    Host has previously stored data there.
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 71


1414:Drivers/RTT/SEGGER_RTT.c **** *
1415:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1416:Drivers/RTT/SEGGER_RTT.c **** *    <  0 -   No character available (buffer empty).
1417:Drivers/RTT/SEGGER_RTT.c **** *    >= 0 -   Character which has been read. (Possible values: 0 - 255)
1418:Drivers/RTT/SEGGER_RTT.c **** *
1419:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1420:Drivers/RTT/SEGGER_RTT.c **** *    (1) This function is only specified for accesses to RTT buffer 0.
1421:Drivers/RTT/SEGGER_RTT.c **** */
1422:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_GetKey(void) {
 2302              		.loc 1 1422 29 is_stmt 1 view -0
 2303              		.cfi_startproc
 2304              		@ args = 0, pretend = 0, frame = 8
 2305              		@ frame_needed = 0, uses_anonymous_args = 0
 2306 0000 00B5     		push	{lr}
 2307              	.LCFI20:
 2308              		.cfi_def_cfa_offset 4
 2309              		.cfi_offset 14, -4
 2310 0002 83B0     		sub	sp, sp, #12
 2311              	.LCFI21:
 2312              		.cfi_def_cfa_offset 16
1423:Drivers/RTT/SEGGER_RTT.c ****   char c;
 2313              		.loc 1 1423 3 view .LVU679
1424:Drivers/RTT/SEGGER_RTT.c ****   int r;
 2314              		.loc 1 1424 3 view .LVU680
1425:Drivers/RTT/SEGGER_RTT.c **** 
1426:Drivers/RTT/SEGGER_RTT.c ****   r = (int)SEGGER_RTT_Read(0u, &c, 1u);
 2315              		.loc 1 1426 3 view .LVU681
 2316              		.loc 1 1426 12 is_stmt 0 view .LVU682
 2317 0004 0122     		movs	r2, #1
 2318 0006 0DF10701 		add	r1, sp, #7
 2319 000a 0020     		movs	r0, #0
 2320 000c FFF7FEFF 		bl	SEGGER_RTT_Read
 2321              	.LVL238:
1427:Drivers/RTT/SEGGER_RTT.c ****   if (r == 1) {
 2322              		.loc 1 1427 3 is_stmt 1 view .LVU683
 2323              		.loc 1 1427 6 is_stmt 0 view .LVU684
 2324 0010 0128     		cmp	r0, #1
 2325 0012 04D1     		bne	.L137
1428:Drivers/RTT/SEGGER_RTT.c ****     r = (int)(unsigned char)c;
 2326              		.loc 1 1428 5 is_stmt 1 view .LVU685
 2327              		.loc 1 1428 9 is_stmt 0 view .LVU686
 2328 0014 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 2329              	.LVL239:
 2330              	.L135:
1429:Drivers/RTT/SEGGER_RTT.c ****   } else {
1430:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1431:Drivers/RTT/SEGGER_RTT.c ****   }
1432:Drivers/RTT/SEGGER_RTT.c ****   return r;
1433:Drivers/RTT/SEGGER_RTT.c **** }
 2331              		.loc 1 1433 1 view .LVU687
 2332 0018 03B0     		add	sp, sp, #12
 2333              	.LCFI22:
 2334              		.cfi_remember_state
 2335              		.cfi_def_cfa_offset 4
 2336              		@ sp needed
 2337 001a 5DF804FB 		ldr	pc, [sp], #4
 2338              	.LVL240:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 72


 2339              	.L137:
 2340              	.LCFI23:
 2341              		.cfi_restore_state
1430:Drivers/RTT/SEGGER_RTT.c ****   }
 2342              		.loc 1 1430 7 view .LVU688
 2343 001e 4FF0FF30 		mov	r0, #-1
 2344              	.LVL241:
1432:Drivers/RTT/SEGGER_RTT.c **** }
 2345              		.loc 1 1432 3 is_stmt 1 view .LVU689
1432:Drivers/RTT/SEGGER_RTT.c **** }
 2346              		.loc 1 1432 10 is_stmt 0 view .LVU690
 2347 0022 F9E7     		b	.L135
 2348              		.cfi_endproc
 2349              	.LFE18:
 2351              		.section	.text.SEGGER_RTT_WaitKey,"ax",%progbits
 2352              		.align	1
 2353              		.global	SEGGER_RTT_WaitKey
 2354              		.syntax unified
 2355              		.thumb
 2356              		.thumb_func
 2357              		.fpu fpv5-sp-d16
 2359              	SEGGER_RTT_WaitKey:
 2360              	.LFB19:
1434:Drivers/RTT/SEGGER_RTT.c **** 
1435:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1436:Drivers/RTT/SEGGER_RTT.c **** *
1437:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_WaitKey
1438:Drivers/RTT/SEGGER_RTT.c **** *
1439:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1440:Drivers/RTT/SEGGER_RTT.c **** *    Waits until at least one character is avaible in the SEGGER RTT buffer.
1441:Drivers/RTT/SEGGER_RTT.c **** *    Once a character is available, it is read and this function returns.
1442:Drivers/RTT/SEGGER_RTT.c **** *
1443:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1444:Drivers/RTT/SEGGER_RTT.c **** *    >=0 -   Character which has been read.
1445:Drivers/RTT/SEGGER_RTT.c **** *
1446:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1447:Drivers/RTT/SEGGER_RTT.c **** *    (1) This function is only specified for accesses to RTT buffer 0
1448:Drivers/RTT/SEGGER_RTT.c **** *    (2) This function is blocking if no character is present in RTT buffer
1449:Drivers/RTT/SEGGER_RTT.c **** */
1450:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_WaitKey(void) {
 2361              		.loc 1 1450 30 is_stmt 1 view -0
 2362              		.cfi_startproc
 2363              		@ args = 0, pretend = 0, frame = 0
 2364              		@ frame_needed = 0, uses_anonymous_args = 0
 2365 0000 08B5     		push	{r3, lr}
 2366              	.LCFI24:
 2367              		.cfi_def_cfa_offset 8
 2368              		.cfi_offset 3, -8
 2369              		.cfi_offset 14, -4
 2370              	.L140:
1451:Drivers/RTT/SEGGER_RTT.c ****   int r;
 2371              		.loc 1 1451 3 discriminator 1 view .LVU692
1452:Drivers/RTT/SEGGER_RTT.c **** 
1453:Drivers/RTT/SEGGER_RTT.c ****   do {
 2372              		.loc 1 1453 3 discriminator 1 view .LVU693
1454:Drivers/RTT/SEGGER_RTT.c ****     r = SEGGER_RTT_GetKey();
 2373              		.loc 1 1454 5 discriminator 1 view .LVU694
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 73


 2374              		.loc 1 1454 9 is_stmt 0 discriminator 1 view .LVU695
 2375 0002 FFF7FEFF 		bl	SEGGER_RTT_GetKey
 2376              	.LVL242:
1455:Drivers/RTT/SEGGER_RTT.c ****   } while (r < 0);
 2377              		.loc 1 1455 11 is_stmt 1 discriminator 1 view .LVU696
 2378              		.loc 1 1455 3 is_stmt 0 discriminator 1 view .LVU697
 2379 0006 0028     		cmp	r0, #0
 2380              		.loc 1 1455 3 discriminator 1 view .LVU698
 2381 0008 FBDB     		blt	.L140
1456:Drivers/RTT/SEGGER_RTT.c ****   return r;
 2382              		.loc 1 1456 3 is_stmt 1 view .LVU699
1457:Drivers/RTT/SEGGER_RTT.c **** }
 2383              		.loc 1 1457 1 is_stmt 0 view .LVU700
 2384 000a 08BD     		pop	{r3, pc}
 2385              		.cfi_endproc
 2386              	.LFE19:
 2388              		.section	.text.SEGGER_RTT_HasKey,"ax",%progbits
 2389              		.align	1
 2390              		.global	SEGGER_RTT_HasKey
 2391              		.syntax unified
 2392              		.thumb
 2393              		.thumb_func
 2394              		.fpu fpv5-sp-d16
 2396              	SEGGER_RTT_HasKey:
 2397              	.LFB20:
1458:Drivers/RTT/SEGGER_RTT.c **** 
1459:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1460:Drivers/RTT/SEGGER_RTT.c **** *
1461:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_HasKey
1462:Drivers/RTT/SEGGER_RTT.c **** *
1463:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1464:Drivers/RTT/SEGGER_RTT.c **** *    Checks if at least one character for reading is available in the SEGGER RTT buffer.
1465:Drivers/RTT/SEGGER_RTT.c **** *
1466:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1467:Drivers/RTT/SEGGER_RTT.c **** *    == 0 -     No characters are available to read.
1468:Drivers/RTT/SEGGER_RTT.c **** *    == 1 -     At least one character is available.
1469:Drivers/RTT/SEGGER_RTT.c **** *
1470:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1471:Drivers/RTT/SEGGER_RTT.c **** *    (1) This function is only specified for accesses to RTT buffer 0
1472:Drivers/RTT/SEGGER_RTT.c **** */
1473:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_HasKey(void) {
 2398              		.loc 1 1473 29 is_stmt 1 view -0
 2399              		.cfi_startproc
 2400              		@ args = 0, pretend = 0, frame = 0
 2401              		@ frame_needed = 0, uses_anonymous_args = 0
 2402 0000 08B5     		push	{r3, lr}
 2403              	.LCFI25:
 2404              		.cfi_def_cfa_offset 8
 2405              		.cfi_offset 3, -8
 2406              		.cfi_offset 14, -4
1474:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_DOWN* pRing;
 2407              		.loc 1 1474 3 view .LVU702
1475:Drivers/RTT/SEGGER_RTT.c ****   unsigned RdOff;
 2408              		.loc 1 1475 3 view .LVU703
1476:Drivers/RTT/SEGGER_RTT.c ****   int r;
 2409              		.loc 1 1476 3 view .LVU704
 2410              	.LBB22:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 74


1477:Drivers/RTT/SEGGER_RTT.c **** 
1478:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 2411              		.loc 1 1478 3 view .LVU705
 2412              		.loc 1 1478 3 view .LVU706
 2413              	.LVL243:
 2414              		.loc 1 1478 3 view .LVU707
 2415              		.loc 1 1478 3 view .LVU708
 2416 0002 074B     		ldr	r3, .L148
 2417 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2418 0006 33B1     		cbz	r3, .L147
 2419              	.L143:
 2420              		.loc 1 1478 3 discriminator 3 view .LVU709
 2421              	.LBE22:
 2422              		.loc 1 1478 9 discriminator 3 view .LVU710
1479:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[0] + SEGGER_RTT_UNCACHED_OFF);  // Ac
 2423              		.loc 1 1479 3 discriminator 3 view .LVU711
 2424              	.LVL244:
1480:Drivers/RTT/SEGGER_RTT.c ****   RdOff = pRing->RdOff;
 2425              		.loc 1 1480 3 discriminator 3 view .LVU712
 2426              		.loc 1 1480 9 is_stmt 0 discriminator 3 view .LVU713
 2427 0008 054B     		ldr	r3, .L148
 2428 000a 1A6F     		ldr	r2, [r3, #112]
 2429              	.LVL245:
1481:Drivers/RTT/SEGGER_RTT.c ****   if (RdOff != pRing->WrOff) {
 2430              		.loc 1 1481 3 is_stmt 1 discriminator 3 view .LVU714
 2431              		.loc 1 1481 21 is_stmt 0 discriminator 3 view .LVU715
 2432 000c DB6E     		ldr	r3, [r3, #108]
 2433              		.loc 1 1481 6 discriminator 3 view .LVU716
 2434 000e 9342     		cmp	r3, r2
 2435 0010 04D0     		beq	.L145
1482:Drivers/RTT/SEGGER_RTT.c ****     r = 1;
 2436              		.loc 1 1482 7 view .LVU717
 2437 0012 0120     		movs	r0, #1
 2438              	.L142:
1483:Drivers/RTT/SEGGER_RTT.c ****   } else {
1484:Drivers/RTT/SEGGER_RTT.c ****     r = 0;
1485:Drivers/RTT/SEGGER_RTT.c ****   }
1486:Drivers/RTT/SEGGER_RTT.c ****   return r;
1487:Drivers/RTT/SEGGER_RTT.c **** }
 2439              		.loc 1 1487 1 view .LVU718
 2440 0014 08BD     		pop	{r3, pc}
 2441              	.LVL246:
 2442              	.L147:
 2443              	.LBB23:
1478:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[0] + SEGGER_RTT_UNCACHED_OFF);  // Ac
 2444              		.loc 1 1478 3 is_stmt 1 discriminator 1 view .LVU719
 2445 0016 FFF7FEFF 		bl	_DoInit
 2446              	.LVL247:
 2447 001a F5E7     		b	.L143
 2448              	.LVL248:
 2449              	.L145:
1478:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[0] + SEGGER_RTT_UNCACHED_OFF);  // Ac
 2450              		.loc 1 1478 3 is_stmt 0 discriminator 1 view .LVU720
 2451              	.LBE23:
1484:Drivers/RTT/SEGGER_RTT.c ****   }
 2452              		.loc 1 1484 7 view .LVU721
 2453 001c 0020     		movs	r0, #0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 75


 2454              	.LVL249:
1486:Drivers/RTT/SEGGER_RTT.c **** }
 2455              		.loc 1 1486 3 is_stmt 1 view .LVU722
1486:Drivers/RTT/SEGGER_RTT.c **** }
 2456              		.loc 1 1486 10 is_stmt 0 view .LVU723
 2457 001e F9E7     		b	.L142
 2458              	.L149:
 2459              		.align	2
 2460              	.L148:
 2461 0020 00000000 		.word	.LANCHOR1
 2462              		.cfi_endproc
 2463              	.LFE20:
 2465              		.section	.text.SEGGER_RTT_HasData,"ax",%progbits
 2466              		.align	1
 2467              		.global	SEGGER_RTT_HasData
 2468              		.syntax unified
 2469              		.thumb
 2470              		.thumb_func
 2471              		.fpu fpv5-sp-d16
 2473              	SEGGER_RTT_HasData:
 2474              	.LVL250:
 2475              	.LFB21:
1488:Drivers/RTT/SEGGER_RTT.c **** 
1489:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1490:Drivers/RTT/SEGGER_RTT.c **** *
1491:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_HasData
1492:Drivers/RTT/SEGGER_RTT.c **** *
1493:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1494:Drivers/RTT/SEGGER_RTT.c **** *    Check if there is data from the host in the given buffer.
1495:Drivers/RTT/SEGGER_RTT.c **** *
1496:Drivers/RTT/SEGGER_RTT.c **** *  Return value:
1497:Drivers/RTT/SEGGER_RTT.c **** *  ==0:  No data
1498:Drivers/RTT/SEGGER_RTT.c **** *  !=0:  Data in buffer
1499:Drivers/RTT/SEGGER_RTT.c **** *
1500:Drivers/RTT/SEGGER_RTT.c **** */
1501:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_HasData(unsigned BufferIndex) {
 2476              		.loc 1 1501 51 is_stmt 1 view -0
 2477              		.cfi_startproc
 2478              		@ args = 0, pretend = 0, frame = 0
 2479              		@ frame_needed = 0, uses_anonymous_args = 0
 2480              		@ link register save eliminated.
1502:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_DOWN* pRing;
 2481              		.loc 1 1502 3 view .LVU725
1503:Drivers/RTT/SEGGER_RTT.c ****   unsigned                v;
 2482              		.loc 1 1503 3 view .LVU726
1504:Drivers/RTT/SEGGER_RTT.c **** 
1505:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_DOWN*)((char*)&_SEGGER_RTT.aDown[BufferIndex] + SEGGER_RTT_UNCACHED_OF
 2483              		.loc 1 1505 3 view .LVU727
1506:Drivers/RTT/SEGGER_RTT.c ****   v = pRing->WrOff;
 2484              		.loc 1 1506 3 view .LVU728
 2485              		.loc 1 1506 5 is_stmt 0 view .LVU729
 2486 0000 064B     		ldr	r3, .L151
 2487 0002 00EB4002 		add	r2, r0, r0, lsl #1
 2488 0006 03EBC202 		add	r2, r3, r2, lsl #3
 2489 000a D26E     		ldr	r2, [r2, #108]
 2490              	.LVL251:
1507:Drivers/RTT/SEGGER_RTT.c ****   return v - pRing->RdOff;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 76


 2491              		.loc 1 1507 3 is_stmt 1 view .LVU730
 2492              		.loc 1 1507 19 is_stmt 0 view .LVU731
 2493 000c 00EB4000 		add	r0, r0, r0, lsl #1
 2494              	.LVL252:
 2495              		.loc 1 1507 19 view .LVU732
 2496 0010 03EBC000 		add	r0, r3, r0, lsl #3
 2497 0014 006F     		ldr	r0, [r0, #112]
1508:Drivers/RTT/SEGGER_RTT.c **** }
 2498              		.loc 1 1508 1 view .LVU733
 2499 0016 101A     		subs	r0, r2, r0
 2500 0018 7047     		bx	lr
 2501              	.L152:
 2502 001a 00BF     		.align	2
 2503              	.L151:
 2504 001c 00000000 		.word	.LANCHOR1
 2505              		.cfi_endproc
 2506              	.LFE21:
 2508              		.section	.text.SEGGER_RTT_HasDataUp,"ax",%progbits
 2509              		.align	1
 2510              		.global	SEGGER_RTT_HasDataUp
 2511              		.syntax unified
 2512              		.thumb
 2513              		.thumb_func
 2514              		.fpu fpv5-sp-d16
 2516              	SEGGER_RTT_HasDataUp:
 2517              	.LVL253:
 2518              	.LFB22:
1509:Drivers/RTT/SEGGER_RTT.c **** 
1510:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1511:Drivers/RTT/SEGGER_RTT.c **** *
1512:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_HasDataUp
1513:Drivers/RTT/SEGGER_RTT.c **** *
1514:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1515:Drivers/RTT/SEGGER_RTT.c **** *    Check if there is data remaining to be sent in the given buffer.
1516:Drivers/RTT/SEGGER_RTT.c **** *
1517:Drivers/RTT/SEGGER_RTT.c **** *  Return value:
1518:Drivers/RTT/SEGGER_RTT.c **** *  ==0:  No data
1519:Drivers/RTT/SEGGER_RTT.c **** *  !=0:  Data in buffer
1520:Drivers/RTT/SEGGER_RTT.c **** *
1521:Drivers/RTT/SEGGER_RTT.c **** */
1522:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_HasDataUp(unsigned BufferIndex) {
 2519              		.loc 1 1522 53 is_stmt 1 view -0
 2520              		.cfi_startproc
 2521              		@ args = 0, pretend = 0, frame = 0
 2522              		@ frame_needed = 0, uses_anonymous_args = 0
 2523              		@ link register save eliminated.
1523:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 2524              		.loc 1 1523 3 view .LVU735
1524:Drivers/RTT/SEGGER_RTT.c ****   unsigned                v;
 2525              		.loc 1 1524 3 view .LVU736
1525:Drivers/RTT/SEGGER_RTT.c **** 
1526:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 2526              		.loc 1 1526 3 view .LVU737
1527:Drivers/RTT/SEGGER_RTT.c ****   v = pRing->RdOff;
 2527              		.loc 1 1527 3 view .LVU738
 2528              		.loc 1 1527 5 is_stmt 0 view .LVU739
 2529 0000 064B     		ldr	r3, .L154
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 77


 2530 0002 00EB4002 		add	r2, r0, r0, lsl #1
 2531 0006 03EBC202 		add	r2, r3, r2, lsl #3
 2532 000a 926A     		ldr	r2, [r2, #40]
 2533              	.LVL254:
1528:Drivers/RTT/SEGGER_RTT.c ****   return pRing->WrOff - v;
 2534              		.loc 1 1528 3 is_stmt 1 view .LVU740
 2535              		.loc 1 1528 15 is_stmt 0 view .LVU741
 2536 000c 00EB4000 		add	r0, r0, r0, lsl #1
 2537              	.LVL255:
 2538              		.loc 1 1528 15 view .LVU742
 2539 0010 03EBC000 		add	r0, r3, r0, lsl #3
 2540 0014 406A     		ldr	r0, [r0, #36]
1529:Drivers/RTT/SEGGER_RTT.c **** }
 2541              		.loc 1 1529 1 view .LVU743
 2542 0016 801A     		subs	r0, r0, r2
 2543 0018 7047     		bx	lr
 2544              	.L155:
 2545 001a 00BF     		.align	2
 2546              	.L154:
 2547 001c 00000000 		.word	.LANCHOR1
 2548              		.cfi_endproc
 2549              	.LFE22:
 2551              		.section	.text.SEGGER_RTT_AllocDownBuffer,"ax",%progbits
 2552              		.align	1
 2553              		.global	SEGGER_RTT_AllocDownBuffer
 2554              		.syntax unified
 2555              		.thumb
 2556              		.thumb_func
 2557              		.fpu fpv5-sp-d16
 2559              	SEGGER_RTT_AllocDownBuffer:
 2560              	.LVL256:
 2561              	.LFB23:
1530:Drivers/RTT/SEGGER_RTT.c **** 
1531:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1532:Drivers/RTT/SEGGER_RTT.c **** *
1533:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_AllocDownBuffer
1534:Drivers/RTT/SEGGER_RTT.c **** *
1535:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1536:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of the next down-buffer (H->T).
1537:Drivers/RTT/SEGGER_RTT.c **** *    The next buffer, which is not used yet is configured.
1538:Drivers/RTT/SEGGER_RTT.c **** *    This includes: Buffer address, size, name, flags, ...
1539:Drivers/RTT/SEGGER_RTT.c **** *
1540:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1541:Drivers/RTT/SEGGER_RTT.c **** *    sName        Pointer to a constant name string.
1542:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to a buffer to be used.
1543:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the buffer.
1544:Drivers/RTT/SEGGER_RTT.c **** *    Flags        Operating modes. Define behavior if buffer is full (not enough space for entire m
1545:Drivers/RTT/SEGGER_RTT.c **** *
1546:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1547:Drivers/RTT/SEGGER_RTT.c **** *    >= 0 - O.K. Buffer Index
1548:Drivers/RTT/SEGGER_RTT.c **** *     < 0 - Error
1549:Drivers/RTT/SEGGER_RTT.c **** */
1550:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_AllocDownBuffer(const char* sName, void* pBuffer, unsigned BufferSize, unsigned Flag
 2562              		.loc 1 1550 103 is_stmt 1 view -0
 2563              		.cfi_startproc
 2564              		@ args = 0, pretend = 0, frame = 0
 2565              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 78


 2566              		.loc 1 1550 103 is_stmt 0 view .LVU745
 2567 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2568              	.LCFI26:
 2569              		.cfi_def_cfa_offset 24
 2570              		.cfi_offset 4, -24
 2571              		.cfi_offset 5, -20
 2572              		.cfi_offset 6, -16
 2573              		.cfi_offset 7, -12
 2574              		.cfi_offset 8, -8
 2575              		.cfi_offset 14, -4
 2576 0004 8046     		mov	r8, r0
 2577 0006 0F46     		mov	r7, r1
 2578 0008 1646     		mov	r6, r2
 2579 000a 1D46     		mov	r5, r3
1551:Drivers/RTT/SEGGER_RTT.c ****   int BufferIndex;
 2580              		.loc 1 1551 3 is_stmt 1 view .LVU746
1552:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 2581              		.loc 1 1552 3 view .LVU747
 2582              	.LBB24:
1553:Drivers/RTT/SEGGER_RTT.c **** 
1554:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 2583              		.loc 1 1554 3 view .LVU748
 2584              		.loc 1 1554 3 view .LVU749
 2585              	.LVL257:
 2586              		.loc 1 1554 3 view .LVU750
 2587              		.loc 1 1554 3 view .LVU751
 2588 000c 194B     		ldr	r3, .L164
 2589              	.LVL258:
 2590              		.loc 1 1554 3 is_stmt 0 view .LVU752
 2591 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2592 0010 4BB3     		cbz	r3, .L163
 2593              	.LVL259:
 2594              	.L157:
 2595              		.loc 1 1554 3 is_stmt 1 discriminator 3 view .LVU753
 2596              	.LBE24:
 2597              		.loc 1 1554 9 discriminator 3 view .LVU754
 2598              	.LBB25:
1555:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2599              		.loc 1 1555 3 discriminator 3 view .LVU755
 2600              		.loc 1 1555 3 discriminator 3 view .LVU756
 2601              		.syntax unified
 2602              	@ 1555 "Drivers/RTT/SEGGER_RTT.c" 1
 2603 0012 EFF31182 		mrs   r2, basepri  
 2604 0016 4FF02001 		mov   r1, #32       
 2605 001a 81F31188 		msr   basepri, r1  
 2606              		
 2607              	@ 0 "" 2
 2608              	.LVL260:
 2609              		.loc 1 1555 20 discriminator 3 view .LVU757
1556:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 2610              		.loc 1 1556 3 discriminator 3 view .LVU758
1557:Drivers/RTT/SEGGER_RTT.c ****   BufferIndex = 0;
 2611              		.loc 1 1557 3 discriminator 3 view .LVU759
 2612              		.loc 1 1557 15 is_stmt 0 discriminator 3 view .LVU760
 2613              		.thumb
 2614              		.syntax unified
 2615 001e 0020     		movs	r0, #0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 79


 2616              	.LVL261:
 2617              	.L159:
1558:Drivers/RTT/SEGGER_RTT.c ****   do {
 2618              		.loc 1 1558 3 is_stmt 1 view .LVU761
1559:Drivers/RTT/SEGGER_RTT.c ****     if (pRTTCB->aDown[BufferIndex].pBuffer == NULL) {
 2619              		.loc 1 1559 5 view .LVU762
 2620              		.loc 1 1559 35 is_stmt 0 view .LVU763
 2621 0020 00EB400C 		add	ip, r0, r0, lsl #1
 2622 0024 134C     		ldr	r4, .L164
 2623 0026 04EBCC0C 		add	ip, r4, ip, lsl #3
 2624 002a DCF86430 		ldr	r3, [ip, #100]
 2625              		.loc 1 1559 8 view .LVU764
 2626 002e 1BB1     		cbz	r3, .L158
1560:Drivers/RTT/SEGGER_RTT.c ****       break;
1561:Drivers/RTT/SEGGER_RTT.c ****     }
1562:Drivers/RTT/SEGGER_RTT.c ****     BufferIndex++;
 2627              		.loc 1 1562 5 is_stmt 1 view .LVU765
 2628              		.loc 1 1562 16 is_stmt 0 view .LVU766
 2629 0030 0130     		adds	r0, r0, #1
 2630              	.LVL262:
1563:Drivers/RTT/SEGGER_RTT.c ****   } while (BufferIndex < pRTTCB->MaxNumDownBuffers);
 2631              		.loc 1 1563 11 is_stmt 1 view .LVU767
 2632              		.loc 1 1563 32 is_stmt 0 view .LVU768
 2633 0032 6369     		ldr	r3, [r4, #20]
 2634              		.loc 1 1563 3 view .LVU769
 2635 0034 8342     		cmp	r3, r0
 2636 0036 F3DC     		bgt	.L159
 2637              	.L158:
1564:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < pRTTCB->MaxNumDownBuffers) {
 2638              		.loc 1 1564 3 is_stmt 1 view .LVU770
 2639              		.loc 1 1564 27 is_stmt 0 view .LVU771
 2640 0038 0E4B     		ldr	r3, .L164
 2641 003a 5B69     		ldr	r3, [r3, #20]
 2642              		.loc 1 1564 6 view .LVU772
 2643 003c 8342     		cmp	r3, r0
 2644 003e 15DD     		ble	.L161
1565:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aDown[BufferIndex].sName        = sName;
 2645              		.loc 1 1565 5 is_stmt 1 view .LVU773
 2646              		.loc 1 1565 45 is_stmt 0 view .LVU774
 2647 0040 00EB4003 		add	r3, r0, r0, lsl #1
 2648 0044 0B49     		ldr	r1, .L164
 2649 0046 01EBC303 		add	r3, r1, r3, lsl #3
 2650 004a C3F86080 		str	r8, [r3, #96]
1566:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aDown[BufferIndex].pBuffer      = (char*)pBuffer;
 2651              		.loc 1 1566 5 is_stmt 1 view .LVU775
 2652              		.loc 1 1566 45 is_stmt 0 view .LVU776
 2653 004e 5F66     		str	r7, [r3, #100]
1567:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aDown[BufferIndex].SizeOfBuffer = BufferSize;
 2654              		.loc 1 1567 5 is_stmt 1 view .LVU777
 2655              		.loc 1 1567 45 is_stmt 0 view .LVU778
 2656 0050 9E66     		str	r6, [r3, #104]
1568:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aDown[BufferIndex].RdOff        = 0u;
 2657              		.loc 1 1568 5 is_stmt 1 view .LVU779
 2658              		.loc 1 1568 45 is_stmt 0 view .LVU780
 2659 0052 0021     		movs	r1, #0
 2660 0054 1967     		str	r1, [r3, #112]
1569:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aDown[BufferIndex].WrOff        = 0u;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 80


 2661              		.loc 1 1569 5 is_stmt 1 view .LVU781
 2662              		.loc 1 1569 45 is_stmt 0 view .LVU782
 2663 0056 D966     		str	r1, [r3, #108]
1570:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aDown[BufferIndex].Flags        = Flags;
 2664              		.loc 1 1570 5 is_stmt 1 view .LVU783
 2665              		.loc 1 1570 45 is_stmt 0 view .LVU784
 2666 0058 5D67     		str	r5, [r3, #116]
1571:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 2667              		.loc 1 1571 5 is_stmt 1 view .LVU785
 2668              		.syntax unified
 2669              	@ 1571 "Drivers/RTT/SEGGER_RTT.c" 1
 2670 005a BFF35F8F 		dmb
 2671              	
 2672              	@ 0 "" 2
 2673              		.loc 1 1571 15 view .LVU786
 2674              	.LVL263:
 2675              		.thumb
 2676              		.syntax unified
 2677              	.L160:
1572:Drivers/RTT/SEGGER_RTT.c ****   } else {
1573:Drivers/RTT/SEGGER_RTT.c ****     BufferIndex = -1;
1574:Drivers/RTT/SEGGER_RTT.c ****   }
1575:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 2678              		.loc 1 1575 3 view .LVU787
 2679              		.syntax unified
 2680              	@ 1575 "Drivers/RTT/SEGGER_RTT.c" 1
 2681 005e 82F31188 		msr   basepri, r2  
 2682              		
 2683              	@ 0 "" 2
 2684              		.thumb
 2685              		.syntax unified
 2686              	.LBE25:
 2687              		.loc 1 1575 22 view .LVU788
1576:Drivers/RTT/SEGGER_RTT.c ****   return BufferIndex;
 2688              		.loc 1 1576 3 view .LVU789
1577:Drivers/RTT/SEGGER_RTT.c **** }
 2689              		.loc 1 1577 1 is_stmt 0 view .LVU790
 2690 0062 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2691              	.LVL264:
 2692              	.L163:
 2693              	.LBB26:
1554:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2694              		.loc 1 1554 3 is_stmt 1 discriminator 1 view .LVU791
 2695 0066 FFF7FEFF 		bl	_DoInit
 2696              	.LVL265:
1554:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2697              		.loc 1 1554 3 is_stmt 0 discriminator 1 view .LVU792
 2698 006a D2E7     		b	.L157
 2699              	.LVL266:
 2700              	.L161:
1554:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2701              		.loc 1 1554 3 discriminator 1 view .LVU793
 2702              	.LBE26:
 2703              	.LBB27:
1573:Drivers/RTT/SEGGER_RTT.c ****   }
 2704              		.loc 1 1573 17 view .LVU794
 2705 006c 4FF0FF30 		mov	r0, #-1
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 81


 2706              	.LVL267:
1573:Drivers/RTT/SEGGER_RTT.c ****   }
 2707              		.loc 1 1573 17 view .LVU795
 2708 0070 F5E7     		b	.L160
 2709              	.L165:
 2710 0072 00BF     		.align	2
 2711              	.L164:
 2712 0074 00000000 		.word	.LANCHOR1
 2713              	.LBE27:
 2714              		.cfi_endproc
 2715              	.LFE23:
 2717              		.section	.text.SEGGER_RTT_AllocUpBuffer,"ax",%progbits
 2718              		.align	1
 2719              		.global	SEGGER_RTT_AllocUpBuffer
 2720              		.syntax unified
 2721              		.thumb
 2722              		.thumb_func
 2723              		.fpu fpv5-sp-d16
 2725              	SEGGER_RTT_AllocUpBuffer:
 2726              	.LVL268:
 2727              	.LFB24:
1578:Drivers/RTT/SEGGER_RTT.c **** 
1579:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1580:Drivers/RTT/SEGGER_RTT.c **** *
1581:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_AllocUpBuffer
1582:Drivers/RTT/SEGGER_RTT.c **** *
1583:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1584:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of the next up-buffer (T->H).
1585:Drivers/RTT/SEGGER_RTT.c **** *    The next buffer, which is not used yet is configured.
1586:Drivers/RTT/SEGGER_RTT.c **** *    This includes: Buffer address, size, name, flags, ...
1587:Drivers/RTT/SEGGER_RTT.c **** *
1588:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1589:Drivers/RTT/SEGGER_RTT.c **** *    sName        Pointer to a constant name string.
1590:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to a buffer to be used.
1591:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the buffer.
1592:Drivers/RTT/SEGGER_RTT.c **** *    Flags        Operating modes. Define behavior if buffer is full (not enough space for entire m
1593:Drivers/RTT/SEGGER_RTT.c **** *
1594:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1595:Drivers/RTT/SEGGER_RTT.c **** *    >= 0 - O.K. Buffer Index
1596:Drivers/RTT/SEGGER_RTT.c **** *     < 0 - Error
1597:Drivers/RTT/SEGGER_RTT.c **** */
1598:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_AllocUpBuffer(const char* sName, void* pBuffer, unsigned BufferSize, unsigned Flags)
 2728              		.loc 1 1598 101 is_stmt 1 view -0
 2729              		.cfi_startproc
 2730              		@ args = 0, pretend = 0, frame = 0
 2731              		@ frame_needed = 0, uses_anonymous_args = 0
 2732              		.loc 1 1598 101 is_stmt 0 view .LVU797
 2733 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2734              	.LCFI27:
 2735              		.cfi_def_cfa_offset 24
 2736              		.cfi_offset 3, -24
 2737              		.cfi_offset 4, -20
 2738              		.cfi_offset 5, -16
 2739              		.cfi_offset 6, -12
 2740              		.cfi_offset 7, -8
 2741              		.cfi_offset 14, -4
 2742 0002 0746     		mov	r7, r0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 82


 2743 0004 0E46     		mov	r6, r1
 2744 0006 1546     		mov	r5, r2
 2745 0008 1C46     		mov	r4, r3
1599:Drivers/RTT/SEGGER_RTT.c ****   int BufferIndex;
 2746              		.loc 1 1599 3 is_stmt 1 view .LVU798
1600:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 2747              		.loc 1 1600 3 view .LVU799
 2748              	.LBB28:
1601:Drivers/RTT/SEGGER_RTT.c **** 
1602:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 2749              		.loc 1 1602 3 view .LVU800
 2750              		.loc 1 1602 3 view .LVU801
 2751              	.LVL269:
 2752              		.loc 1 1602 3 view .LVU802
 2753              		.loc 1 1602 3 view .LVU803
 2754 000a 1F4B     		ldr	r3, .L174
 2755              	.LVL270:
 2756              		.loc 1 1602 3 is_stmt 0 view .LVU804
 2757 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2758 000e 002B     		cmp	r3, #0
 2759 0010 34D0     		beq	.L173
 2760              	.LVL271:
 2761              	.L167:
 2762              		.loc 1 1602 3 is_stmt 1 discriminator 3 view .LVU805
 2763              	.LBE28:
 2764              		.loc 1 1602 9 discriminator 3 view .LVU806
 2765              	.LBB29:
1603:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2766              		.loc 1 1603 3 discriminator 3 view .LVU807
 2767              		.loc 1 1603 3 discriminator 3 view .LVU808
 2768              		.syntax unified
 2769              	@ 1603 "Drivers/RTT/SEGGER_RTT.c" 1
 2770 0012 EFF31182 		mrs   r2, basepri  
 2771 0016 4FF02001 		mov   r1, #32       
 2772 001a 81F31188 		msr   basepri, r1  
 2773              		
 2774              	@ 0 "" 2
 2775              	.LVL272:
 2776              		.loc 1 1603 20 discriminator 3 view .LVU809
1604:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 2777              		.loc 1 1604 3 discriminator 3 view .LVU810
1605:Drivers/RTT/SEGGER_RTT.c ****   BufferIndex = 0;
 2778              		.loc 1 1605 3 discriminator 3 view .LVU811
 2779              		.loc 1 1605 15 is_stmt 0 discriminator 3 view .LVU812
 2780              		.thumb
 2781              		.syntax unified
 2782 001e 0020     		movs	r0, #0
 2783              	.LVL273:
 2784              	.L169:
1606:Drivers/RTT/SEGGER_RTT.c ****   do {
 2785              		.loc 1 1606 3 is_stmt 1 view .LVU813
1607:Drivers/RTT/SEGGER_RTT.c ****     if (pRTTCB->aUp[BufferIndex].pBuffer == NULL) {
 2786              		.loc 1 1607 5 view .LVU814
 2787              		.loc 1 1607 33 is_stmt 0 view .LVU815
 2788 0020 00F1010C 		add	ip, r0, #1
 2789 0024 0CEB4C0C 		add	ip, ip, ip, lsl #1
 2790 0028 174B     		ldr	r3, .L174
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 83


 2791 002a 03EBCC0C 		add	ip, r3, ip, lsl #3
 2792 002e DCF80430 		ldr	r3, [ip, #4]
 2793              		.loc 1 1607 8 view .LVU816
 2794 0032 23B1     		cbz	r3, .L168
1608:Drivers/RTT/SEGGER_RTT.c ****       break;
1609:Drivers/RTT/SEGGER_RTT.c ****     }
1610:Drivers/RTT/SEGGER_RTT.c ****     BufferIndex++;
 2795              		.loc 1 1610 5 is_stmt 1 view .LVU817
 2796              		.loc 1 1610 16 is_stmt 0 view .LVU818
 2797 0034 0130     		adds	r0, r0, #1
 2798              	.LVL274:
1611:Drivers/RTT/SEGGER_RTT.c ****   } while (BufferIndex < pRTTCB->MaxNumUpBuffers);
 2799              		.loc 1 1611 11 is_stmt 1 view .LVU819
 2800              		.loc 1 1611 32 is_stmt 0 view .LVU820
 2801 0036 144B     		ldr	r3, .L174
 2802 0038 1B69     		ldr	r3, [r3, #16]
 2803              		.loc 1 1611 3 view .LVU821
 2804 003a 8342     		cmp	r3, r0
 2805 003c F0DC     		bgt	.L169
 2806              	.L168:
1612:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < pRTTCB->MaxNumUpBuffers) {
 2807              		.loc 1 1612 3 is_stmt 1 view .LVU822
 2808              		.loc 1 1612 27 is_stmt 0 view .LVU823
 2809 003e 124B     		ldr	r3, .L174
 2810 0040 1B69     		ldr	r3, [r3, #16]
 2811              		.loc 1 1612 6 view .LVU824
 2812 0042 8342     		cmp	r3, r0
 2813 0044 1DDD     		ble	.L171
1613:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aUp[BufferIndex].sName        = sName;
 2814              		.loc 1 1613 5 is_stmt 1 view .LVU825
 2815              		.loc 1 1613 43 is_stmt 0 view .LVU826
 2816 0046 104B     		ldr	r3, .L174
 2817 0048 411C     		adds	r1, r0, #1
 2818 004a 01EB410C 		add	ip, r1, r1, lsl #1
 2819 004e 4FEACC0C 		lsl	ip, ip, #3
 2820 0052 43F80C70 		str	r7, [r3, ip]
1614:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aUp[BufferIndex].pBuffer      = (char*)pBuffer;
 2821              		.loc 1 1614 5 is_stmt 1 view .LVU827
 2822              		.loc 1 1614 43 is_stmt 0 view .LVU828
 2823 0056 01EB4101 		add	r1, r1, r1, lsl #1
 2824 005a 03EBC101 		add	r1, r3, r1, lsl #3
 2825 005e 4E60     		str	r6, [r1, #4]
1615:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aUp[BufferIndex].SizeOfBuffer = BufferSize;
 2826              		.loc 1 1615 5 is_stmt 1 view .LVU829
 2827              		.loc 1 1615 43 is_stmt 0 view .LVU830
 2828 0060 00EB4001 		add	r1, r0, r0, lsl #1
 2829 0064 03EBC103 		add	r3, r3, r1, lsl #3
 2830 0068 1D62     		str	r5, [r3, #32]
1616:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aUp[BufferIndex].RdOff        = 0u;
 2831              		.loc 1 1616 5 is_stmt 1 view .LVU831
 2832              		.loc 1 1616 43 is_stmt 0 view .LVU832
 2833 006a 0021     		movs	r1, #0
 2834 006c 9962     		str	r1, [r3, #40]
1617:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aUp[BufferIndex].WrOff        = 0u;
 2835              		.loc 1 1617 5 is_stmt 1 view .LVU833
 2836              		.loc 1 1617 43 is_stmt 0 view .LVU834
 2837 006e 5962     		str	r1, [r3, #36]
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 84


1618:Drivers/RTT/SEGGER_RTT.c ****     pRTTCB->aUp[BufferIndex].Flags        = Flags;
 2838              		.loc 1 1618 5 is_stmt 1 view .LVU835
 2839              		.loc 1 1618 43 is_stmt 0 view .LVU836
 2840 0070 DC62     		str	r4, [r3, #44]
1619:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 2841              		.loc 1 1619 5 is_stmt 1 view .LVU837
 2842              		.syntax unified
 2843              	@ 1619 "Drivers/RTT/SEGGER_RTT.c" 1
 2844 0072 BFF35F8F 		dmb
 2845              	
 2846              	@ 0 "" 2
 2847              		.loc 1 1619 15 view .LVU838
 2848              	.LVL275:
 2849              		.thumb
 2850              		.syntax unified
 2851              	.L170:
1620:Drivers/RTT/SEGGER_RTT.c ****   } else {
1621:Drivers/RTT/SEGGER_RTT.c ****     BufferIndex = -1;
1622:Drivers/RTT/SEGGER_RTT.c ****   }
1623:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_UNLOCK();
 2852              		.loc 1 1623 3 view .LVU839
 2853              		.syntax unified
 2854              	@ 1623 "Drivers/RTT/SEGGER_RTT.c" 1
 2855 0076 82F31188 		msr   basepri, r2  
 2856              		
 2857              	@ 0 "" 2
 2858              		.thumb
 2859              		.syntax unified
 2860              	.LBE29:
 2861              		.loc 1 1623 22 view .LVU840
1624:Drivers/RTT/SEGGER_RTT.c ****   return BufferIndex;
 2862              		.loc 1 1624 3 view .LVU841
1625:Drivers/RTT/SEGGER_RTT.c **** }
 2863              		.loc 1 1625 1 is_stmt 0 view .LVU842
 2864 007a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2865              	.LVL276:
 2866              	.L173:
 2867              	.LBB30:
1602:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2868              		.loc 1 1602 3 is_stmt 1 discriminator 1 view .LVU843
 2869 007c FFF7FEFF 		bl	_DoInit
 2870              	.LVL277:
1602:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2871              		.loc 1 1602 3 is_stmt 0 discriminator 1 view .LVU844
 2872 0080 C7E7     		b	.L167
 2873              	.LVL278:
 2874              	.L171:
1602:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_LOCK();
 2875              		.loc 1 1602 3 discriminator 1 view .LVU845
 2876              	.LBE30:
 2877              	.LBB31:
1621:Drivers/RTT/SEGGER_RTT.c ****   }
 2878              		.loc 1 1621 17 view .LVU846
 2879 0082 4FF0FF30 		mov	r0, #-1
 2880              	.LVL279:
1621:Drivers/RTT/SEGGER_RTT.c ****   }
 2881              		.loc 1 1621 17 view .LVU847
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 85


 2882 0086 F6E7     		b	.L170
 2883              	.L175:
 2884              		.align	2
 2885              	.L174:
 2886 0088 00000000 		.word	.LANCHOR1
 2887              	.LBE31:
 2888              		.cfi_endproc
 2889              	.LFE24:
 2891              		.section	.text.SEGGER_RTT_ConfigUpBuffer,"ax",%progbits
 2892              		.align	1
 2893              		.global	SEGGER_RTT_ConfigUpBuffer
 2894              		.syntax unified
 2895              		.thumb
 2896              		.thumb_func
 2897              		.fpu fpv5-sp-d16
 2899              	SEGGER_RTT_ConfigUpBuffer:
 2900              	.LVL280:
 2901              	.LFB25:
1626:Drivers/RTT/SEGGER_RTT.c **** 
1627:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1628:Drivers/RTT/SEGGER_RTT.c **** *
1629:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_ConfigUpBuffer
1630:Drivers/RTT/SEGGER_RTT.c **** *
1631:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1632:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of a specific up-buffer (T->H).
1633:Drivers/RTT/SEGGER_RTT.c **** *    Buffer to be configured is specified by index.
1634:Drivers/RTT/SEGGER_RTT.c **** *    This includes: Buffer address, size, name, flags, ...
1635:Drivers/RTT/SEGGER_RTT.c **** *
1636:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1637:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the buffer to configure.
1638:Drivers/RTT/SEGGER_RTT.c **** *    sName        Pointer to a constant name string.
1639:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to a buffer to be used.
1640:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the buffer.
1641:Drivers/RTT/SEGGER_RTT.c **** *    Flags        Operating modes. Define behavior if buffer is full (not enough space for entire m
1642:Drivers/RTT/SEGGER_RTT.c **** *
1643:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1644:Drivers/RTT/SEGGER_RTT.c **** *    >= 0 - O.K.
1645:Drivers/RTT/SEGGER_RTT.c **** *     < 0 - Error
1646:Drivers/RTT/SEGGER_RTT.c **** *
1647:Drivers/RTT/SEGGER_RTT.c **** *  Additional information
1648:Drivers/RTT/SEGGER_RTT.c **** *    Buffer 0 is configured on compile-time.
1649:Drivers/RTT/SEGGER_RTT.c **** *    May only be called once per buffer.
1650:Drivers/RTT/SEGGER_RTT.c **** *    Buffer name and flags can be reconfigured using the appropriate functions.
1651:Drivers/RTT/SEGGER_RTT.c **** */
1652:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_ConfigUpBuffer(unsigned BufferIndex, const char* sName, void* pBuffer, unsigned Buff
 2902              		.loc 1 1652 124 is_stmt 1 view -0
 2903              		.cfi_startproc
 2904              		@ args = 4, pretend = 0, frame = 0
 2905              		@ frame_needed = 0, uses_anonymous_args = 0
 2906              		.loc 1 1652 124 is_stmt 0 view .LVU849
 2907 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2908              	.LCFI28:
 2909              		.cfi_def_cfa_offset 24
 2910              		.cfi_offset 4, -24
 2911              		.cfi_offset 5, -20
 2912              		.cfi_offset 6, -16
 2913              		.cfi_offset 7, -12
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 86


 2914              		.cfi_offset 8, -8
 2915              		.cfi_offset 14, -4
 2916 0004 0446     		mov	r4, r0
 2917 0006 8846     		mov	r8, r1
 2918 0008 1746     		mov	r7, r2
 2919 000a 1E46     		mov	r6, r3
1653:Drivers/RTT/SEGGER_RTT.c ****   int r;
 2920              		.loc 1 1653 3 is_stmt 1 view .LVU850
1654:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 2921              		.loc 1 1654 3 view .LVU851
1655:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_BUFFER_UP* pUp;
 2922              		.loc 1 1655 3 view .LVU852
 2923              	.LBB32:
1656:Drivers/RTT/SEGGER_RTT.c **** 
1657:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 2924              		.loc 1 1657 3 view .LVU853
 2925              		.loc 1 1657 3 view .LVU854
 2926              	.LVL281:
 2927              		.loc 1 1657 3 view .LVU855
 2928              		.loc 1 1657 3 view .LVU856
 2929 000c 184B     		ldr	r3, .L183
 2930              	.LVL282:
 2931              		.loc 1 1657 3 is_stmt 0 view .LVU857
 2932 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2933 0010 43B3     		cbz	r3, .L182
 2934              	.LVL283:
 2935              	.L177:
 2936              		.loc 1 1657 3 is_stmt 1 discriminator 3 view .LVU858
 2937              	.LBE32:
 2938              		.loc 1 1657 9 discriminator 3 view .LVU859
1658:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 2939              		.loc 1 1658 3 discriminator 3 view .LVU860
1659:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < SEGGER_RTT_MAX_NUM_UP_BUFFERS) {
 2940              		.loc 1 1659 3 discriminator 3 view .LVU861
 2941              		.loc 1 1659 6 is_stmt 0 discriminator 3 view .LVU862
 2942 0012 022C     		cmp	r4, #2
 2943 0014 29D8     		bhi	.L180
 2944              	.LBB33:
1660:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 2945              		.loc 1 1660 5 is_stmt 1 view .LVU863
 2946              		.loc 1 1660 5 view .LVU864
 2947              		.syntax unified
 2948              	@ 1660 "Drivers/RTT/SEGGER_RTT.c" 1
 2949 0016 EFF31183 		mrs   r3, basepri  
 2950 001a 4FF02001 		mov   r1, #32       
 2951 001e 81F31188 		msr   basepri, r1  
 2952              		
 2953              	@ 0 "" 2
 2954              	.LVL284:
 2955              		.loc 1 1660 22 view .LVU865
1661:Drivers/RTT/SEGGER_RTT.c ****     pUp = &pRTTCB->aUp[BufferIndex];
 2956              		.loc 1 1661 5 view .LVU866
1662:Drivers/RTT/SEGGER_RTT.c ****     if (BufferIndex) {
 2957              		.loc 1 1662 5 view .LVU867
 2958              		.loc 1 1662 8 is_stmt 0 view .LVU868
 2959              		.thumb
 2960              		.syntax unified
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 87


 2961 0022 9CB1     		cbz	r4, .L179
1663:Drivers/RTT/SEGGER_RTT.c ****       pUp->sName        = sName;
 2962              		.loc 1 1663 7 is_stmt 1 view .LVU869
 2963              		.loc 1 1663 25 is_stmt 0 view .LVU870
 2964 0024 124D     		ldr	r5, .L183
 2965 0026 601C     		adds	r0, r4, #1
 2966 0028 00EB4002 		add	r2, r0, r0, lsl #1
 2967 002c D200     		lsls	r2, r2, #3
 2968 002e 45F80280 		str	r8, [r5, r2]
1664:Drivers/RTT/SEGGER_RTT.c ****       pUp->pBuffer      = (char*)pBuffer;
 2969              		.loc 1 1664 7 is_stmt 1 view .LVU871
 2970              		.loc 1 1664 25 is_stmt 0 view .LVU872
 2971 0032 00EB4000 		add	r0, r0, r0, lsl #1
 2972 0036 05EBC000 		add	r0, r5, r0, lsl #3
 2973 003a 4760     		str	r7, [r0, #4]
1665:Drivers/RTT/SEGGER_RTT.c ****       pUp->SizeOfBuffer = BufferSize;
 2974              		.loc 1 1665 7 is_stmt 1 view .LVU873
 2975              		.loc 1 1665 25 is_stmt 0 view .LVU874
 2976 003c 04EB4402 		add	r2, r4, r4, lsl #1
 2977 0040 05EBC202 		add	r2, r5, r2, lsl #3
 2978 0044 1662     		str	r6, [r2, #32]
1666:Drivers/RTT/SEGGER_RTT.c ****       pUp->RdOff        = 0u;
 2979              		.loc 1 1666 7 is_stmt 1 view .LVU875
 2980              		.loc 1 1666 25 is_stmt 0 view .LVU876
 2981 0046 0021     		movs	r1, #0
 2982 0048 9162     		str	r1, [r2, #40]
1667:Drivers/RTT/SEGGER_RTT.c ****       pUp->WrOff        = 0u;
 2983              		.loc 1 1667 7 is_stmt 1 view .LVU877
 2984              		.loc 1 1667 25 is_stmt 0 view .LVU878
 2985 004a 5162     		str	r1, [r2, #36]
 2986              	.L179:
1668:Drivers/RTT/SEGGER_RTT.c ****     }
1669:Drivers/RTT/SEGGER_RTT.c ****     pUp->Flags          = Flags;
 2987              		.loc 1 1669 5 is_stmt 1 view .LVU879
 2988              		.loc 1 1669 25 is_stmt 0 view .LVU880
 2989 004c 04EB4404 		add	r4, r4, r4, lsl #1
 2990              	.LVL285:
 2991              		.loc 1 1669 25 view .LVU881
 2992 0050 0748     		ldr	r0, .L183
 2993 0052 00EBC404 		add	r4, r0, r4, lsl #3
 2994 0056 069A     		ldr	r2, [sp, #24]
 2995 0058 E262     		str	r2, [r4, #44]
1670:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 2996              		.loc 1 1670 5 is_stmt 1 view .LVU882
 2997              		.syntax unified
 2998              	@ 1670 "Drivers/RTT/SEGGER_RTT.c" 1
 2999 005a 83F31188 		msr   basepri, r3  
 3000              		
 3001              	@ 0 "" 2
 3002              		.thumb
 3003              		.syntax unified
 3004              	.LBE33:
 3005              		.loc 1 1670 24 view .LVU883
1671:Drivers/RTT/SEGGER_RTT.c ****     r =  0;
 3006              		.loc 1 1671 5 view .LVU884
 3007              	.LVL286:
 3008              		.loc 1 1671 7 is_stmt 0 view .LVU885
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 88


 3009 005e 0020     		movs	r0, #0
 3010              	.LVL287:
 3011              	.L176:
1672:Drivers/RTT/SEGGER_RTT.c ****   } else {
1673:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1674:Drivers/RTT/SEGGER_RTT.c ****   }
1675:Drivers/RTT/SEGGER_RTT.c ****   return r;
1676:Drivers/RTT/SEGGER_RTT.c **** }
 3012              		.loc 1 1676 1 view .LVU886
 3013 0060 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3014              	.LVL288:
 3015              	.L182:
 3016              	.LBB34:
1657:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3017              		.loc 1 1657 3 is_stmt 1 discriminator 1 view .LVU887
 3018 0064 FFF7FEFF 		bl	_DoInit
 3019              	.LVL289:
1657:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3020              		.loc 1 1657 3 is_stmt 0 discriminator 1 view .LVU888
 3021 0068 D3E7     		b	.L177
 3022              	.LVL290:
 3023              	.L180:
1657:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3024              		.loc 1 1657 3 discriminator 1 view .LVU889
 3025              	.LBE34:
1673:Drivers/RTT/SEGGER_RTT.c ****   }
 3026              		.loc 1 1673 7 view .LVU890
 3027 006a 4FF0FF30 		mov	r0, #-1
 3028              	.LVL291:
1675:Drivers/RTT/SEGGER_RTT.c **** }
 3029              		.loc 1 1675 3 is_stmt 1 view .LVU891
1675:Drivers/RTT/SEGGER_RTT.c **** }
 3030              		.loc 1 1675 10 is_stmt 0 view .LVU892
 3031 006e F7E7     		b	.L176
 3032              	.L184:
 3033              		.align	2
 3034              	.L183:
 3035 0070 00000000 		.word	.LANCHOR1
 3036              		.cfi_endproc
 3037              	.LFE25:
 3039              		.section	.text.SEGGER_RTT_ConfigDownBuffer,"ax",%progbits
 3040              		.align	1
 3041              		.global	SEGGER_RTT_ConfigDownBuffer
 3042              		.syntax unified
 3043              		.thumb
 3044              		.thumb_func
 3045              		.fpu fpv5-sp-d16
 3047              	SEGGER_RTT_ConfigDownBuffer:
 3048              	.LVL292:
 3049              	.LFB26:
1677:Drivers/RTT/SEGGER_RTT.c **** 
1678:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1679:Drivers/RTT/SEGGER_RTT.c **** *
1680:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_ConfigDownBuffer
1681:Drivers/RTT/SEGGER_RTT.c **** *
1682:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1683:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of a specific down-buffer (H->T).
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 89


1684:Drivers/RTT/SEGGER_RTT.c **** *    Buffer to be configured is specified by index.
1685:Drivers/RTT/SEGGER_RTT.c **** *    This includes: Buffer address, size, name, flags, ...
1686:Drivers/RTT/SEGGER_RTT.c **** *
1687:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1688:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the buffer to configure.
1689:Drivers/RTT/SEGGER_RTT.c **** *    sName        Pointer to a constant name string.
1690:Drivers/RTT/SEGGER_RTT.c **** *    pBuffer      Pointer to a buffer to be used.
1691:Drivers/RTT/SEGGER_RTT.c **** *    BufferSize   Size of the buffer.
1692:Drivers/RTT/SEGGER_RTT.c **** *    Flags        Operating modes. Define behavior if buffer is full (not enough space for entire m
1693:Drivers/RTT/SEGGER_RTT.c **** *
1694:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1695:Drivers/RTT/SEGGER_RTT.c **** *    >= 0  O.K.
1696:Drivers/RTT/SEGGER_RTT.c **** *     < 0  Error
1697:Drivers/RTT/SEGGER_RTT.c **** *
1698:Drivers/RTT/SEGGER_RTT.c **** *  Additional information
1699:Drivers/RTT/SEGGER_RTT.c **** *    Buffer 0 is configured on compile-time.
1700:Drivers/RTT/SEGGER_RTT.c **** *    May only be called once per buffer.
1701:Drivers/RTT/SEGGER_RTT.c **** *    Buffer name and flags can be reconfigured using the appropriate functions.
1702:Drivers/RTT/SEGGER_RTT.c **** */
1703:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_ConfigDownBuffer(unsigned BufferIndex, const char* sName, void* pBuffer, unsigned Bu
 3050              		.loc 1 1703 126 is_stmt 1 view -0
 3051              		.cfi_startproc
 3052              		@ args = 4, pretend = 0, frame = 0
 3053              		@ frame_needed = 0, uses_anonymous_args = 0
 3054              		.loc 1 1703 126 is_stmt 0 view .LVU894
 3055 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3056              	.LCFI29:
 3057              		.cfi_def_cfa_offset 24
 3058              		.cfi_offset 4, -24
 3059              		.cfi_offset 5, -20
 3060              		.cfi_offset 6, -16
 3061              		.cfi_offset 7, -12
 3062              		.cfi_offset 8, -8
 3063              		.cfi_offset 14, -4
 3064 0004 0446     		mov	r4, r0
 3065 0006 0F46     		mov	r7, r1
 3066 0008 1646     		mov	r6, r2
 3067 000a 9846     		mov	r8, r3
1704:Drivers/RTT/SEGGER_RTT.c ****   int r;
 3068              		.loc 1 1704 3 is_stmt 1 view .LVU895
1705:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 3069              		.loc 1 1705 3 view .LVU896
1706:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_BUFFER_DOWN* pDown;
 3070              		.loc 1 1706 3 view .LVU897
 3071              	.LBB35:
1707:Drivers/RTT/SEGGER_RTT.c **** 
1708:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3072              		.loc 1 1708 3 view .LVU898
 3073              		.loc 1 1708 3 view .LVU899
 3074              	.LVL293:
 3075              		.loc 1 1708 3 view .LVU900
 3076              		.loc 1 1708 3 view .LVU901
 3077 000c 1548     		ldr	r0, .L192
 3078              	.LVL294:
 3079              		.loc 1 1708 3 is_stmt 0 view .LVU902
 3080 000e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3081 0010 10B3     		cbz	r0, .L191
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 90


 3082              	.LVL295:
 3083              	.L186:
 3084              		.loc 1 1708 3 is_stmt 1 discriminator 3 view .LVU903
 3085              	.LBE35:
 3086              		.loc 1 1708 9 discriminator 3 view .LVU904
1709:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3087              		.loc 1 1709 3 discriminator 3 view .LVU905
1710:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < SEGGER_RTT_MAX_NUM_DOWN_BUFFERS) {
 3088              		.loc 1 1710 3 discriminator 3 view .LVU906
 3089              		.loc 1 1710 6 is_stmt 0 discriminator 3 view .LVU907
 3090 0012 022C     		cmp	r4, #2
 3091 0014 23D8     		bhi	.L189
 3092              	.LBB36:
1711:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 3093              		.loc 1 1711 5 is_stmt 1 view .LVU908
 3094              		.loc 1 1711 5 view .LVU909
 3095              		.syntax unified
 3096              	@ 1711 "Drivers/RTT/SEGGER_RTT.c" 1
 3097 0016 EFF31183 		mrs   r3, basepri  
 3098 001a 4FF02001 		mov   r1, #32       
 3099 001e 81F31188 		msr   basepri, r1  
 3100              		
 3101              	@ 0 "" 2
 3102              	.LVL296:
 3103              		.loc 1 1711 22 view .LVU910
1712:Drivers/RTT/SEGGER_RTT.c ****     pDown = &pRTTCB->aDown[BufferIndex];
 3104              		.loc 1 1712 5 view .LVU911
1713:Drivers/RTT/SEGGER_RTT.c ****     if (BufferIndex) {
 3105              		.loc 1 1713 5 view .LVU912
 3106              		.loc 1 1713 8 is_stmt 0 view .LVU913
 3107              		.thumb
 3108              		.syntax unified
 3109 0022 5CB1     		cbz	r4, .L188
1714:Drivers/RTT/SEGGER_RTT.c ****       pDown->sName        = sName;
 3110              		.loc 1 1714 7 is_stmt 1 view .LVU914
 3111              		.loc 1 1714 27 is_stmt 0 view .LVU915
 3112 0024 04EB4400 		add	r0, r4, r4, lsl #1
 3113 0028 0E4D     		ldr	r5, .L192
 3114 002a 05EBC000 		add	r0, r5, r0, lsl #3
 3115 002e 0766     		str	r7, [r0, #96]
1715:Drivers/RTT/SEGGER_RTT.c ****       pDown->pBuffer      = (char*)pBuffer;
 3116              		.loc 1 1715 7 is_stmt 1 view .LVU916
 3117              		.loc 1 1715 27 is_stmt 0 view .LVU917
 3118 0030 4666     		str	r6, [r0, #100]
1716:Drivers/RTT/SEGGER_RTT.c ****       pDown->SizeOfBuffer = BufferSize;
 3119              		.loc 1 1716 7 is_stmt 1 view .LVU918
 3120              		.loc 1 1716 27 is_stmt 0 view .LVU919
 3121 0032 C0F86880 		str	r8, [r0, #104]
1717:Drivers/RTT/SEGGER_RTT.c ****       pDown->RdOff        = 0u;
 3122              		.loc 1 1717 7 is_stmt 1 view .LVU920
 3123              		.loc 1 1717 27 is_stmt 0 view .LVU921
 3124 0036 0022     		movs	r2, #0
 3125 0038 0267     		str	r2, [r0, #112]
1718:Drivers/RTT/SEGGER_RTT.c ****       pDown->WrOff        = 0u;
 3126              		.loc 1 1718 7 is_stmt 1 view .LVU922
 3127              		.loc 1 1718 27 is_stmt 0 view .LVU923
 3128 003a C266     		str	r2, [r0, #108]
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 91


 3129              	.L188:
1719:Drivers/RTT/SEGGER_RTT.c ****     }
1720:Drivers/RTT/SEGGER_RTT.c ****     pDown->Flags          = Flags;
 3130              		.loc 1 1720 5 is_stmt 1 view .LVU924
 3131              		.loc 1 1720 27 is_stmt 0 view .LVU925
 3132 003c 04EB4404 		add	r4, r4, r4, lsl #1
 3133              	.LVL297:
 3134              		.loc 1 1720 27 view .LVU926
 3135 0040 0848     		ldr	r0, .L192
 3136 0042 00EBC404 		add	r4, r0, r4, lsl #3
 3137 0046 069A     		ldr	r2, [sp, #24]
 3138 0048 6267     		str	r2, [r4, #116]
1721:Drivers/RTT/SEGGER_RTT.c ****     RTT__DMB();                     // Force data write to be complete before writing the <WrOff>, 
 3139              		.loc 1 1721 5 is_stmt 1 view .LVU927
 3140              		.syntax unified
 3141              	@ 1721 "Drivers/RTT/SEGGER_RTT.c" 1
 3142 004a BFF35F8F 		dmb
 3143              	
 3144              	@ 0 "" 2
 3145              		.loc 1 1721 15 view .LVU928
1722:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3146              		.loc 1 1722 5 view .LVU929
 3147              	@ 1722 "Drivers/RTT/SEGGER_RTT.c" 1
 3148 004e 83F31188 		msr   basepri, r3  
 3149              		
 3150              	@ 0 "" 2
 3151              		.thumb
 3152              		.syntax unified
 3153              	.LBE36:
 3154              		.loc 1 1722 24 view .LVU930
1723:Drivers/RTT/SEGGER_RTT.c ****     r =  0;
 3155              		.loc 1 1723 5 view .LVU931
 3156              	.LVL298:
 3157              		.loc 1 1723 7 is_stmt 0 view .LVU932
 3158 0052 0020     		movs	r0, #0
 3159              	.LVL299:
 3160              	.L185:
1724:Drivers/RTT/SEGGER_RTT.c ****   } else {
1725:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1726:Drivers/RTT/SEGGER_RTT.c ****   }
1727:Drivers/RTT/SEGGER_RTT.c ****   return r;
1728:Drivers/RTT/SEGGER_RTT.c **** }
 3161              		.loc 1 1728 1 view .LVU933
 3162 0054 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3163              	.LVL300:
 3164              	.L191:
 3165              	.LBB37:
1708:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3166              		.loc 1 1708 3 is_stmt 1 discriminator 1 view .LVU934
 3167 0058 FFF7FEFF 		bl	_DoInit
 3168              	.LVL301:
1708:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3169              		.loc 1 1708 3 is_stmt 0 discriminator 1 view .LVU935
 3170 005c D9E7     		b	.L186
 3171              	.LVL302:
 3172              	.L189:
1708:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 92


 3173              		.loc 1 1708 3 discriminator 1 view .LVU936
 3174              	.LBE37:
1725:Drivers/RTT/SEGGER_RTT.c ****   }
 3175              		.loc 1 1725 7 view .LVU937
 3176 005e 4FF0FF30 		mov	r0, #-1
 3177              	.LVL303:
1727:Drivers/RTT/SEGGER_RTT.c **** }
 3178              		.loc 1 1727 3 is_stmt 1 view .LVU938
1727:Drivers/RTT/SEGGER_RTT.c **** }
 3179              		.loc 1 1727 10 is_stmt 0 view .LVU939
 3180 0062 F7E7     		b	.L185
 3181              	.L193:
 3182              		.align	2
 3183              	.L192:
 3184 0064 00000000 		.word	.LANCHOR1
 3185              		.cfi_endproc
 3186              	.LFE26:
 3188              		.section	.text.SEGGER_RTT_SetNameUpBuffer,"ax",%progbits
 3189              		.align	1
 3190              		.global	SEGGER_RTT_SetNameUpBuffer
 3191              		.syntax unified
 3192              		.thumb
 3193              		.thumb_func
 3194              		.fpu fpv5-sp-d16
 3196              	SEGGER_RTT_SetNameUpBuffer:
 3197              	.LVL304:
 3198              	.LFB27:
1729:Drivers/RTT/SEGGER_RTT.c **** 
1730:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1731:Drivers/RTT/SEGGER_RTT.c **** *
1732:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_SetNameUpBuffer
1733:Drivers/RTT/SEGGER_RTT.c **** *
1734:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1735:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of a specific up-buffer name (T->H).
1736:Drivers/RTT/SEGGER_RTT.c **** *    Buffer to be configured is specified by index.
1737:Drivers/RTT/SEGGER_RTT.c **** *
1738:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1739:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the buffer to renamed.
1740:Drivers/RTT/SEGGER_RTT.c **** *    sName        Pointer to a constant name string.
1741:Drivers/RTT/SEGGER_RTT.c **** *
1742:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1743:Drivers/RTT/SEGGER_RTT.c **** *    >= 0  O.K.
1744:Drivers/RTT/SEGGER_RTT.c **** *     < 0  Error
1745:Drivers/RTT/SEGGER_RTT.c **** */
1746:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_SetNameUpBuffer(unsigned BufferIndex, const char* sName) {
 3199              		.loc 1 1746 73 is_stmt 1 view -0
 3200              		.cfi_startproc
 3201              		@ args = 0, pretend = 0, frame = 0
 3202              		@ frame_needed = 0, uses_anonymous_args = 0
 3203              		.loc 1 1746 73 is_stmt 0 view .LVU941
 3204 0000 38B5     		push	{r3, r4, r5, lr}
 3205              	.LCFI30:
 3206              		.cfi_def_cfa_offset 16
 3207              		.cfi_offset 3, -16
 3208              		.cfi_offset 4, -12
 3209              		.cfi_offset 5, -8
 3210              		.cfi_offset 14, -4
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 93


 3211 0002 0446     		mov	r4, r0
 3212 0004 0D46     		mov	r5, r1
1747:Drivers/RTT/SEGGER_RTT.c ****   int r;
 3213              		.loc 1 1747 3 is_stmt 1 view .LVU942
1748:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 3214              		.loc 1 1748 3 view .LVU943
1749:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_BUFFER_UP* pUp;
 3215              		.loc 1 1749 3 view .LVU944
 3216              	.LBB38:
1750:Drivers/RTT/SEGGER_RTT.c **** 
1751:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3217              		.loc 1 1751 3 view .LVU945
 3218              		.loc 1 1751 3 view .LVU946
 3219              	.LVL305:
 3220              		.loc 1 1751 3 view .LVU947
 3221              		.loc 1 1751 3 view .LVU948
 3222 0006 0D4B     		ldr	r3, .L200
 3223 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3224 000a 8BB1     		cbz	r3, .L199
 3225              	.LVL306:
 3226              	.L195:
 3227              		.loc 1 1751 3 discriminator 3 view .LVU949
 3228              	.LBE38:
 3229              		.loc 1 1751 9 discriminator 3 view .LVU950
1752:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3230              		.loc 1 1752 3 discriminator 3 view .LVU951
1753:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < SEGGER_RTT_MAX_NUM_UP_BUFFERS) {
 3231              		.loc 1 1753 3 discriminator 3 view .LVU952
 3232              		.loc 1 1753 6 is_stmt 0 discriminator 3 view .LVU953
 3233 000c 022C     		cmp	r4, #2
 3234 000e 12D8     		bhi	.L197
 3235              	.LBB39:
1754:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 3236              		.loc 1 1754 5 is_stmt 1 view .LVU954
 3237              		.loc 1 1754 5 view .LVU955
 3238              		.syntax unified
 3239              	@ 1754 "Drivers/RTT/SEGGER_RTT.c" 1
 3240 0010 EFF31183 		mrs   r3, basepri  
 3241 0014 4FF02001 		mov   r1, #32       
 3242 0018 81F31188 		msr   basepri, r1  
 3243              		
 3244              	@ 0 "" 2
 3245              	.LVL307:
 3246              		.loc 1 1754 22 view .LVU956
1755:Drivers/RTT/SEGGER_RTT.c ****     pUp = &pRTTCB->aUp[BufferIndex];
 3247              		.loc 1 1755 5 view .LVU957
1756:Drivers/RTT/SEGGER_RTT.c ****     pUp->sName = sName;
 3248              		.loc 1 1756 5 view .LVU958
 3249              		.loc 1 1756 16 is_stmt 0 view .LVU959
 3250              		.thumb
 3251              		.syntax unified
 3252 001c 0134     		adds	r4, r4, #1
 3253              	.LVL308:
 3254              		.loc 1 1756 16 view .LVU960
 3255 001e 04EB4404 		add	r4, r4, r4, lsl #1
 3256              	.LVL309:
 3257              		.loc 1 1756 16 view .LVU961
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 94


 3258 0022 E400     		lsls	r4, r4, #3
 3259 0024 054A     		ldr	r2, .L200
 3260 0026 1551     		str	r5, [r2, r4]
1757:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3261              		.loc 1 1757 5 is_stmt 1 view .LVU962
 3262              		.syntax unified
 3263              	@ 1757 "Drivers/RTT/SEGGER_RTT.c" 1
 3264 0028 83F31188 		msr   basepri, r3  
 3265              		
 3266              	@ 0 "" 2
 3267              		.thumb
 3268              		.syntax unified
 3269              	.LBE39:
 3270              		.loc 1 1757 24 view .LVU963
1758:Drivers/RTT/SEGGER_RTT.c ****     r =  0;
 3271              		.loc 1 1758 5 view .LVU964
 3272              	.LVL310:
 3273              		.loc 1 1758 7 is_stmt 0 view .LVU965
 3274 002c 0020     		movs	r0, #0
 3275              	.LVL311:
 3276              	.L194:
1759:Drivers/RTT/SEGGER_RTT.c ****   } else {
1760:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1761:Drivers/RTT/SEGGER_RTT.c ****   }
1762:Drivers/RTT/SEGGER_RTT.c ****   return r;
1763:Drivers/RTT/SEGGER_RTT.c **** }
 3277              		.loc 1 1763 1 view .LVU966
 3278 002e 38BD     		pop	{r3, r4, r5, pc}
 3279              	.LVL312:
 3280              	.L199:
 3281              	.LBB40:
1751:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3282              		.loc 1 1751 3 is_stmt 1 discriminator 1 view .LVU967
 3283 0030 FFF7FEFF 		bl	_DoInit
 3284              	.LVL313:
1751:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3285              		.loc 1 1751 3 is_stmt 0 discriminator 1 view .LVU968
 3286 0034 EAE7     		b	.L195
 3287              	.LVL314:
 3288              	.L197:
1751:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3289              		.loc 1 1751 3 discriminator 1 view .LVU969
 3290              	.LBE40:
1760:Drivers/RTT/SEGGER_RTT.c ****   }
 3291              		.loc 1 1760 7 view .LVU970
 3292 0036 4FF0FF30 		mov	r0, #-1
 3293              	.LVL315:
1762:Drivers/RTT/SEGGER_RTT.c **** }
 3294              		.loc 1 1762 3 is_stmt 1 view .LVU971
1762:Drivers/RTT/SEGGER_RTT.c **** }
 3295              		.loc 1 1762 10 is_stmt 0 view .LVU972
 3296 003a F8E7     		b	.L194
 3297              	.L201:
 3298              		.align	2
 3299              	.L200:
 3300 003c 00000000 		.word	.LANCHOR1
 3301              		.cfi_endproc
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 95


 3302              	.LFE27:
 3304              		.section	.text.SEGGER_RTT_SetNameDownBuffer,"ax",%progbits
 3305              		.align	1
 3306              		.global	SEGGER_RTT_SetNameDownBuffer
 3307              		.syntax unified
 3308              		.thumb
 3309              		.thumb_func
 3310              		.fpu fpv5-sp-d16
 3312              	SEGGER_RTT_SetNameDownBuffer:
 3313              	.LVL316:
 3314              	.LFB28:
1764:Drivers/RTT/SEGGER_RTT.c **** 
1765:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1766:Drivers/RTT/SEGGER_RTT.c **** *
1767:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_SetNameDownBuffer
1768:Drivers/RTT/SEGGER_RTT.c **** *
1769:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1770:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of a specific Down-buffer name (T->H).
1771:Drivers/RTT/SEGGER_RTT.c **** *    Buffer to be configured is specified by index.
1772:Drivers/RTT/SEGGER_RTT.c **** *
1773:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1774:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the buffer to renamed.
1775:Drivers/RTT/SEGGER_RTT.c **** *    sName        Pointer to a constant name string.
1776:Drivers/RTT/SEGGER_RTT.c **** *
1777:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1778:Drivers/RTT/SEGGER_RTT.c **** *    >= 0  O.K.
1779:Drivers/RTT/SEGGER_RTT.c **** *     < 0  Error
1780:Drivers/RTT/SEGGER_RTT.c **** */
1781:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_SetNameDownBuffer(unsigned BufferIndex, const char* sName) {
 3315              		.loc 1 1781 75 is_stmt 1 view -0
 3316              		.cfi_startproc
 3317              		@ args = 0, pretend = 0, frame = 0
 3318              		@ frame_needed = 0, uses_anonymous_args = 0
 3319              		.loc 1 1781 75 is_stmt 0 view .LVU974
 3320 0000 38B5     		push	{r3, r4, r5, lr}
 3321              	.LCFI31:
 3322              		.cfi_def_cfa_offset 16
 3323              		.cfi_offset 3, -16
 3324              		.cfi_offset 4, -12
 3325              		.cfi_offset 5, -8
 3326              		.cfi_offset 14, -4
 3327 0002 0446     		mov	r4, r0
 3328 0004 0D46     		mov	r5, r1
1782:Drivers/RTT/SEGGER_RTT.c ****   int r;
 3329              		.loc 1 1782 3 is_stmt 1 view .LVU975
1783:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 3330              		.loc 1 1783 3 view .LVU976
1784:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_BUFFER_DOWN* pDown;
 3331              		.loc 1 1784 3 view .LVU977
 3332              	.LBB41:
1785:Drivers/RTT/SEGGER_RTT.c **** 
1786:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3333              		.loc 1 1786 3 view .LVU978
 3334              		.loc 1 1786 3 view .LVU979
 3335              	.LVL317:
 3336              		.loc 1 1786 3 view .LVU980
 3337              		.loc 1 1786 3 view .LVU981
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 96


 3338 0006 0D4B     		ldr	r3, .L208
 3339 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3340 000a 8BB1     		cbz	r3, .L207
 3341              	.LVL318:
 3342              	.L203:
 3343              		.loc 1 1786 3 discriminator 3 view .LVU982
 3344              	.LBE41:
 3345              		.loc 1 1786 9 discriminator 3 view .LVU983
1787:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3346              		.loc 1 1787 3 discriminator 3 view .LVU984
1788:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < SEGGER_RTT_MAX_NUM_DOWN_BUFFERS) {
 3347              		.loc 1 1788 3 discriminator 3 view .LVU985
 3348              		.loc 1 1788 6 is_stmt 0 discriminator 3 view .LVU986
 3349 000c 022C     		cmp	r4, #2
 3350 000e 12D8     		bhi	.L205
 3351              	.LBB42:
1789:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 3352              		.loc 1 1789 5 is_stmt 1 view .LVU987
 3353              		.loc 1 1789 5 view .LVU988
 3354              		.syntax unified
 3355              	@ 1789 "Drivers/RTT/SEGGER_RTT.c" 1
 3356 0010 EFF31183 		mrs   r3, basepri  
 3357 0014 4FF02001 		mov   r1, #32       
 3358 0018 81F31188 		msr   basepri, r1  
 3359              		
 3360              	@ 0 "" 2
 3361              	.LVL319:
 3362              		.loc 1 1789 22 view .LVU989
1790:Drivers/RTT/SEGGER_RTT.c ****     pDown = &pRTTCB->aDown[BufferIndex];
 3363              		.loc 1 1790 5 view .LVU990
1791:Drivers/RTT/SEGGER_RTT.c ****     pDown->sName = sName;
 3364              		.loc 1 1791 5 view .LVU991
 3365              		.loc 1 1791 18 is_stmt 0 view .LVU992
 3366              		.thumb
 3367              		.syntax unified
 3368 001c 04EB4404 		add	r4, r4, r4, lsl #1
 3369              	.LVL320:
 3370              		.loc 1 1791 18 view .LVU993
 3371 0020 0648     		ldr	r0, .L208
 3372 0022 00EBC404 		add	r4, r0, r4, lsl #3
 3373 0026 2566     		str	r5, [r4, #96]
1792:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3374              		.loc 1 1792 5 is_stmt 1 view .LVU994
 3375              		.syntax unified
 3376              	@ 1792 "Drivers/RTT/SEGGER_RTT.c" 1
 3377 0028 83F31188 		msr   basepri, r3  
 3378              		
 3379              	@ 0 "" 2
 3380              		.thumb
 3381              		.syntax unified
 3382              	.LBE42:
 3383              		.loc 1 1792 24 view .LVU995
1793:Drivers/RTT/SEGGER_RTT.c ****     r =  0;
 3384              		.loc 1 1793 5 view .LVU996
 3385              	.LVL321:
 3386              		.loc 1 1793 7 is_stmt 0 view .LVU997
 3387 002c 0020     		movs	r0, #0
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 97


 3388              	.LVL322:
 3389              	.L202:
1794:Drivers/RTT/SEGGER_RTT.c ****   } else {
1795:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1796:Drivers/RTT/SEGGER_RTT.c ****   }
1797:Drivers/RTT/SEGGER_RTT.c ****   return r;
1798:Drivers/RTT/SEGGER_RTT.c **** }
 3390              		.loc 1 1798 1 view .LVU998
 3391 002e 38BD     		pop	{r3, r4, r5, pc}
 3392              	.LVL323:
 3393              	.L207:
 3394              	.LBB43:
1786:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3395              		.loc 1 1786 3 is_stmt 1 discriminator 1 view .LVU999
 3396 0030 FFF7FEFF 		bl	_DoInit
 3397              	.LVL324:
1786:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3398              		.loc 1 1786 3 is_stmt 0 discriminator 1 view .LVU1000
 3399 0034 EAE7     		b	.L203
 3400              	.LVL325:
 3401              	.L205:
1786:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3402              		.loc 1 1786 3 discriminator 1 view .LVU1001
 3403              	.LBE43:
1795:Drivers/RTT/SEGGER_RTT.c ****   }
 3404              		.loc 1 1795 7 view .LVU1002
 3405 0036 4FF0FF30 		mov	r0, #-1
 3406              	.LVL326:
1797:Drivers/RTT/SEGGER_RTT.c **** }
 3407              		.loc 1 1797 3 is_stmt 1 view .LVU1003
1797:Drivers/RTT/SEGGER_RTT.c **** }
 3408              		.loc 1 1797 10 is_stmt 0 view .LVU1004
 3409 003a F8E7     		b	.L202
 3410              	.L209:
 3411              		.align	2
 3412              	.L208:
 3413 003c 00000000 		.word	.LANCHOR1
 3414              		.cfi_endproc
 3415              	.LFE28:
 3417              		.section	.text.SEGGER_RTT_SetFlagsUpBuffer,"ax",%progbits
 3418              		.align	1
 3419              		.global	SEGGER_RTT_SetFlagsUpBuffer
 3420              		.syntax unified
 3421              		.thumb
 3422              		.thumb_func
 3423              		.fpu fpv5-sp-d16
 3425              	SEGGER_RTT_SetFlagsUpBuffer:
 3426              	.LVL327:
 3427              	.LFB29:
1799:Drivers/RTT/SEGGER_RTT.c **** 
1800:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1801:Drivers/RTT/SEGGER_RTT.c **** *
1802:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_SetFlagsUpBuffer
1803:Drivers/RTT/SEGGER_RTT.c **** *
1804:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1805:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of specific up-buffer flags (T->H).
1806:Drivers/RTT/SEGGER_RTT.c **** *    Buffer to be configured is specified by index.
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 98


1807:Drivers/RTT/SEGGER_RTT.c **** *
1808:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1809:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the buffer.
1810:Drivers/RTT/SEGGER_RTT.c **** *    Flags        Flags to set for the buffer.
1811:Drivers/RTT/SEGGER_RTT.c **** *
1812:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1813:Drivers/RTT/SEGGER_RTT.c **** *    >= 0  O.K.
1814:Drivers/RTT/SEGGER_RTT.c **** *     < 0  Error
1815:Drivers/RTT/SEGGER_RTT.c **** */
1816:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_SetFlagsUpBuffer(unsigned BufferIndex, unsigned Flags) {
 3428              		.loc 1 1816 71 is_stmt 1 view -0
 3429              		.cfi_startproc
 3430              		@ args = 0, pretend = 0, frame = 0
 3431              		@ frame_needed = 0, uses_anonymous_args = 0
 3432              		.loc 1 1816 71 is_stmt 0 view .LVU1006
 3433 0000 38B5     		push	{r3, r4, r5, lr}
 3434              	.LCFI32:
 3435              		.cfi_def_cfa_offset 16
 3436              		.cfi_offset 3, -16
 3437              		.cfi_offset 4, -12
 3438              		.cfi_offset 5, -8
 3439              		.cfi_offset 14, -4
 3440 0002 0446     		mov	r4, r0
 3441 0004 0D46     		mov	r5, r1
1817:Drivers/RTT/SEGGER_RTT.c ****   int r;
 3442              		.loc 1 1817 3 is_stmt 1 view .LVU1007
1818:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 3443              		.loc 1 1818 3 view .LVU1008
1819:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_BUFFER_UP* pUp;
 3444              		.loc 1 1819 3 view .LVU1009
 3445              	.LBB44:
1820:Drivers/RTT/SEGGER_RTT.c **** 
1821:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3446              		.loc 1 1821 3 view .LVU1010
 3447              		.loc 1 1821 3 view .LVU1011
 3448              	.LVL328:
 3449              		.loc 1 1821 3 view .LVU1012
 3450              		.loc 1 1821 3 view .LVU1013
 3451 0006 0D4B     		ldr	r3, .L216
 3452 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3453 000a 8BB1     		cbz	r3, .L215
 3454              	.LVL329:
 3455              	.L211:
 3456              		.loc 1 1821 3 discriminator 3 view .LVU1014
 3457              	.LBE44:
 3458              		.loc 1 1821 9 discriminator 3 view .LVU1015
1822:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3459              		.loc 1 1822 3 discriminator 3 view .LVU1016
1823:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < SEGGER_RTT_MAX_NUM_UP_BUFFERS) {
 3460              		.loc 1 1823 3 discriminator 3 view .LVU1017
 3461              		.loc 1 1823 6 is_stmt 0 discriminator 3 view .LVU1018
 3462 000c 022C     		cmp	r4, #2
 3463 000e 12D8     		bhi	.L213
 3464              	.LBB45:
1824:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 3465              		.loc 1 1824 5 is_stmt 1 view .LVU1019
 3466              		.loc 1 1824 5 view .LVU1020
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 99


 3467              		.syntax unified
 3468              	@ 1824 "Drivers/RTT/SEGGER_RTT.c" 1
 3469 0010 EFF31183 		mrs   r3, basepri  
 3470 0014 4FF02001 		mov   r1, #32       
 3471 0018 81F31188 		msr   basepri, r1  
 3472              		
 3473              	@ 0 "" 2
 3474              	.LVL330:
 3475              		.loc 1 1824 22 view .LVU1021
1825:Drivers/RTT/SEGGER_RTT.c ****     pUp = &pRTTCB->aUp[BufferIndex];
 3476              		.loc 1 1825 5 view .LVU1022
1826:Drivers/RTT/SEGGER_RTT.c ****     pUp->Flags = Flags;
 3477              		.loc 1 1826 5 view .LVU1023
 3478              		.loc 1 1826 16 is_stmt 0 view .LVU1024
 3479              		.thumb
 3480              		.syntax unified
 3481 001c 04EB4404 		add	r4, r4, r4, lsl #1
 3482              	.LVL331:
 3483              		.loc 1 1826 16 view .LVU1025
 3484 0020 0648     		ldr	r0, .L216
 3485 0022 00EBC404 		add	r4, r0, r4, lsl #3
 3486 0026 E562     		str	r5, [r4, #44]
1827:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3487              		.loc 1 1827 5 is_stmt 1 view .LVU1026
 3488              		.syntax unified
 3489              	@ 1827 "Drivers/RTT/SEGGER_RTT.c" 1
 3490 0028 83F31188 		msr   basepri, r3  
 3491              		
 3492              	@ 0 "" 2
 3493              		.thumb
 3494              		.syntax unified
 3495              	.LBE45:
 3496              		.loc 1 1827 24 view .LVU1027
1828:Drivers/RTT/SEGGER_RTT.c ****     r =  0;
 3497              		.loc 1 1828 5 view .LVU1028
 3498              	.LVL332:
 3499              		.loc 1 1828 7 is_stmt 0 view .LVU1029
 3500 002c 0020     		movs	r0, #0
 3501              	.LVL333:
 3502              	.L210:
1829:Drivers/RTT/SEGGER_RTT.c ****   } else {
1830:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1831:Drivers/RTT/SEGGER_RTT.c ****   }
1832:Drivers/RTT/SEGGER_RTT.c ****   return r;
1833:Drivers/RTT/SEGGER_RTT.c **** }
 3503              		.loc 1 1833 1 view .LVU1030
 3504 002e 38BD     		pop	{r3, r4, r5, pc}
 3505              	.LVL334:
 3506              	.L215:
 3507              	.LBB46:
1821:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3508              		.loc 1 1821 3 is_stmt 1 discriminator 1 view .LVU1031
 3509 0030 FFF7FEFF 		bl	_DoInit
 3510              	.LVL335:
1821:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3511              		.loc 1 1821 3 is_stmt 0 discriminator 1 view .LVU1032
 3512 0034 EAE7     		b	.L211
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 100


 3513              	.LVL336:
 3514              	.L213:
1821:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3515              		.loc 1 1821 3 discriminator 1 view .LVU1033
 3516              	.LBE46:
1830:Drivers/RTT/SEGGER_RTT.c ****   }
 3517              		.loc 1 1830 7 view .LVU1034
 3518 0036 4FF0FF30 		mov	r0, #-1
 3519              	.LVL337:
1832:Drivers/RTT/SEGGER_RTT.c **** }
 3520              		.loc 1 1832 3 is_stmt 1 view .LVU1035
1832:Drivers/RTT/SEGGER_RTT.c **** }
 3521              		.loc 1 1832 10 is_stmt 0 view .LVU1036
 3522 003a F8E7     		b	.L210
 3523              	.L217:
 3524              		.align	2
 3525              	.L216:
 3526 003c 00000000 		.word	.LANCHOR1
 3527              		.cfi_endproc
 3528              	.LFE29:
 3530              		.section	.text.SEGGER_RTT_SetFlagsDownBuffer,"ax",%progbits
 3531              		.align	1
 3532              		.global	SEGGER_RTT_SetFlagsDownBuffer
 3533              		.syntax unified
 3534              		.thumb
 3535              		.thumb_func
 3536              		.fpu fpv5-sp-d16
 3538              	SEGGER_RTT_SetFlagsDownBuffer:
 3539              	.LVL338:
 3540              	.LFB30:
1834:Drivers/RTT/SEGGER_RTT.c **** 
1835:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1836:Drivers/RTT/SEGGER_RTT.c **** *
1837:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_SetFlagsDownBuffer
1838:Drivers/RTT/SEGGER_RTT.c **** *
1839:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1840:Drivers/RTT/SEGGER_RTT.c **** *    Run-time configuration of specific Down-buffer flags (T->H).
1841:Drivers/RTT/SEGGER_RTT.c **** *    Buffer to be configured is specified by index.
1842:Drivers/RTT/SEGGER_RTT.c **** *
1843:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1844:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the buffer to renamed.
1845:Drivers/RTT/SEGGER_RTT.c **** *    Flags        Flags to set for the buffer.
1846:Drivers/RTT/SEGGER_RTT.c **** *
1847:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1848:Drivers/RTT/SEGGER_RTT.c **** *    >= 0  O.K.
1849:Drivers/RTT/SEGGER_RTT.c **** *     < 0  Error
1850:Drivers/RTT/SEGGER_RTT.c **** */
1851:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_SetFlagsDownBuffer(unsigned BufferIndex, unsigned Flags) {
 3541              		.loc 1 1851 73 is_stmt 1 view -0
 3542              		.cfi_startproc
 3543              		@ args = 0, pretend = 0, frame = 0
 3544              		@ frame_needed = 0, uses_anonymous_args = 0
 3545              		.loc 1 1851 73 is_stmt 0 view .LVU1038
 3546 0000 38B5     		push	{r3, r4, r5, lr}
 3547              	.LCFI33:
 3548              		.cfi_def_cfa_offset 16
 3549              		.cfi_offset 3, -16
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 101


 3550              		.cfi_offset 4, -12
 3551              		.cfi_offset 5, -8
 3552              		.cfi_offset 14, -4
 3553 0002 0446     		mov	r4, r0
 3554 0004 0D46     		mov	r5, r1
1852:Drivers/RTT/SEGGER_RTT.c ****   int r;
 3555              		.loc 1 1852 3 is_stmt 1 view .LVU1039
1853:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 3556              		.loc 1 1853 3 view .LVU1040
1854:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_BUFFER_DOWN* pDown;
 3557              		.loc 1 1854 3 view .LVU1041
 3558              	.LBB47:
1855:Drivers/RTT/SEGGER_RTT.c **** 
1856:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3559              		.loc 1 1856 3 view .LVU1042
 3560              		.loc 1 1856 3 view .LVU1043
 3561              	.LVL339:
 3562              		.loc 1 1856 3 view .LVU1044
 3563              		.loc 1 1856 3 view .LVU1045
 3564 0006 0D4B     		ldr	r3, .L224
 3565 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3566 000a 8BB1     		cbz	r3, .L223
 3567              	.LVL340:
 3568              	.L219:
 3569              		.loc 1 1856 3 discriminator 3 view .LVU1046
 3570              	.LBE47:
 3571              		.loc 1 1856 9 discriminator 3 view .LVU1047
1857:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3572              		.loc 1 1857 3 discriminator 3 view .LVU1048
1858:Drivers/RTT/SEGGER_RTT.c ****   if (BufferIndex < SEGGER_RTT_MAX_NUM_DOWN_BUFFERS) {
 3573              		.loc 1 1858 3 discriminator 3 view .LVU1049
 3574              		.loc 1 1858 6 is_stmt 0 discriminator 3 view .LVU1050
 3575 000c 022C     		cmp	r4, #2
 3576 000e 12D8     		bhi	.L221
 3577              	.LBB48:
1859:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 3578              		.loc 1 1859 5 is_stmt 1 view .LVU1051
 3579              		.loc 1 1859 5 view .LVU1052
 3580              		.syntax unified
 3581              	@ 1859 "Drivers/RTT/SEGGER_RTT.c" 1
 3582 0010 EFF31183 		mrs   r3, basepri  
 3583 0014 4FF02001 		mov   r1, #32       
 3584 0018 81F31188 		msr   basepri, r1  
 3585              		
 3586              	@ 0 "" 2
 3587              	.LVL341:
 3588              		.loc 1 1859 22 view .LVU1053
1860:Drivers/RTT/SEGGER_RTT.c ****     pDown = &pRTTCB->aDown[BufferIndex];
 3589              		.loc 1 1860 5 view .LVU1054
1861:Drivers/RTT/SEGGER_RTT.c ****     pDown->Flags = Flags;
 3590              		.loc 1 1861 5 view .LVU1055
 3591              		.loc 1 1861 18 is_stmt 0 view .LVU1056
 3592              		.thumb
 3593              		.syntax unified
 3594 001c 04EB4404 		add	r4, r4, r4, lsl #1
 3595              	.LVL342:
 3596              		.loc 1 1861 18 view .LVU1057
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 102


 3597 0020 0648     		ldr	r0, .L224
 3598 0022 00EBC404 		add	r4, r0, r4, lsl #3
 3599 0026 6567     		str	r5, [r4, #116]
1862:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3600              		.loc 1 1862 5 is_stmt 1 view .LVU1058
 3601              		.syntax unified
 3602              	@ 1862 "Drivers/RTT/SEGGER_RTT.c" 1
 3603 0028 83F31188 		msr   basepri, r3  
 3604              		
 3605              	@ 0 "" 2
 3606              		.thumb
 3607              		.syntax unified
 3608              	.LBE48:
 3609              		.loc 1 1862 24 view .LVU1059
1863:Drivers/RTT/SEGGER_RTT.c ****     r =  0;
 3610              		.loc 1 1863 5 view .LVU1060
 3611              	.LVL343:
 3612              		.loc 1 1863 7 is_stmt 0 view .LVU1061
 3613 002c 0020     		movs	r0, #0
 3614              	.LVL344:
 3615              	.L218:
1864:Drivers/RTT/SEGGER_RTT.c ****   } else {
1865:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1866:Drivers/RTT/SEGGER_RTT.c ****   }
1867:Drivers/RTT/SEGGER_RTT.c ****   return r;
1868:Drivers/RTT/SEGGER_RTT.c **** }
 3616              		.loc 1 1868 1 view .LVU1062
 3617 002e 38BD     		pop	{r3, r4, r5, pc}
 3618              	.LVL345:
 3619              	.L223:
 3620              	.LBB49:
1856:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3621              		.loc 1 1856 3 is_stmt 1 discriminator 1 view .LVU1063
 3622 0030 FFF7FEFF 		bl	_DoInit
 3623              	.LVL346:
1856:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3624              		.loc 1 1856 3 is_stmt 0 discriminator 1 view .LVU1064
 3625 0034 EAE7     		b	.L219
 3626              	.LVL347:
 3627              	.L221:
1856:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 3628              		.loc 1 1856 3 discriminator 1 view .LVU1065
 3629              	.LBE49:
1865:Drivers/RTT/SEGGER_RTT.c ****   }
 3630              		.loc 1 1865 7 view .LVU1066
 3631 0036 4FF0FF30 		mov	r0, #-1
 3632              	.LVL348:
1867:Drivers/RTT/SEGGER_RTT.c **** }
 3633              		.loc 1 1867 3 is_stmt 1 view .LVU1067
1867:Drivers/RTT/SEGGER_RTT.c **** }
 3634              		.loc 1 1867 10 is_stmt 0 view .LVU1068
 3635 003a F8E7     		b	.L218
 3636              	.L225:
 3637              		.align	2
 3638              	.L224:
 3639 003c 00000000 		.word	.LANCHOR1
 3640              		.cfi_endproc
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 103


 3641              	.LFE30:
 3643              		.section	.text.SEGGER_RTT_Init,"ax",%progbits
 3644              		.align	1
 3645              		.global	SEGGER_RTT_Init
 3646              		.syntax unified
 3647              		.thumb
 3648              		.thumb_func
 3649              		.fpu fpv5-sp-d16
 3651              	SEGGER_RTT_Init:
 3652              	.LFB31:
1869:Drivers/RTT/SEGGER_RTT.c **** 
1870:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1871:Drivers/RTT/SEGGER_RTT.c **** *
1872:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_Init
1873:Drivers/RTT/SEGGER_RTT.c **** *
1874:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1875:Drivers/RTT/SEGGER_RTT.c **** *    Initializes the RTT Control Block.
1876:Drivers/RTT/SEGGER_RTT.c **** *    Should be used in RAM targets, at start of the application.
1877:Drivers/RTT/SEGGER_RTT.c **** *
1878:Drivers/RTT/SEGGER_RTT.c **** */
1879:Drivers/RTT/SEGGER_RTT.c **** void SEGGER_RTT_Init (void) {
 3653              		.loc 1 1879 29 is_stmt 1 view -0
 3654              		.cfi_startproc
 3655              		@ args = 0, pretend = 0, frame = 0
 3656              		@ frame_needed = 0, uses_anonymous_args = 0
 3657 0000 08B5     		push	{r3, lr}
 3658              	.LCFI34:
 3659              		.cfi_def_cfa_offset 8
 3660              		.cfi_offset 3, -8
 3661              		.cfi_offset 14, -4
1880:Drivers/RTT/SEGGER_RTT.c ****   _DoInit();
 3662              		.loc 1 1880 3 view .LVU1070
 3663 0002 FFF7FEFF 		bl	_DoInit
 3664              	.LVL349:
1881:Drivers/RTT/SEGGER_RTT.c **** }
 3665              		.loc 1 1881 1 is_stmt 0 view .LVU1071
 3666 0006 08BD     		pop	{r3, pc}
 3667              		.cfi_endproc
 3668              	.LFE31:
 3670              		.section	.text.SEGGER_RTT_SetTerminal,"ax",%progbits
 3671              		.align	1
 3672              		.global	SEGGER_RTT_SetTerminal
 3673              		.syntax unified
 3674              		.thumb
 3675              		.thumb_func
 3676              		.fpu fpv5-sp-d16
 3678              	SEGGER_RTT_SetTerminal:
 3679              	.LVL350:
 3680              	.LFB32:
1882:Drivers/RTT/SEGGER_RTT.c **** 
1883:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1884:Drivers/RTT/SEGGER_RTT.c **** *
1885:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_SetTerminal
1886:Drivers/RTT/SEGGER_RTT.c **** *
1887:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1888:Drivers/RTT/SEGGER_RTT.c **** *    Sets the terminal to be used for output on channel 0.
1889:Drivers/RTT/SEGGER_RTT.c **** *
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 104


1890:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1891:Drivers/RTT/SEGGER_RTT.c **** *    TerminalId  Index of the terminal.
1892:Drivers/RTT/SEGGER_RTT.c **** *
1893:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1894:Drivers/RTT/SEGGER_RTT.c **** *    >= 0  O.K.
1895:Drivers/RTT/SEGGER_RTT.c **** *     < 0  Error (e.g. if RTT is configured for non-blocking mode and there was no space in the buf
1896:Drivers/RTT/SEGGER_RTT.c **** *
1897:Drivers/RTT/SEGGER_RTT.c **** *  Notes
1898:Drivers/RTT/SEGGER_RTT.c **** *    (1) Buffer 0 is always reserved for terminal I/O, so we can use index 0 here, fixed
1899:Drivers/RTT/SEGGER_RTT.c **** */
1900:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_SetTerminal (unsigned char TerminalId) {
 3681              		.loc 1 1900 55 is_stmt 1 view -0
 3682              		.cfi_startproc
 3683              		@ args = 0, pretend = 0, frame = 8
 3684              		@ frame_needed = 0, uses_anonymous_args = 0
 3685              		.loc 1 1900 55 is_stmt 0 view .LVU1073
 3686 0000 30B5     		push	{r4, r5, lr}
 3687              	.LCFI35:
 3688              		.cfi_def_cfa_offset 12
 3689              		.cfi_offset 4, -12
 3690              		.cfi_offset 5, -8
 3691              		.cfi_offset 14, -4
 3692 0002 83B0     		sub	sp, sp, #12
 3693              	.LCFI36:
 3694              		.cfi_def_cfa_offset 24
 3695 0004 0446     		mov	r4, r0
1901:Drivers/RTT/SEGGER_RTT.c ****   unsigned char         ac[2];
 3696              		.loc 1 1901 3 is_stmt 1 view .LVU1074
1902:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 3697              		.loc 1 1902 3 view .LVU1075
1903:Drivers/RTT/SEGGER_RTT.c ****   unsigned Avail;
 3698              		.loc 1 1903 3 view .LVU1076
1904:Drivers/RTT/SEGGER_RTT.c ****   int r;
 3699              		.loc 1 1904 3 view .LVU1077
 3700              	.LBB50:
1905:Drivers/RTT/SEGGER_RTT.c **** 
1906:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3701              		.loc 1 1906 3 view .LVU1078
 3702              		.loc 1 1906 3 view .LVU1079
 3703              	.LVL351:
 3704              		.loc 1 1906 3 view .LVU1080
 3705              		.loc 1 1906 3 view .LVU1081
 3706 0006 1D4B     		ldr	r3, .L239
 3707 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3708 000a FBB1     		cbz	r3, .L236
 3709              	.LVL352:
 3710              	.L229:
 3711              		.loc 1 1906 3 discriminator 3 view .LVU1082
 3712              	.LBE50:
 3713              		.loc 1 1906 9 discriminator 3 view .LVU1083
1907:Drivers/RTT/SEGGER_RTT.c ****   r = 0;
 3714              		.loc 1 1907 3 discriminator 3 view .LVU1084
1908:Drivers/RTT/SEGGER_RTT.c ****   ac[0] = 0xFFu;
 3715              		.loc 1 1908 3 discriminator 3 view .LVU1085
 3716              		.loc 1 1908 9 is_stmt 0 discriminator 3 view .LVU1086
 3717 000c FF23     		movs	r3, #255
 3718 000e 8DF80430 		strb	r3, [sp, #4]
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 105


1909:Drivers/RTT/SEGGER_RTT.c ****   if (TerminalId < sizeof(_aTerminalId)) { // We only support a certain number of channels
 3719              		.loc 1 1909 3 is_stmt 1 discriminator 3 view .LVU1087
 3720              		.loc 1 1909 6 is_stmt 0 discriminator 3 view .LVU1088
 3721 0012 0F2C     		cmp	r4, #15
 3722 0014 2FD8     		bhi	.L233
1910:Drivers/RTT/SEGGER_RTT.c ****     ac[1] = _aTerminalId[TerminalId];
 3723              		.loc 1 1910 5 is_stmt 1 view .LVU1089
 3724              		.loc 1 1910 25 is_stmt 0 view .LVU1090
 3725 0016 1A4B     		ldr	r3, .L239+4
 3726 0018 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 3727              		.loc 1 1910 11 view .LVU1091
 3728 001a 8DF80530 		strb	r3, [sp, #5]
1911:Drivers/RTT/SEGGER_RTT.c ****     pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[0] + SEGGER_RTT_UNCACHED_OFF);  // Acce
 3729              		.loc 1 1911 5 is_stmt 1 view .LVU1092
 3730              	.LVL353:
 3731              	.LBB51:
1912:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();                     // Lock to make sure that no other task is writing into 
 3732              		.loc 1 1912 5 view .LVU1093
 3733              		.loc 1 1912 5 view .LVU1094
 3734              		.syntax unified
 3735              	@ 1912 "Drivers/RTT/SEGGER_RTT.c" 1
 3736 001e EFF31185 		mrs   r5, basepri  
 3737 0022 4FF02001 		mov   r1, #32       
 3738 0026 81F31188 		msr   basepri, r1  
 3739              		
 3740              	@ 0 "" 2
 3741              	.LVL354:
 3742              		.loc 1 1912 22 view .LVU1095
1913:Drivers/RTT/SEGGER_RTT.c ****     if ((pRing->Flags & SEGGER_RTT_MODE_MASK) == SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL) {
 3743              		.loc 1 1913 5 view .LVU1096
 3744              		.loc 1 1913 15 is_stmt 0 view .LVU1097
 3745              		.thumb
 3746              		.syntax unified
 3747 002a 144B     		ldr	r3, .L239
 3748 002c DB6A     		ldr	r3, [r3, #44]
 3749              		.loc 1 1913 23 view .LVU1098
 3750 002e 03F00303 		and	r3, r3, #3
 3751              		.loc 1 1913 8 view .LVU1099
 3752 0032 022B     		cmp	r3, #2
 3753 0034 0DD0     		beq	.L237
1914:Drivers/RTT/SEGGER_RTT.c ****       _ActiveTerminal = TerminalId;
1915:Drivers/RTT/SEGGER_RTT.c ****       _WriteBlocking(pRing, (const char*)ac, 2u);
1916:Drivers/RTT/SEGGER_RTT.c ****     } else {                                                                            // Skipping
1917:Drivers/RTT/SEGGER_RTT.c ****       Avail = _GetAvailWriteSpace(pRing);
 3754              		.loc 1 1917 7 is_stmt 1 view .LVU1100
 3755              		.loc 1 1917 15 is_stmt 0 view .LVU1101
 3756 0036 1348     		ldr	r0, .L239+8
 3757 0038 FFF7FEFF 		bl	_GetAvailWriteSpace
 3758              	.LVL355:
1918:Drivers/RTT/SEGGER_RTT.c ****       if (Avail >= 2) {
 3759              		.loc 1 1918 7 is_stmt 1 view .LVU1102
 3760              		.loc 1 1918 10 is_stmt 0 view .LVU1103
 3761 003c 0128     		cmp	r0, #1
 3762 003e 11D8     		bhi	.L238
1919:Drivers/RTT/SEGGER_RTT.c ****         _ActiveTerminal = TerminalId;    // Only change active terminal in case of success
1920:Drivers/RTT/SEGGER_RTT.c ****         _WriteNoCheck(pRing, (const char*)ac, 2u);
1921:Drivers/RTT/SEGGER_RTT.c ****       } else {
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 106


1922:Drivers/RTT/SEGGER_RTT.c ****         r = -1;
 3763              		.loc 1 1922 11 view .LVU1104
 3764 0040 4FF0FF30 		mov	r0, #-1
 3765              	.LVL356:
 3766              	.L232:
1923:Drivers/RTT/SEGGER_RTT.c ****       }
1924:Drivers/RTT/SEGGER_RTT.c ****     }
1925:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3767              		.loc 1 1925 5 is_stmt 1 view .LVU1105
 3768              		.syntax unified
 3769              	@ 1925 "Drivers/RTT/SEGGER_RTT.c" 1
 3770 0044 85F31188 		msr   basepri, r5  
 3771              		
 3772              	@ 0 "" 2
 3773              		.thumb
 3774              		.syntax unified
 3775              	.LBE51:
 3776              		.loc 1 1925 24 view .LVU1106
 3777              	.LVL357:
 3778              	.L228:
1926:Drivers/RTT/SEGGER_RTT.c ****   } else {
1927:Drivers/RTT/SEGGER_RTT.c ****     r = -1;
1928:Drivers/RTT/SEGGER_RTT.c ****   }
1929:Drivers/RTT/SEGGER_RTT.c ****   return r;
1930:Drivers/RTT/SEGGER_RTT.c **** }
 3779              		.loc 1 1930 1 is_stmt 0 view .LVU1107
 3780 0048 03B0     		add	sp, sp, #12
 3781              	.LCFI37:
 3782              		.cfi_remember_state
 3783              		.cfi_def_cfa_offset 12
 3784              		@ sp needed
 3785 004a 30BD     		pop	{r4, r5, pc}
 3786              	.LVL358:
 3787              	.L236:
 3788              	.LCFI38:
 3789              		.cfi_restore_state
 3790              	.LBB52:
1906:Drivers/RTT/SEGGER_RTT.c ****   r = 0;
 3791              		.loc 1 1906 3 is_stmt 1 discriminator 1 view .LVU1108
 3792 004c FFF7FEFF 		bl	_DoInit
 3793              	.LVL359:
1906:Drivers/RTT/SEGGER_RTT.c ****   r = 0;
 3794              		.loc 1 1906 3 is_stmt 0 discriminator 1 view .LVU1109
 3795 0050 DCE7     		b	.L229
 3796              	.LVL360:
 3797              	.L237:
1906:Drivers/RTT/SEGGER_RTT.c ****   r = 0;
 3798              		.loc 1 1906 3 discriminator 1 view .LVU1110
 3799              	.LBE52:
 3800              	.LBB53:
1914:Drivers/RTT/SEGGER_RTT.c ****       _WriteBlocking(pRing, (const char*)ac, 2u);
 3801              		.loc 1 1914 7 is_stmt 1 view .LVU1111
1914:Drivers/RTT/SEGGER_RTT.c ****       _WriteBlocking(pRing, (const char*)ac, 2u);
 3802              		.loc 1 1914 23 is_stmt 0 view .LVU1112
 3803 0052 0D4B     		ldr	r3, .L239+12
 3804 0054 1C70     		strb	r4, [r3]
1915:Drivers/RTT/SEGGER_RTT.c ****     } else {                                                                            // Skipping
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 107


 3805              		.loc 1 1915 7 is_stmt 1 view .LVU1113
 3806 0056 0222     		movs	r2, #2
 3807 0058 01A9     		add	r1, sp, #4
 3808 005a 0A48     		ldr	r0, .L239+8
 3809 005c FFF7FEFF 		bl	_WriteBlocking
 3810              	.LVL361:
 3811              	.LBE53:
1907:Drivers/RTT/SEGGER_RTT.c ****   ac[0] = 0xFFu;
 3812              		.loc 1 1907 5 is_stmt 0 view .LVU1114
 3813 0060 0020     		movs	r0, #0
 3814              	.LBB54:
 3815 0062 EFE7     		b	.L232
 3816              	.LVL362:
 3817              	.L238:
1919:Drivers/RTT/SEGGER_RTT.c ****         _WriteNoCheck(pRing, (const char*)ac, 2u);
 3818              		.loc 1 1919 9 is_stmt 1 view .LVU1115
1919:Drivers/RTT/SEGGER_RTT.c ****         _WriteNoCheck(pRing, (const char*)ac, 2u);
 3819              		.loc 1 1919 25 is_stmt 0 view .LVU1116
 3820 0064 084B     		ldr	r3, .L239+12
 3821 0066 1C70     		strb	r4, [r3]
1920:Drivers/RTT/SEGGER_RTT.c ****       } else {
 3822              		.loc 1 1920 9 is_stmt 1 view .LVU1117
 3823 0068 0222     		movs	r2, #2
 3824 006a 01A9     		add	r1, sp, #4
 3825 006c 0548     		ldr	r0, .L239+8
 3826              	.LVL363:
1920:Drivers/RTT/SEGGER_RTT.c ****       } else {
 3827              		.loc 1 1920 9 is_stmt 0 view .LVU1118
 3828 006e FFF7FEFF 		bl	_WriteNoCheck
 3829              	.LVL364:
 3830              	.LBE54:
1907:Drivers/RTT/SEGGER_RTT.c ****   ac[0] = 0xFFu;
 3831              		.loc 1 1907 5 view .LVU1119
 3832 0072 0020     		movs	r0, #0
 3833              	.LBB55:
 3834 0074 E6E7     		b	.L232
 3835              	.LVL365:
 3836              	.L233:
1907:Drivers/RTT/SEGGER_RTT.c ****   ac[0] = 0xFFu;
 3837              		.loc 1 1907 5 view .LVU1120
 3838              	.LBE55:
1927:Drivers/RTT/SEGGER_RTT.c ****   }
 3839              		.loc 1 1927 7 view .LVU1121
 3840 0076 4FF0FF30 		mov	r0, #-1
 3841              	.LVL366:
1929:Drivers/RTT/SEGGER_RTT.c **** }
 3842              		.loc 1 1929 3 is_stmt 1 view .LVU1122
1929:Drivers/RTT/SEGGER_RTT.c **** }
 3843              		.loc 1 1929 10 is_stmt 0 view .LVU1123
 3844 007a E5E7     		b	.L228
 3845              	.L240:
 3846              		.align	2
 3847              	.L239:
 3848 007c 00000000 		.word	.LANCHOR1
 3849 0080 00000000 		.word	.LANCHOR0
 3850 0084 18000000 		.word	.LANCHOR1+24
 3851 0088 00000000 		.word	.LANCHOR4
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 108


 3852              		.cfi_endproc
 3853              	.LFE32:
 3855              		.section	.text.SEGGER_RTT_TerminalOut,"ax",%progbits
 3856              		.align	1
 3857              		.global	SEGGER_RTT_TerminalOut
 3858              		.syntax unified
 3859              		.thumb
 3860              		.thumb_func
 3861              		.fpu fpv5-sp-d16
 3863              	SEGGER_RTT_TerminalOut:
 3864              	.LVL367:
 3865              	.LFB33:
1931:Drivers/RTT/SEGGER_RTT.c **** 
1932:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
1933:Drivers/RTT/SEGGER_RTT.c **** *
1934:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_TerminalOut
1935:Drivers/RTT/SEGGER_RTT.c **** *
1936:Drivers/RTT/SEGGER_RTT.c **** *  Function description
1937:Drivers/RTT/SEGGER_RTT.c **** *    Writes a string to the given terminal
1938:Drivers/RTT/SEGGER_RTT.c **** *     without changing the terminal for channel 0.
1939:Drivers/RTT/SEGGER_RTT.c **** *
1940:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
1941:Drivers/RTT/SEGGER_RTT.c **** *    TerminalId   Index of the terminal.
1942:Drivers/RTT/SEGGER_RTT.c **** *    s            String to be printed on the terminal.
1943:Drivers/RTT/SEGGER_RTT.c **** *
1944:Drivers/RTT/SEGGER_RTT.c **** *  Return value
1945:Drivers/RTT/SEGGER_RTT.c **** *    >= 0 - Number of bytes written.
1946:Drivers/RTT/SEGGER_RTT.c **** *     < 0 - Error.
1947:Drivers/RTT/SEGGER_RTT.c **** *
1948:Drivers/RTT/SEGGER_RTT.c **** */
1949:Drivers/RTT/SEGGER_RTT.c **** int SEGGER_RTT_TerminalOut (unsigned char TerminalId, const char* s) {
 3866              		.loc 1 1949 70 is_stmt 1 view -0
 3867              		.cfi_startproc
 3868              		@ args = 0, pretend = 0, frame = 0
 3869              		@ frame_needed = 0, uses_anonymous_args = 0
 3870              		.loc 1 1949 70 is_stmt 0 view .LVU1125
 3871 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3872              	.LCFI39:
 3873              		.cfi_def_cfa_offset 32
 3874              		.cfi_offset 3, -32
 3875              		.cfi_offset 4, -28
 3876              		.cfi_offset 5, -24
 3877              		.cfi_offset 6, -20
 3878              		.cfi_offset 7, -16
 3879              		.cfi_offset 8, -12
 3880              		.cfi_offset 9, -8
 3881              		.cfi_offset 14, -4
 3882 0004 0446     		mov	r4, r0
 3883 0006 0D46     		mov	r5, r1
1950:Drivers/RTT/SEGGER_RTT.c ****   int                   Status;
 3884              		.loc 1 1950 3 is_stmt 1 view .LVU1126
1951:Drivers/RTT/SEGGER_RTT.c ****   unsigned              FragLen;
 3885              		.loc 1 1951 3 view .LVU1127
1952:Drivers/RTT/SEGGER_RTT.c ****   unsigned              Avail;
 3886              		.loc 1 1952 3 view .LVU1128
1953:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 3887              		.loc 1 1953 3 view .LVU1129
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 109


 3888              	.LBB56:
1954:Drivers/RTT/SEGGER_RTT.c ****   //
1955:Drivers/RTT/SEGGER_RTT.c ****   INIT();
 3889              		.loc 1 1955 3 view .LVU1130
 3890              		.loc 1 1955 3 view .LVU1131
 3891              	.LVL368:
 3892              		.loc 1 1955 3 view .LVU1132
 3893              		.loc 1 1955 3 view .LVU1133
 3894 0008 354B     		ldr	r3, .L256
 3895 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3896 000c 03B3     		cbz	r3, .L252
 3897              	.LVL369:
 3898              	.L242:
 3899              		.loc 1 1955 3 discriminator 3 view .LVU1134
 3900              	.LBE56:
 3901              		.loc 1 1955 9 discriminator 3 view .LVU1135
1956:Drivers/RTT/SEGGER_RTT.c ****   //
1957:Drivers/RTT/SEGGER_RTT.c ****   // Validate terminal ID.
1958:Drivers/RTT/SEGGER_RTT.c ****   //
1959:Drivers/RTT/SEGGER_RTT.c ****   if (TerminalId < (char)sizeof(_aTerminalId)) { // We only support a certain number of channels
 3902              		.loc 1 1959 3 discriminator 3 view .LVU1136
 3903              		.loc 1 1959 6 is_stmt 0 discriminator 3 view .LVU1137
 3904 000e 0F2C     		cmp	r4, #15
 3905 0010 63D8     		bhi	.L247
1960:Drivers/RTT/SEGGER_RTT.c ****     //
1961:Drivers/RTT/SEGGER_RTT.c ****     // Get "to-host" ring buffer.
1962:Drivers/RTT/SEGGER_RTT.c ****     //
1963:Drivers/RTT/SEGGER_RTT.c ****     pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[0] + SEGGER_RTT_UNCACHED_OFF);  // Acce
 3906              		.loc 1 1963 5 is_stmt 1 view .LVU1138
 3907              	.LVL370:
1964:Drivers/RTT/SEGGER_RTT.c ****     //
1965:Drivers/RTT/SEGGER_RTT.c ****     // Need to be able to change terminal, write data, change back.
1966:Drivers/RTT/SEGGER_RTT.c ****     // Compute the fixed and variable sizes.
1967:Drivers/RTT/SEGGER_RTT.c ****     //
1968:Drivers/RTT/SEGGER_RTT.c ****     FragLen = STRLEN(s);
 3908              		.loc 1 1968 5 view .LVU1139
 3909              		.loc 1 1968 15 is_stmt 0 view .LVU1140
 3910 0012 2846     		mov	r0, r5
 3911 0014 FFF7FEFF 		bl	strlen
 3912              	.LVL371:
 3913 0018 8046     		mov	r8, r0
 3914              	.LVL372:
 3915              	.LBB57:
1969:Drivers/RTT/SEGGER_RTT.c ****     //
1970:Drivers/RTT/SEGGER_RTT.c ****     // How we output depends upon the mode...
1971:Drivers/RTT/SEGGER_RTT.c ****     //
1972:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_LOCK();
 3916              		.loc 1 1972 5 is_stmt 1 view .LVU1141
 3917              		.loc 1 1972 5 view .LVU1142
 3918              		.syntax unified
 3919              	@ 1972 "Drivers/RTT/SEGGER_RTT.c" 1
 3920 001a EFF31186 		mrs   r6, basepri  
 3921 001e 4FF02001 		mov   r1, #32       
 3922 0022 81F31188 		msr   basepri, r1  
 3923              		
 3924              	@ 0 "" 2
 3925              	.LVL373:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 110


 3926              		.loc 1 1972 22 view .LVU1143
1973:Drivers/RTT/SEGGER_RTT.c ****     Avail = _GetAvailWriteSpace(pRing);
 3927              		.loc 1 1973 5 view .LVU1144
 3928              		.loc 1 1973 13 is_stmt 0 view .LVU1145
 3929              		.thumb
 3930              		.syntax unified
 3931 0026 2E4F     		ldr	r7, .L256
 3932 0028 07F11800 		add	r0, r7, #24
 3933              	.LVL374:
 3934              		.loc 1 1973 13 view .LVU1146
 3935 002c FFF7FEFF 		bl	_GetAvailWriteSpace
 3936              	.LVL375:
 3937 0030 8146     		mov	r9, r0
 3938              	.LVL376:
1974:Drivers/RTT/SEGGER_RTT.c ****     switch (pRing->Flags & SEGGER_RTT_MODE_MASK) {
 3939              		.loc 1 1974 5 is_stmt 1 view .LVU1147
 3940              		.loc 1 1974 18 is_stmt 0 view .LVU1148
 3941 0032 FB6A     		ldr	r3, [r7, #44]
 3942              		.loc 1 1974 26 view .LVU1149
 3943 0034 03F00303 		and	r3, r3, #3
 3944              		.loc 1 1974 5 view .LVU1150
 3945 0038 012B     		cmp	r3, #1
 3946 003a 23D0     		beq	.L244
 3947 003c 022B     		cmp	r3, #2
 3948 003e 3BD0     		beq	.L245
 3949 0040 4BB1     		cbz	r3, .L253
 3950 0042 4FF0FF34 		mov	r4, #-1
 3951              	.LVL377:
 3952              	.L246:
1975:Drivers/RTT/SEGGER_RTT.c ****     case SEGGER_RTT_MODE_NO_BLOCK_SKIP:
1976:Drivers/RTT/SEGGER_RTT.c ****       //
1977:Drivers/RTT/SEGGER_RTT.c ****       // If we are in skip mode and there is no space for the whole
1978:Drivers/RTT/SEGGER_RTT.c ****       // of this output, don't bother switching terminals at all.
1979:Drivers/RTT/SEGGER_RTT.c ****       //
1980:Drivers/RTT/SEGGER_RTT.c ****       if (Avail < (FragLen + 4u)) {
1981:Drivers/RTT/SEGGER_RTT.c ****         Status = 0;
1982:Drivers/RTT/SEGGER_RTT.c ****       } else {
1983:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, TerminalId);
1984:Drivers/RTT/SEGGER_RTT.c ****         Status = (int)_WriteBlocking(pRing, s, FragLen);
1985:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
1986:Drivers/RTT/SEGGER_RTT.c ****       }
1987:Drivers/RTT/SEGGER_RTT.c ****       break;
1988:Drivers/RTT/SEGGER_RTT.c ****     case SEGGER_RTT_MODE_NO_BLOCK_TRIM:
1989:Drivers/RTT/SEGGER_RTT.c ****       //
1990:Drivers/RTT/SEGGER_RTT.c ****       // If we are in trim mode and there is not enough space for everything,
1991:Drivers/RTT/SEGGER_RTT.c ****       // trim the output but always include the terminal switch.  If no room
1992:Drivers/RTT/SEGGER_RTT.c ****       // for terminal switch, skip that totally.
1993:Drivers/RTT/SEGGER_RTT.c ****       //
1994:Drivers/RTT/SEGGER_RTT.c ****       if (Avail < 4u) {
1995:Drivers/RTT/SEGGER_RTT.c ****         Status = -1;
1996:Drivers/RTT/SEGGER_RTT.c ****       } else {
1997:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, TerminalId);
1998:Drivers/RTT/SEGGER_RTT.c ****         Status = (int)_WriteBlocking(pRing, s, (FragLen < (Avail - 4u)) ? FragLen : (Avail - 4u));
1999:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
2000:Drivers/RTT/SEGGER_RTT.c ****       }
2001:Drivers/RTT/SEGGER_RTT.c ****       break;
2002:Drivers/RTT/SEGGER_RTT.c ****     case SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL:
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 111


2003:Drivers/RTT/SEGGER_RTT.c ****       //
2004:Drivers/RTT/SEGGER_RTT.c ****       // If we are in blocking mode, output everything.
2005:Drivers/RTT/SEGGER_RTT.c ****       //
2006:Drivers/RTT/SEGGER_RTT.c ****       _PostTerminalSwitch(pRing, TerminalId);
2007:Drivers/RTT/SEGGER_RTT.c ****       Status = (int)_WriteBlocking(pRing, s, FragLen);
2008:Drivers/RTT/SEGGER_RTT.c ****       _PostTerminalSwitch(pRing, _ActiveTerminal);
2009:Drivers/RTT/SEGGER_RTT.c ****       break;
2010:Drivers/RTT/SEGGER_RTT.c ****     default:
2011:Drivers/RTT/SEGGER_RTT.c ****       Status = -1;
2012:Drivers/RTT/SEGGER_RTT.c ****       break;
2013:Drivers/RTT/SEGGER_RTT.c ****     }
2014:Drivers/RTT/SEGGER_RTT.c ****     //
2015:Drivers/RTT/SEGGER_RTT.c ****     // Finish up.
2016:Drivers/RTT/SEGGER_RTT.c ****     //
2017:Drivers/RTT/SEGGER_RTT.c ****     SEGGER_RTT_UNLOCK();
 3953              		.loc 1 2017 5 is_stmt 1 view .LVU1151
 3954              		.syntax unified
 3955              	@ 2017 "Drivers/RTT/SEGGER_RTT.c" 1
 3956 0046 86F31188 		msr   basepri, r6  
 3957              		
 3958              	@ 0 "" 2
 3959              		.thumb
 3960              		.syntax unified
 3961              	.LBE57:
 3962              		.loc 1 2017 24 view .LVU1152
 3963              	.LVL378:
 3964              	.L241:
2018:Drivers/RTT/SEGGER_RTT.c ****   } else {
2019:Drivers/RTT/SEGGER_RTT.c ****     Status = -1;
2020:Drivers/RTT/SEGGER_RTT.c ****   }
2021:Drivers/RTT/SEGGER_RTT.c ****   return Status;
2022:Drivers/RTT/SEGGER_RTT.c **** }
 3965              		.loc 1 2022 1 is_stmt 0 view .LVU1153
 3966 004a 2046     		mov	r0, r4
 3967 004c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 3968              	.LVL379:
 3969              	.L252:
 3970              	.LBB58:
1955:Drivers/RTT/SEGGER_RTT.c ****   //
 3971              		.loc 1 1955 3 is_stmt 1 discriminator 1 view .LVU1154
 3972 0050 FFF7FEFF 		bl	_DoInit
 3973              	.LVL380:
1955:Drivers/RTT/SEGGER_RTT.c ****   //
 3974              		.loc 1 1955 3 is_stmt 0 discriminator 1 view .LVU1155
 3975 0054 DBE7     		b	.L242
 3976              	.LVL381:
 3977              	.L253:
1955:Drivers/RTT/SEGGER_RTT.c ****   //
 3978              		.loc 1 1955 3 discriminator 1 view .LVU1156
 3979              	.LBE58:
 3980              	.LBB59:
1980:Drivers/RTT/SEGGER_RTT.c ****         Status = 0;
 3981              		.loc 1 1980 7 is_stmt 1 view .LVU1157
1980:Drivers/RTT/SEGGER_RTT.c ****         Status = 0;
 3982              		.loc 1 1980 28 is_stmt 0 view .LVU1158
 3983 0056 08F10403 		add	r3, r8, #4
1980:Drivers/RTT/SEGGER_RTT.c ****         Status = 0;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 112


 3984              		.loc 1 1980 10 view .LVU1159
 3985 005a 8342     		cmp	r3, r0
 3986 005c 01D9     		bls	.L254
1981:Drivers/RTT/SEGGER_RTT.c ****       } else {
 3987              		.loc 1 1981 16 view .LVU1160
 3988 005e 0024     		movs	r4, #0
 3989 0060 F1E7     		b	.L246
 3990              	.L254:
1983:Drivers/RTT/SEGGER_RTT.c ****         Status = (int)_WriteBlocking(pRing, s, FragLen);
 3991              		.loc 1 1983 9 is_stmt 1 view .LVU1161
 3992 0062 1837     		adds	r7, r7, #24
 3993 0064 2146     		mov	r1, r4
 3994 0066 3846     		mov	r0, r7
 3995              	.LVL382:
1983:Drivers/RTT/SEGGER_RTT.c ****         Status = (int)_WriteBlocking(pRing, s, FragLen);
 3996              		.loc 1 1983 9 is_stmt 0 view .LVU1162
 3997 0068 FFF7FEFF 		bl	_PostTerminalSwitch
 3998              	.LVL383:
1984:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
 3999              		.loc 1 1984 9 is_stmt 1 view .LVU1163
1984:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
 4000              		.loc 1 1984 23 is_stmt 0 view .LVU1164
 4001 006c 4246     		mov	r2, r8
 4002 006e 2946     		mov	r1, r5
 4003 0070 3846     		mov	r0, r7
 4004 0072 FFF7FEFF 		bl	_WriteBlocking
 4005              	.LVL384:
 4006 0076 0446     		mov	r4, r0
 4007              	.LVL385:
1985:Drivers/RTT/SEGGER_RTT.c ****       }
 4008              		.loc 1 1985 9 is_stmt 1 view .LVU1165
 4009 0078 1A4B     		ldr	r3, .L256+4
 4010 007a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4011 007c 3846     		mov	r0, r7
 4012              	.LVL386:
1985:Drivers/RTT/SEGGER_RTT.c ****       }
 4013              		.loc 1 1985 9 is_stmt 0 view .LVU1166
 4014 007e FFF7FEFF 		bl	_PostTerminalSwitch
 4015              	.LVL387:
 4016 0082 E0E7     		b	.L246
 4017              	.LVL388:
 4018              	.L244:
1994:Drivers/RTT/SEGGER_RTT.c ****         Status = -1;
 4019              		.loc 1 1994 7 is_stmt 1 view .LVU1167
1994:Drivers/RTT/SEGGER_RTT.c ****         Status = -1;
 4020              		.loc 1 1994 10 is_stmt 0 view .LVU1168
 4021 0084 0328     		cmp	r0, #3
 4022 0086 02D8     		bhi	.L255
1995:Drivers/RTT/SEGGER_RTT.c ****       } else {
 4023              		.loc 1 1995 16 view .LVU1169
 4024 0088 4FF0FF34 		mov	r4, #-1
 4025 008c DBE7     		b	.L246
 4026              	.L255:
1997:Drivers/RTT/SEGGER_RTT.c ****         Status = (int)_WriteBlocking(pRing, s, (FragLen < (Avail - 4u)) ? FragLen : (Avail - 4u));
 4027              		.loc 1 1997 9 is_stmt 1 view .LVU1170
 4028 008e 164F     		ldr	r7, .L256+8
 4029 0090 2146     		mov	r1, r4
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 113


 4030 0092 3846     		mov	r0, r7
 4031              	.LVL389:
1997:Drivers/RTT/SEGGER_RTT.c ****         Status = (int)_WriteBlocking(pRing, s, (FragLen < (Avail - 4u)) ? FragLen : (Avail - 4u));
 4032              		.loc 1 1997 9 is_stmt 0 view .LVU1171
 4033 0094 FFF7FEFF 		bl	_PostTerminalSwitch
 4034              	.LVL390:
1998:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
 4035              		.loc 1 1998 9 is_stmt 1 view .LVU1172
1998:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
 4036              		.loc 1 1998 66 is_stmt 0 view .LVU1173
 4037 0098 A9F10402 		sub	r2, r9, #4
1998:Drivers/RTT/SEGGER_RTT.c ****         _PostTerminalSwitch(pRing, _ActiveTerminal);
 4038              		.loc 1 1998 23 view .LVU1174
 4039 009c 4245     		cmp	r2, r8
 4040 009e 28BF     		it	cs
 4041 00a0 4246     		movcs	r2, r8
 4042 00a2 2946     		mov	r1, r5
 4043 00a4 3846     		mov	r0, r7
 4044 00a6 FFF7FEFF 		bl	_WriteBlocking
 4045              	.LVL391:
 4046 00aa 0446     		mov	r4, r0
 4047              	.LVL392:
1999:Drivers/RTT/SEGGER_RTT.c ****       }
 4048              		.loc 1 1999 9 is_stmt 1 view .LVU1175
 4049 00ac 0D4B     		ldr	r3, .L256+4
 4050 00ae 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4051 00b0 3846     		mov	r0, r7
 4052              	.LVL393:
1999:Drivers/RTT/SEGGER_RTT.c ****       }
 4053              		.loc 1 1999 9 is_stmt 0 view .LVU1176
 4054 00b2 FFF7FEFF 		bl	_PostTerminalSwitch
 4055              	.LVL394:
 4056 00b6 C6E7     		b	.L246
 4057              	.LVL395:
 4058              	.L245:
2006:Drivers/RTT/SEGGER_RTT.c ****       Status = (int)_WriteBlocking(pRing, s, FragLen);
 4059              		.loc 1 2006 7 is_stmt 1 view .LVU1177
 4060 00b8 0B4F     		ldr	r7, .L256+8
 4061 00ba 2146     		mov	r1, r4
 4062 00bc 3846     		mov	r0, r7
 4063              	.LVL396:
2006:Drivers/RTT/SEGGER_RTT.c ****       Status = (int)_WriteBlocking(pRing, s, FragLen);
 4064              		.loc 1 2006 7 is_stmt 0 view .LVU1178
 4065 00be FFF7FEFF 		bl	_PostTerminalSwitch
 4066              	.LVL397:
2007:Drivers/RTT/SEGGER_RTT.c ****       _PostTerminalSwitch(pRing, _ActiveTerminal);
 4067              		.loc 1 2007 7 is_stmt 1 view .LVU1179
2007:Drivers/RTT/SEGGER_RTT.c ****       _PostTerminalSwitch(pRing, _ActiveTerminal);
 4068              		.loc 1 2007 21 is_stmt 0 view .LVU1180
 4069 00c2 4246     		mov	r2, r8
 4070 00c4 2946     		mov	r1, r5
 4071 00c6 3846     		mov	r0, r7
 4072 00c8 FFF7FEFF 		bl	_WriteBlocking
 4073              	.LVL398:
 4074 00cc 0446     		mov	r4, r0
 4075              	.LVL399:
2008:Drivers/RTT/SEGGER_RTT.c ****       break;
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 114


 4076              		.loc 1 2008 7 is_stmt 1 view .LVU1181
 4077 00ce 054B     		ldr	r3, .L256+4
 4078 00d0 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4079 00d2 3846     		mov	r0, r7
 4080              	.LVL400:
2008:Drivers/RTT/SEGGER_RTT.c ****       break;
 4081              		.loc 1 2008 7 is_stmt 0 view .LVU1182
 4082 00d4 FFF7FEFF 		bl	_PostTerminalSwitch
 4083              	.LVL401:
2009:Drivers/RTT/SEGGER_RTT.c ****     default:
 4084              		.loc 1 2009 7 is_stmt 1 view .LVU1183
 4085 00d8 B5E7     		b	.L246
 4086              	.LVL402:
 4087              	.L247:
2009:Drivers/RTT/SEGGER_RTT.c ****     default:
 4088              		.loc 1 2009 7 is_stmt 0 view .LVU1184
 4089              	.LBE59:
2019:Drivers/RTT/SEGGER_RTT.c ****   }
 4090              		.loc 1 2019 12 view .LVU1185
 4091 00da 4FF0FF34 		mov	r4, #-1
 4092              	.LVL403:
2021:Drivers/RTT/SEGGER_RTT.c **** }
 4093              		.loc 1 2021 3 is_stmt 1 view .LVU1186
2021:Drivers/RTT/SEGGER_RTT.c **** }
 4094              		.loc 1 2021 10 is_stmt 0 view .LVU1187
 4095 00de B4E7     		b	.L241
 4096              	.L257:
 4097              		.align	2
 4098              	.L256:
 4099 00e0 00000000 		.word	.LANCHOR1
 4100 00e4 00000000 		.word	.LANCHOR4
 4101 00e8 18000000 		.word	.LANCHOR1+24
 4102              		.cfi_endproc
 4103              	.LFE33:
 4105              		.section	.text.SEGGER_RTT_GetAvailWriteSpace,"ax",%progbits
 4106              		.align	1
 4107              		.global	SEGGER_RTT_GetAvailWriteSpace
 4108              		.syntax unified
 4109              		.thumb
 4110              		.thumb_func
 4111              		.fpu fpv5-sp-d16
 4113              	SEGGER_RTT_GetAvailWriteSpace:
 4114              	.LVL404:
 4115              	.LFB34:
2023:Drivers/RTT/SEGGER_RTT.c **** 
2024:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
2025:Drivers/RTT/SEGGER_RTT.c **** *
2026:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_GetAvailWriteSpace
2027:Drivers/RTT/SEGGER_RTT.c **** *
2028:Drivers/RTT/SEGGER_RTT.c **** *  Function description
2029:Drivers/RTT/SEGGER_RTT.c **** *    Returns the number of bytes available in the ring buffer.
2030:Drivers/RTT/SEGGER_RTT.c **** *
2031:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
2032:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the up buffer.
2033:Drivers/RTT/SEGGER_RTT.c **** *
2034:Drivers/RTT/SEGGER_RTT.c **** *  Return value
2035:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that are free in the selected up buffer.
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 115


2036:Drivers/RTT/SEGGER_RTT.c **** */
2037:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_GetAvailWriteSpace (unsigned BufferIndex) {
 4116              		.loc 1 2037 63 is_stmt 1 view -0
 4117              		.cfi_startproc
 4118              		@ args = 0, pretend = 0, frame = 0
 4119              		@ frame_needed = 0, uses_anonymous_args = 0
 4120              		.loc 1 2037 63 is_stmt 0 view .LVU1189
 4121 0000 08B5     		push	{r3, lr}
 4122              	.LCFI40:
 4123              		.cfi_def_cfa_offset 8
 4124              		.cfi_offset 3, -8
 4125              		.cfi_offset 14, -4
2038:Drivers/RTT/SEGGER_RTT.c ****   SEGGER_RTT_BUFFER_UP* pRing;
 4126              		.loc 1 2038 3 is_stmt 1 view .LVU1190
2039:Drivers/RTT/SEGGER_RTT.c **** 
2040:Drivers/RTT/SEGGER_RTT.c ****   pRing = (SEGGER_RTT_BUFFER_UP*)((char*)&_SEGGER_RTT.aUp[BufferIndex] + SEGGER_RTT_UNCACHED_OFF); 
 4127              		.loc 1 2040 3 view .LVU1191
 4128              		.loc 1 2040 9 is_stmt 0 view .LVU1192
 4129 0002 0130     		adds	r0, r0, #1
 4130              	.LVL405:
 4131              		.loc 1 2040 9 view .LVU1193
 4132 0004 00EB4000 		add	r0, r0, r0, lsl #1
 4133              	.LVL406:
2041:Drivers/RTT/SEGGER_RTT.c ****   return _GetAvailWriteSpace(pRing);
 4134              		.loc 1 2041 3 is_stmt 1 view .LVU1194
 4135              		.loc 1 2041 10 is_stmt 0 view .LVU1195
 4136 0008 024B     		ldr	r3, .L260
 4137 000a 03EBC000 		add	r0, r3, r0, lsl #3
 4138              	.LVL407:
 4139              		.loc 1 2041 10 view .LVU1196
 4140 000e FFF7FEFF 		bl	_GetAvailWriteSpace
 4141              	.LVL408:
2042:Drivers/RTT/SEGGER_RTT.c **** }
 4142              		.loc 1 2042 1 view .LVU1197
 4143 0012 08BD     		pop	{r3, pc}
 4144              	.L261:
 4145              		.align	2
 4146              	.L260:
 4147 0014 00000000 		.word	.LANCHOR1
 4148              		.cfi_endproc
 4149              	.LFE34:
 4151              		.section	.text.SEGGER_RTT_GetBytesInBuffer,"ax",%progbits
 4152              		.align	1
 4153              		.global	SEGGER_RTT_GetBytesInBuffer
 4154              		.syntax unified
 4155              		.thumb
 4156              		.thumb_func
 4157              		.fpu fpv5-sp-d16
 4159              	SEGGER_RTT_GetBytesInBuffer:
 4160              	.LVL409:
 4161              	.LFB35:
2043:Drivers/RTT/SEGGER_RTT.c **** 
2044:Drivers/RTT/SEGGER_RTT.c **** 
2045:Drivers/RTT/SEGGER_RTT.c **** /*********************************************************************
2046:Drivers/RTT/SEGGER_RTT.c **** *
2047:Drivers/RTT/SEGGER_RTT.c **** *       SEGGER_RTT_GetBytesInBuffer()
2048:Drivers/RTT/SEGGER_RTT.c **** *
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 116


2049:Drivers/RTT/SEGGER_RTT.c **** *  Function description
2050:Drivers/RTT/SEGGER_RTT.c **** *    Returns the number of bytes currently used in the up buffer.
2051:Drivers/RTT/SEGGER_RTT.c **** *
2052:Drivers/RTT/SEGGER_RTT.c **** *  Parameters
2053:Drivers/RTT/SEGGER_RTT.c **** *    BufferIndex  Index of the up buffer.
2054:Drivers/RTT/SEGGER_RTT.c **** *
2055:Drivers/RTT/SEGGER_RTT.c **** *  Return value
2056:Drivers/RTT/SEGGER_RTT.c **** *    Number of bytes that are used in the buffer.
2057:Drivers/RTT/SEGGER_RTT.c **** */
2058:Drivers/RTT/SEGGER_RTT.c **** unsigned SEGGER_RTT_GetBytesInBuffer(unsigned BufferIndex) {
 4162              		.loc 1 2058 60 is_stmt 1 view -0
 4163              		.cfi_startproc
 4164              		@ args = 0, pretend = 0, frame = 0
 4165              		@ frame_needed = 0, uses_anonymous_args = 0
 4166              		@ link register save eliminated.
2059:Drivers/RTT/SEGGER_RTT.c ****   unsigned RdOff;
 4167              		.loc 1 2059 3 view .LVU1199
2060:Drivers/RTT/SEGGER_RTT.c ****   unsigned WrOff;
 4168              		.loc 1 2060 3 view .LVU1200
2061:Drivers/RTT/SEGGER_RTT.c ****   unsigned r;
 4169              		.loc 1 2061 3 view .LVU1201
2062:Drivers/RTT/SEGGER_RTT.c ****   volatile SEGGER_RTT_CB* pRTTCB;
 4170              		.loc 1 2062 3 view .LVU1202
2063:Drivers/RTT/SEGGER_RTT.c ****   //
2064:Drivers/RTT/SEGGER_RTT.c ****   // Avoid warnings regarding volatile access order.  It's not a problem
2065:Drivers/RTT/SEGGER_RTT.c ****   // in this case, but dampen compiler enthusiasm.
2066:Drivers/RTT/SEGGER_RTT.c ****   //
2067:Drivers/RTT/SEGGER_RTT.c ****   pRTTCB = (volatile SEGGER_RTT_CB*)((unsigned char*)&_SEGGER_RTT + SEGGER_RTT_UNCACHED_OFF);  // A
 4171              		.loc 1 2067 3 view .LVU1203
2068:Drivers/RTT/SEGGER_RTT.c ****   RdOff = pRTTCB->aUp[BufferIndex].RdOff;
 4172              		.loc 1 2068 3 view .LVU1204
 4173              		.loc 1 2068 9 is_stmt 0 view .LVU1205
 4174 0000 00EB4002 		add	r2, r0, r0, lsl #1
 4175 0004 084B     		ldr	r3, .L265
 4176 0006 03EBC203 		add	r3, r3, r2, lsl #3
 4177 000a 9A6A     		ldr	r2, [r3, #40]
 4178              	.LVL410:
2069:Drivers/RTT/SEGGER_RTT.c ****   WrOff = pRTTCB->aUp[BufferIndex].WrOff;
 4179              		.loc 1 2069 3 is_stmt 1 view .LVU1206
 4180              		.loc 1 2069 9 is_stmt 0 view .LVU1207
 4181 000c 5B6A     		ldr	r3, [r3, #36]
 4182              	.LVL411:
2070:Drivers/RTT/SEGGER_RTT.c ****   if (RdOff <= WrOff) {
 4183              		.loc 1 2070 3 is_stmt 1 view .LVU1208
 4184              		.loc 1 2070 6 is_stmt 0 view .LVU1209
 4185 000e 9A42     		cmp	r2, r3
 4186 0010 01D8     		bhi	.L263
2071:Drivers/RTT/SEGGER_RTT.c ****     r = WrOff - RdOff;
 4187              		.loc 1 2071 5 is_stmt 1 view .LVU1210
 4188              		.loc 1 2071 7 is_stmt 0 view .LVU1211
 4189 0012 981A     		subs	r0, r3, r2
 4190              	.LVL412:
 4191              		.loc 1 2071 7 view .LVU1212
 4192 0014 7047     		bx	lr
 4193              	.LVL413:
 4194              	.L263:
2072:Drivers/RTT/SEGGER_RTT.c ****   } else {
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 117


2073:Drivers/RTT/SEGGER_RTT.c ****     r = pRTTCB->aUp[BufferIndex].SizeOfBuffer - (WrOff - RdOff);
 4195              		.loc 1 2073 5 is_stmt 1 view .LVU1213
 4196              		.loc 1 2073 33 is_stmt 0 view .LVU1214
 4197 0016 00EB4000 		add	r0, r0, r0, lsl #1
 4198              	.LVL414:
 4199              		.loc 1 2073 33 view .LVU1215
 4200 001a 0349     		ldr	r1, .L265
 4201 001c 01EBC000 		add	r0, r1, r0, lsl #3
 4202 0020 006A     		ldr	r0, [r0, #32]
 4203              		.loc 1 2073 47 view .LVU1216
 4204 0022 D21A     		subs	r2, r2, r3
 4205              	.LVL415:
 4206              		.loc 1 2073 7 view .LVU1217
 4207 0024 1044     		add	r0, r0, r2
 4208              	.LVL416:
2074:Drivers/RTT/SEGGER_RTT.c ****   }
2075:Drivers/RTT/SEGGER_RTT.c ****   return r;
 4209              		.loc 1 2075 3 is_stmt 1 view .LVU1218
2076:Drivers/RTT/SEGGER_RTT.c **** }
 4210              		.loc 1 2076 1 is_stmt 0 view .LVU1219
 4211 0026 7047     		bx	lr
 4212              	.L266:
 4213              		.align	2
 4214              	.L265:
 4215 0028 00000000 		.word	.LANCHOR1
 4216              		.cfi_endproc
 4217              	.LFE35:
 4219              		.global	_SEGGER_RTT
 4220              		.section	.bss._ActiveTerminal,"aw",%nobits
 4221              		.set	.LANCHOR4,. + 0
 4224              	_ActiveTerminal:
 4225 0000 00       		.space	1
 4226              		.section	.bss._SEGGER_RTT,"aw",%nobits
 4227              		.align	2
 4228              		.set	.LANCHOR1,. + 0
 4231              	_SEGGER_RTT:
 4232 0000 00000000 		.space	168
 4232      00000000 
 4232      00000000 
 4232      00000000 
 4232      00000000 
 4233              		.section	.bss._acDownBuffer,"aw",%nobits
 4234              		.align	2
 4235              		.set	.LANCHOR3,. + 0
 4238              	_acDownBuffer:
 4239 0000 00000000 		.space	16
 4239      00000000 
 4239      00000000 
 4239      00000000 
 4240              		.section	.bss._acUpBuffer,"aw",%nobits
 4241              		.align	2
 4242              		.set	.LANCHOR2,. + 0
 4245              	_acUpBuffer:
 4246 0000 00000000 		.space	1024
 4246      00000000 
 4246      00000000 
 4246      00000000 
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 118


 4246      00000000 
 4247              		.section	.rodata._aTerminalId,"a"
 4248              		.align	2
 4249              		.set	.LANCHOR0,. + 0
 4252              	_aTerminalId:
 4253 0000 30313233 		.ascii	"0123456789ABCDEF"
 4253      34353637 
 4253      38394142 
 4253      43444546 
 4254              		.text
 4255              	.Letext0:
 4256              		.file 2 "Drivers/RTT/SEGGER_RTT.h"
 4257              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 4258              		.file 4 "<built-in>"
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 119


DEFINED SYMBOLS
                            *ABS*:00000000 SEGGER_RTT.c
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:18     .text._GetAvailWriteSpace:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:25     .text._GetAvailWriteSpace:00000000 _GetAvailWriteSpace
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:79     .text._WriteNoCheck:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:85     .text._WriteNoCheck:00000000 _WriteNoCheck
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:201    .text._WriteBlocking:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:207    .text._WriteBlocking:00000000 _WriteBlocking
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:361    .text._PostTerminalSwitch:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:367    .text._PostTerminalSwitch:00000000 _PostTerminalSwitch
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:409    .text._PostTerminalSwitch:00000020 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:414    .rodata._DoInit.str1.4:00000000 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:424    .text._DoInit:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:430    .text._DoInit:00000000 _DoInit
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:537    .text._DoInit:00000058 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:547    .text.SEGGER_RTT_ReadUpBufferNoLock:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:554    .text.SEGGER_RTT_ReadUpBufferNoLock:00000000 SEGGER_RTT_ReadUpBufferNoLock
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:749    .text.SEGGER_RTT_ReadUpBufferNoLock:000000a8 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:754    .text.SEGGER_RTT_ReadNoLock:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:761    .text.SEGGER_RTT_ReadNoLock:00000000 SEGGER_RTT_ReadNoLock
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:951    .text.SEGGER_RTT_ReadNoLock:0000009c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:956    .text.SEGGER_RTT_ReadUpBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:963    .text.SEGGER_RTT_ReadUpBuffer:00000000 SEGGER_RTT_ReadUpBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1015   .text.SEGGER_RTT_Read:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1022   .text.SEGGER_RTT_Read:00000000 SEGGER_RTT_Read
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1074   .text.SEGGER_RTT_WriteWithOverwriteNoLock:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1081   .text.SEGGER_RTT_WriteWithOverwriteNoLock:00000000 SEGGER_RTT_WriteWithOverwriteNoLock
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1336   .text.SEGGER_RTT_WriteWithOverwriteNoLock:00000114 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1341   .text.SEGGER_RTT_WriteDownBufferNoLock:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1348   .text.SEGGER_RTT_WriteDownBufferNoLock:00000000 SEGGER_RTT_WriteDownBufferNoLock
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1462   .text.SEGGER_RTT_WriteDownBufferNoLock:00000060 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1467   .text.SEGGER_RTT_WriteNoLock:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1474   .text.SEGGER_RTT_WriteNoLock:00000000 SEGGER_RTT_WriteNoLock
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1589   .text.SEGGER_RTT_WriteNoLock:00000068 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1594   .text.SEGGER_RTT_WriteDownBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1601   .text.SEGGER_RTT_WriteDownBuffer:00000000 SEGGER_RTT_WriteDownBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1681   .text.SEGGER_RTT_WriteDownBuffer:00000030 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1687   .text.SEGGER_RTT_Write:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1694   .text.SEGGER_RTT_Write:00000000 SEGGER_RTT_Write
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1774   .text.SEGGER_RTT_Write:00000030 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1780   .text.SEGGER_RTT_WriteString:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1787   .text.SEGGER_RTT_WriteString:00000000 SEGGER_RTT_WriteString
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1830   .text.SEGGER_RTT_PutCharSkipNoLock:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1837   .text.SEGGER_RTT_PutCharSkipNoLock:00000000 SEGGER_RTT_PutCharSkipNoLock
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1943   .text.SEGGER_RTT_PutCharSkipNoLock:00000050 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1948   .text.SEGGER_RTT_PutCharSkip:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:1955   .text.SEGGER_RTT_PutCharSkip:00000000 SEGGER_RTT_PutCharSkip
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2102   .text.SEGGER_RTT_PutCharSkip:00000070 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2108   .text.SEGGER_RTT_PutChar:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2115   .text.SEGGER_RTT_PutChar:00000000 SEGGER_RTT_PutChar
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2287   .text.SEGGER_RTT_PutChar:00000094 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2293   .text.SEGGER_RTT_GetKey:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2300   .text.SEGGER_RTT_GetKey:00000000 SEGGER_RTT_GetKey
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2352   .text.SEGGER_RTT_WaitKey:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2359   .text.SEGGER_RTT_WaitKey:00000000 SEGGER_RTT_WaitKey
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2389   .text.SEGGER_RTT_HasKey:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2396   .text.SEGGER_RTT_HasKey:00000000 SEGGER_RTT_HasKey
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 120


C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2461   .text.SEGGER_RTT_HasKey:00000020 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2466   .text.SEGGER_RTT_HasData:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2473   .text.SEGGER_RTT_HasData:00000000 SEGGER_RTT_HasData
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2504   .text.SEGGER_RTT_HasData:0000001c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2509   .text.SEGGER_RTT_HasDataUp:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2516   .text.SEGGER_RTT_HasDataUp:00000000 SEGGER_RTT_HasDataUp
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2547   .text.SEGGER_RTT_HasDataUp:0000001c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2552   .text.SEGGER_RTT_AllocDownBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2559   .text.SEGGER_RTT_AllocDownBuffer:00000000 SEGGER_RTT_AllocDownBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2712   .text.SEGGER_RTT_AllocDownBuffer:00000074 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2718   .text.SEGGER_RTT_AllocUpBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2725   .text.SEGGER_RTT_AllocUpBuffer:00000000 SEGGER_RTT_AllocUpBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2886   .text.SEGGER_RTT_AllocUpBuffer:00000088 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2892   .text.SEGGER_RTT_ConfigUpBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:2899   .text.SEGGER_RTT_ConfigUpBuffer:00000000 SEGGER_RTT_ConfigUpBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3035   .text.SEGGER_RTT_ConfigUpBuffer:00000070 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3040   .text.SEGGER_RTT_ConfigDownBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3047   .text.SEGGER_RTT_ConfigDownBuffer:00000000 SEGGER_RTT_ConfigDownBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3184   .text.SEGGER_RTT_ConfigDownBuffer:00000064 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3189   .text.SEGGER_RTT_SetNameUpBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3196   .text.SEGGER_RTT_SetNameUpBuffer:00000000 SEGGER_RTT_SetNameUpBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3300   .text.SEGGER_RTT_SetNameUpBuffer:0000003c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3305   .text.SEGGER_RTT_SetNameDownBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3312   .text.SEGGER_RTT_SetNameDownBuffer:00000000 SEGGER_RTT_SetNameDownBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3413   .text.SEGGER_RTT_SetNameDownBuffer:0000003c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3418   .text.SEGGER_RTT_SetFlagsUpBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3425   .text.SEGGER_RTT_SetFlagsUpBuffer:00000000 SEGGER_RTT_SetFlagsUpBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3526   .text.SEGGER_RTT_SetFlagsUpBuffer:0000003c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3531   .text.SEGGER_RTT_SetFlagsDownBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3538   .text.SEGGER_RTT_SetFlagsDownBuffer:00000000 SEGGER_RTT_SetFlagsDownBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3639   .text.SEGGER_RTT_SetFlagsDownBuffer:0000003c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3644   .text.SEGGER_RTT_Init:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3651   .text.SEGGER_RTT_Init:00000000 SEGGER_RTT_Init
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3671   .text.SEGGER_RTT_SetTerminal:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3678   .text.SEGGER_RTT_SetTerminal:00000000 SEGGER_RTT_SetTerminal
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3848   .text.SEGGER_RTT_SetTerminal:0000007c $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3856   .text.SEGGER_RTT_TerminalOut:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:3863   .text.SEGGER_RTT_TerminalOut:00000000 SEGGER_RTT_TerminalOut
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4099   .text.SEGGER_RTT_TerminalOut:000000e0 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4106   .text.SEGGER_RTT_GetAvailWriteSpace:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4113   .text.SEGGER_RTT_GetAvailWriteSpace:00000000 SEGGER_RTT_GetAvailWriteSpace
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4147   .text.SEGGER_RTT_GetAvailWriteSpace:00000014 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4152   .text.SEGGER_RTT_GetBytesInBuffer:00000000 $t
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4159   .text.SEGGER_RTT_GetBytesInBuffer:00000000 SEGGER_RTT_GetBytesInBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4215   .text.SEGGER_RTT_GetBytesInBuffer:00000028 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4231   .bss._SEGGER_RTT:00000000 _SEGGER_RTT
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4224   .bss._ActiveTerminal:00000000 _ActiveTerminal
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4225   .bss._ActiveTerminal:00000000 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4227   .bss._SEGGER_RTT:00000000 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4234   .bss._acDownBuffer:00000000 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4238   .bss._acDownBuffer:00000000 _acDownBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4241   .bss._acUpBuffer:00000000 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4245   .bss._acUpBuffer:00000000 _acUpBuffer
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4248   .rodata._aTerminalId:00000000 $d
C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s:4252   .rodata._aTerminalId:00000000 _aTerminalId

UNDEFINED SYMBOLS
ARM GAS  C:\Users\seblo\AppData\Local\Temp\ccqImqhn.s 			page 121


memcpy
strlen
